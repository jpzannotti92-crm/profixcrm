var sS=Object.defineProperty;var nS=(e,t,r)=>t in e?sS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Se=(e,t,r)=>(nS(e,typeof t!="symbol"?t+"":t,r),r),Fm=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var q=(e,t,r)=>(Fm(e,t,"read from private field"),r?r.call(e):t.get(e)),Pe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},je=(e,t,r,s)=>(Fm(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);var i0=(e,t,r,s)=>({set _(n){je(e,t,n,r)},get _(){return q(e,t,s)}}),Xe=(e,t,r)=>(Fm(e,t,"access private method"),r);function aS(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const a=Object.getOwnPropertyDescriptor(s,n);a&&Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();function iS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l_={exports:{}},Ih={},c_={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),oS=Symbol.for("react.portal"),lS=Symbol.for("react.fragment"),cS=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),xS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),av=Symbol.iterator;function gS(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u_=Object.assign,f_={};function oc(e,t,r){this.props=e,this.context=t,this.refs=f_,this.updater=r||d_}oc.prototype.isReactComponent={};oc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=oc.prototype;function zg(e,t,r){this.props=e,this.context=t,this.refs=f_,this.updater=r||d_}var Vg=zg.prototype=new h_;Vg.constructor=zg;u_(Vg,oc.prototype);Vg.isPureReactComponent=!0;var iv=Array.isArray,m_=Object.prototype.hasOwnProperty,Hg={current:null},x_={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var s,n={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)m_.call(t,s)&&!x_.hasOwnProperty(s)&&(n[s]=t[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:Ou,type:e,key:a,ref:i,props:n,_owner:Hg.current}}function yS(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function vS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ov=/\/+/g;function Rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vS(""+e.key):t.toString(36)}function rf(e,t,r,s,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ou:case oS:i=!0}}if(i)return i=e,n=n(i),e=s===""?"."+Rm(i,0):s,iv(n)?(r="",e!=null&&(r=e.replace(ov,"$&/")+"/"),rf(n,t,r,"",function(d){return d})):n!=null&&(Wg(n)&&(n=yS(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(ov,"$&/")+"/")+e)),t.push(n)),1;if(i=0,s=s===""?".":s+":",iv(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Rm(a,l);i+=rf(a,t,r,c,n)}else if(c=gS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Rm(a,l++),i+=rf(a,t,r,c,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function o0(e,t,r){if(e==null)return e;var s=[],n=0;return rf(e,s,"","",function(a){return t.call(r,a,n++)}),s}function bS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jr={current:null},sf={transition:null},wS={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:sf,ReactCurrentOwner:Hg};function g_(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:o0,forEach:function(e,t,r){o0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return o0(e,function(){t++}),t},toArray:function(e){return o0(e,function(t){return t})||[]},only:function(e){if(!Wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=oc;Qe.Fragment=lS;Qe.Profiler=dS;Qe.PureComponent=zg;Qe.StrictMode=cS;Qe.Suspense=mS;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS;Qe.act=g_;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=u_({},e.props),n=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Hg.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)m_.call(t,c)&&!x_.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ou,type:e.type,key:n,ref:a,props:s,_owner:i}};Qe.createContext=function(e){return e={$$typeof:fS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uS,_context:e},e.Consumer=e};Qe.createElement=p_;Qe.createFactory=function(e){var t=p_.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:hS,render:e}};Qe.isValidElement=Wg;Qe.lazy=function(e){return{$$typeof:pS,_payload:{_status:-1,_result:e},_init:bS}};Qe.memo=function(e,t){return{$$typeof:xS,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=sf.transition;sf.transition={};try{e()}finally{sf.transition=t}};Qe.unstable_act=g_;Qe.useCallback=function(e,t){return Jr.current.useCallback(e,t)};Qe.useContext=function(e){return Jr.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Jr.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Jr.current.useEffect(e,t)};Qe.useId=function(){return Jr.current.useId()};Qe.useImperativeHandle=function(e,t,r){return Jr.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return Jr.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Jr.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Jr.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return Jr.current.useReducer(e,t,r)};Qe.useRef=function(e){return Jr.current.useRef(e)};Qe.useState=function(e){return Jr.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return Jr.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return Jr.current.useTransition()};Qe.version="18.3.1";c_.exports=Qe;var w=c_.exports;const Ie=iS(w),Gl=aS({__proto__:null,default:Ie},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=w,_S=Symbol.for("react.element"),NS=Symbol.for("react.fragment"),jS=Object.prototype.hasOwnProperty,ES=kS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SS={key:!0,ref:!0,__self:!0,__source:!0};function y_(e,t,r){var s,n={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)jS.call(t,s)&&!SS.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:_S,type:e,key:a,ref:i,props:n,_owner:ES.current}}Ih.Fragment=NS;Ih.jsx=y_;Ih.jsxs=y_;l_.exports=Ih;var o=l_.exports,Wx={},v_={exports:{}},Es={},b_={exports:{}},w_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,V){var X=ne.length;ne.push(V);e:for(;0<X;){var ee=X-1>>>1,R=ne[ee];if(0<n(R,V))ne[ee]=V,ne[X]=R,X=ee;else break e}}function r(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var V=ne[0],X=ne.pop();if(X!==V){ne[0]=X;e:for(var ee=0,R=ne.length,K=R>>>1;ee<K;){var z=2*(ee+1)-1,H=ne[z],Q=z+1,de=ne[Q];if(0>n(H,X))Q<R&&0>n(de,H)?(ne[ee]=de,ne[Q]=X,ee=Q):(ne[ee]=H,ne[z]=X,ee=z);else if(Q<R&&0>n(de,X))ne[ee]=de,ne[Q]=X,ee=Q;else break e}}return V}function n(ne,V){var X=ne.sortIndex-V.sortIndex;return X!==0?X:ne.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ne){for(var V=r(d);V!==null;){if(V.callback===null)s(d);else if(V.startTime<=ne)s(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(d)}}function _(ne){if(p=!1,b(ne),!x)if(r(c)!==null)x=!0,G(j);else{var V=r(d);V!==null&&oe(_,V.startTime-ne)}}function j(ne,V){x=!1,p&&(p=!1,y(k),k=-1),m=!0;var X=h;try{for(b(V),f=r(c);f!==null&&(!(f.expirationTime>V)||ne&&!A());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var R=ee(f.expirationTime<=V);V=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&s(c),b(V)}else s(c);f=r(c)}if(f!==null)var K=!0;else{var z=r(d);z!==null&&oe(_,z.startTime-V),K=!1}return K}finally{f=null,h=X,m=!1}}var S=!1,N=null,k=-1,E=5,C=-1;function A(){return!(e.unstable_now()-C<E)}function F(){if(N!==null){var ne=e.unstable_now();C=ne;var V=!0;try{V=N(!0,ne)}finally{V?M():(S=!1,N=null)}}else S=!1}var M;if(typeof v=="function")M=function(){v(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,L=Y.port2;Y.port1.onmessage=F,M=function(){L.postMessage(null)}}else M=function(){g(F,0)};function G(ne){N=ne,S||(S=!0,M())}function oe(ne,V){k=g(function(){ne(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,G(j))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var X=h;h=V;try{return ne()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,V){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var X=h;h=ne;try{return V()}finally{h=X}},e.unstable_scheduleCallback=function(ne,V,X){var ee=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,ne){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=X+R,ne={id:u++,callback:V,priorityLevel:ne,startTime:X,expirationTime:R,sortIndex:-1},X>ee?(ne.sortIndex=X,t(d,ne),r(c)===null&&ne===r(d)&&(p?(y(k),k=-1):p=!0,oe(_,X-ee))):(ne.sortIndex=R,t(c,ne),x||m||(x=!0,G(j))),ne},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(ne){var V=h;return function(){var X=h;h=V;try{return ne.apply(this,arguments)}finally{h=X}}}})(w_);b_.exports=w_;var CS=b_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=w,Ns=CS;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,Dd={};function Io(e,t){Kl(e,t),Kl(e+"Capture",t)}function Kl(e,t){for(Dd[e]=t,e=0;e<t.length;e++)k_.add(t[e])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qx=Object.prototype.hasOwnProperty,AS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},cv={};function FS(e){return qx.call(cv,e)?!0:qx.call(lv,e)?!1:AS.test(e)?cv[e]=!0:(lv[e]=!0,!1)}function RS(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PS(e,t,r,s){if(t===null||typeof t>"u"||RS(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function es(e,t,r,s,n,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Gg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Gg);br[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Gg);br[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Gg);br[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kg(e,t,r,s){var n=br.hasOwnProperty(t)?br[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PS(t,r,n,s)&&(r=null),s||n===null?FS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ka=TS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l0=Symbol.for("react.element"),il=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),N_=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Xx=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),j_=Symbol.for("react.offscreen"),dv=Symbol.iterator;function Cc(e){return e===null||typeof e!="object"?null:(e=dv&&e[dv]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,Pm;function Xc(e){if(Pm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pm=t&&t[1]||""}return`
`+Pm+e}var Mm=!1;function Om(e,t){if(!e||Mm)return"";Mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),a=s.stack.split(`
`),i=n.length-1,l=a.length-1;1<=i&&0<=l&&n[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||n[i]!==a[l]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xc(e):""}function MS(e){switch(e.tag){case 5:return Xc(e.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function Yx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ol:return"Fragment";case il:return"Portal";case Gx:return"Profiler";case Xg:return"StrictMode";case Kx:return"Suspense";case Xx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N_:return(e.displayName||"Context")+".Consumer";case __:return(e._context.displayName||"Context")+".Provider";case Yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qg:return t=e.displayName||null,t!==null?t:Yx(e.type)||"Memo";case Pa:t=e._payload,e=e._init;try{return Yx(e(t))}catch{}}return null}function OS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yx(t);case 8:return t===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LS(e){var t=E_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function c0(e){e._valueTracker||(e._valueTracker=LS(e))}function S_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=E_(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qx(e,t){var r=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uv(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=wi(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function C_(e,t){t=t.checked,t!=null&&Kg(e,"checked",t,!1)}function Zx(e,t){C_(e,t);var r=wi(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jx(e,t.type,wi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jx(e,t,r){(t!=="number"||Tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yc=Array.isArray;function bl(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+wi(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ep(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(Yc(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wi(r)}}function T_(e,t){var r=wi(t.value),s=wi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function mv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var d0,F_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(d0=d0||document.createElement("div"),d0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=d0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Id(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DS=["Webkit","ms","Moz","O"];Object.keys(fd).forEach(function(e){DS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fd[t]=fd[e]})});function R_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fd.hasOwnProperty(e)&&fd[e]?(""+t).trim():t+"px"}function P_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=R_(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var IS=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rp(e,t){if(t){if(IS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function sp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Zg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ap=null,wl=null,kl=null;function xv(e){if(e=Iu(e)){if(typeof ap!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Vh(t),ap(e.stateNode,e.type,t))}}function M_(e){wl?kl?kl.push(e):kl=[e]:wl=e}function O_(){if(wl){var e=wl,t=kl;if(kl=wl=null,xv(e),t)for(e=0;e<t.length;e++)xv(t[e])}}function L_(e,t){return e(t)}function D_(){}var Lm=!1;function I_(e,t,r){if(Lm)return e(t,r);Lm=!0;try{return L_(e,t,r)}finally{Lm=!1,(wl!==null||kl!==null)&&(D_(),O_())}}function Bd(e,t){var r=e.stateNode;if(r===null)return null;var s=Vh(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var ip=!1;if(xa)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{ip=!1}function BS(e,t,r,s,n,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var hd=!1,Af=null,Ff=!1,op=null,US={onError:function(e){hd=!0,Af=e}};function $S(e,t,r,s,n,a,i,l,c){hd=!1,Af=null,BS.apply(US,arguments)}function zS(e,t,r,s,n,a,i,l,c){if($S.apply(this,arguments),hd){if(hd){var d=Af;hd=!1,Af=null}else throw Error(ve(198));Ff||(Ff=!0,op=d)}}function Bo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pv(e){if(Bo(e)!==e)throw Error(ve(188))}function VS(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return pv(n),e;if(a===s)return pv(n),t;a=a.sibling}throw Error(ve(188))}if(r.return!==s.return)r=n,s=a;else{for(var i=!1,l=n.child;l;){if(l===r){i=!0,r=n,s=a;break}if(l===s){i=!0,s=n,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,s=n;break}if(l===s){i=!0,s=a,r=n;break}l=l.sibling}if(!i)throw Error(ve(189))}}if(r.alternate!==s)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function U_(e){return e=VS(e),e!==null?$_(e):null}function $_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$_(e);if(t!==null)return t;e=e.sibling}return null}var z_=Ns.unstable_scheduleCallback,gv=Ns.unstable_cancelCallback,HS=Ns.unstable_shouldYield,WS=Ns.unstable_requestPaint,Bt=Ns.unstable_now,qS=Ns.unstable_getCurrentPriorityLevel,Jg=Ns.unstable_ImmediatePriority,V_=Ns.unstable_UserBlockingPriority,Rf=Ns.unstable_NormalPriority,GS=Ns.unstable_LowPriority,H_=Ns.unstable_IdlePriority,Bh=null,Ln=null;function KS(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Bh,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:QS,XS=Math.log,YS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(XS(e)/YS|0)|0}var u0=64,f0=4194304;function Qc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pf(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~n;l!==0?s=Qc(l):(a&=i,a!==0&&(s=Qc(a)))}else i=r&~n,i!==0?s=Qc(i):a!==0&&(s=Qc(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-un(t),n=1<<r,s|=e[r],t&=~n;return s}function ZS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JS(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-un(a),l=1<<i,c=n[i];c===-1?(!(l&r)||l&s)&&(n[i]=ZS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W_(){var e=u0;return u0<<=1,!(u0&4194240)&&(u0=64),e}function Dm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=r}function eC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-un(r),a=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~a}}function e1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-un(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var dt=0;function q_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G_,t1,K_,X_,Y_,cp=!1,h0=[],ci=null,di=null,ui=null,Ud=new Map,$d=new Map,Oa=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Ud.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(t.pointerId)}}function Ac(e,t,r,s,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},t!==null&&(t=Iu(t),t!==null&&t1(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function rC(e,t,r,s,n){switch(t){case"focusin":return ci=Ac(ci,e,t,r,s,n),!0;case"dragenter":return di=Ac(di,e,t,r,s,n),!0;case"mouseover":return ui=Ac(ui,e,t,r,s,n),!0;case"pointerover":var a=n.pointerId;return Ud.set(a,Ac(Ud.get(a)||null,e,t,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,$d.set(a,Ac($d.get(a)||null,e,t,r,s,n)),!0}return!1}function Q_(e){var t=qi(e.target);if(t!==null){var r=Bo(t);if(r!==null){if(t=r.tag,t===13){if(t=B_(r),t!==null){e.blockedOn=t,Y_(e.priority,function(){K_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);np=s,r.target.dispatchEvent(s),np=null}else return t=Iu(r),t!==null&&t1(t),e.blockedOn=r,!1;t.shift()}return!0}function vv(e,t,r){nf(e)&&r.delete(t)}function sC(){cp=!1,ci!==null&&nf(ci)&&(ci=null),di!==null&&nf(di)&&(di=null),ui!==null&&nf(ui)&&(ui=null),Ud.forEach(vv),$d.forEach(vv)}function Fc(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,sC)))}function zd(e){function t(n){return Fc(n,e)}if(0<h0.length){Fc(h0[0],e);for(var r=1;r<h0.length;r++){var s=h0[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ci!==null&&Fc(ci,e),di!==null&&Fc(di,e),ui!==null&&Fc(ui,e),Ud.forEach(t),$d.forEach(t),r=0;r<Oa.length;r++)s=Oa[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Oa.length&&(r=Oa[0],r.blockedOn===null);)Q_(r),r.blockedOn===null&&Oa.shift()}var _l=ka.ReactCurrentBatchConfig,Mf=!0;function nC(e,t,r,s){var n=dt,a=_l.transition;_l.transition=null;try{dt=1,r1(e,t,r,s)}finally{dt=n,_l.transition=a}}function aC(e,t,r,s){var n=dt,a=_l.transition;_l.transition=null;try{dt=4,r1(e,t,r,s)}finally{dt=n,_l.transition=a}}function r1(e,t,r,s){if(Mf){var n=dp(e,t,r,s);if(n===null)Gm(e,t,s,Of,r),yv(e,s);else if(rC(n,e,t,r,s))s.stopPropagation();else if(yv(e,s),t&4&&-1<tC.indexOf(e)){for(;n!==null;){var a=Iu(n);if(a!==null&&G_(a),a=dp(e,t,r,s),a===null&&Gm(e,t,s,Of,r),a===n)break;n=a}n!==null&&s.stopPropagation()}else Gm(e,t,s,null,r)}}var Of=null;function dp(e,t,r,s){if(Of=null,e=Zg(s),e=qi(e),e!==null)if(t=Bo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Of=e,null}function Z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qS()){case Jg:return 1;case V_:return 4;case Rf:case GS:return 16;case H_:return 536870912;default:return 16}default:return 16}}var Qa=null,s1=null,af=null;function J_(){if(af)return af;var e,t=s1,r=t.length,s,n="value"in Qa?Qa.value:Qa.textContent,a=n.length;for(e=0;e<r&&t[e]===n[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===n[a-s];s++);return af=n.slice(e,1<s?1-s:void 0)}function of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m0(){return!0}function bv(){return!1}function Ss(e){function t(r,s,n,a,i){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?m0:bv,this.isPropagationStopped=bv,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),t}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=Ss(lc),Du=Ft({},lc,{view:0,detail:0}),iC=Ss(Du),Im,Bm,Rc,Uh=Ft({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rc&&(Rc&&e.type==="mousemove"?(Im=e.screenX-Rc.screenX,Bm=e.screenY-Rc.screenY):Bm=Im=0,Rc=e),Im)},movementY:function(e){return"movementY"in e?e.movementY:Bm}}),wv=Ss(Uh),oC=Ft({},Uh,{dataTransfer:0}),lC=Ss(oC),cC=Ft({},Du,{relatedTarget:0}),Um=Ss(cC),dC=Ft({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=Ss(dC),fC=Ft({},lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hC=Ss(fC),mC=Ft({},lc,{data:0}),kv=Ss(mC),xC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gC[e])?!!t[e]:!1}function a1(){return yC}var vC=Ft({},Du,{key:function(e){if(e.key){var t=xC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a1,charCode:function(e){return e.type==="keypress"?of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bC=Ss(vC),wC=Ft({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=Ss(wC),kC=Ft({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a1}),_C=Ss(kC),NC=Ft({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),jC=Ss(NC),EC=Ft({},Uh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SC=Ss(EC),CC=[9,13,27,32],i1=xa&&"CompositionEvent"in window,md=null;xa&&"documentMode"in document&&(md=document.documentMode);var TC=xa&&"TextEvent"in window&&!md,e4=xa&&(!i1||md&&8<md&&11>=md),Nv=String.fromCharCode(32),jv=!1;function t4(e,t){switch(e){case"keyup":return CC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function AC(e,t){switch(e){case"compositionend":return r4(t);case"keypress":return t.which!==32?null:(jv=!0,Nv);case"textInput":return e=t.data,e===Nv&&jv?null:e;default:return null}}function FC(e,t){if(ll)return e==="compositionend"||!i1&&t4(e,t)?(e=J_(),af=s1=Qa=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e4&&t.locale!=="ko"?null:t.data;default:return null}}var RC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RC[e.type]:t==="textarea"}function s4(e,t,r,s){M_(s),t=Lf(t,"onChange"),0<t.length&&(r=new n1("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var xd=null,Vd=null;function PC(e){m4(e,0)}function $h(e){var t=ul(e);if(S_(t))return e}function MC(e,t){if(e==="change")return t}var n4=!1;if(xa){var $m;if(xa){var zm="oninput"in document;if(!zm){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),zm=typeof Sv.oninput=="function"}$m=zm}else $m=!1;n4=$m&&(!document.documentMode||9<document.documentMode)}function Cv(){xd&&(xd.detachEvent("onpropertychange",a4),Vd=xd=null)}function a4(e){if(e.propertyName==="value"&&$h(Vd)){var t=[];s4(t,Vd,e,Zg(e)),I_(PC,t)}}function OC(e,t,r){e==="focusin"?(Cv(),xd=t,Vd=r,xd.attachEvent("onpropertychange",a4)):e==="focusout"&&Cv()}function LC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $h(Vd)}function DC(e,t){if(e==="click")return $h(t)}function IC(e,t){if(e==="input"||e==="change")return $h(t)}function BC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:BC;function Hd(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!qx.call(t,n)||!pn(e[n],t[n]))return!1}return!0}function Tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Av(e,t){var r=Tv(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tv(r)}}function i4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o4(){for(var e=window,t=Tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tf(e.document)}return t}function o1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UC(e){var t=o4(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&i4(r.ownerDocument.documentElement,r)){if(s!==null&&o1(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=s.end===void 0?a:Math.min(s.end,n),!e.extend&&a>s&&(n=s,s=a,a=n),n=Av(r,a);var i=Av(r,s);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $C=xa&&"documentMode"in document&&11>=document.documentMode,cl=null,up=null,pd=null,fp=!1;function Fv(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fp||cl==null||cl!==Tf(s)||(s=cl,"selectionStart"in s&&o1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pd&&Hd(pd,s)||(pd=s,s=Lf(up,"onSelect"),0<s.length&&(t=new n1("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=cl)))}function x0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dl={animationend:x0("Animation","AnimationEnd"),animationiteration:x0("Animation","AnimationIteration"),animationstart:x0("Animation","AnimationStart"),transitionend:x0("Transition","TransitionEnd")},Vm={},l4={};xa&&(l4=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function zh(e){if(Vm[e])return Vm[e];if(!dl[e])return e;var t=dl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l4)return Vm[e]=t[r];return e}var c4=zh("animationend"),d4=zh("animationiteration"),u4=zh("animationstart"),f4=zh("transitionend"),h4=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){h4.set(e,t),Io(t,[e])}for(var Hm=0;Hm<Rv.length;Hm++){var Wm=Rv[Hm],zC=Wm.toLowerCase(),VC=Wm[0].toUpperCase()+Wm.slice(1);Ci(zC,"on"+VC)}Ci(c4,"onAnimationEnd");Ci(d4,"onAnimationIteration");Ci(u4,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(f4,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function Pv(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,zS(s,t,void 0,e),e.currentTarget=null}function m4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&n.isPropagationStopped())break e;Pv(n,l,d),a=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&n.isPropagationStopped())break e;Pv(n,l,d),a=c}}}if(Ff)throw e=op,Ff=!1,op=null,e}function vt(e,t){var r=t[gp];r===void 0&&(r=t[gp]=new Set);var s=e+"__bubble";r.has(s)||(x4(t,e,2,!1),r.add(s))}function qm(e,t,r){var s=0;t&&(s|=4),x4(r,e,s,t)}var p0="_reactListening"+Math.random().toString(36).slice(2);function Wd(e){if(!e[p0]){e[p0]=!0,k_.forEach(function(r){r!=="selectionchange"&&(HC.has(r)||qm(r,!1,e),qm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[p0]||(t[p0]=!0,qm("selectionchange",!1,t))}}function x4(e,t,r,s){switch(Z_(t)){case 1:var n=nC;break;case 4:n=aC;break;default:n=r1}r=n.bind(null,t,r,e),n=void 0,!ip||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Gm(e,t,r,s,n){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;l!==null;){if(i=qi(l),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}l=l.parentNode}}s=s.return}I_(function(){var d=a,u=Zg(r),f=[];e:{var h=h4.get(e);if(h!==void 0){var m=n1,x=e;switch(e){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":m=bC;break;case"focusin":x="focus",m=Um;break;case"focusout":x="blur",m=Um;break;case"beforeblur":case"afterblur":m=Um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_C;break;case c4:case d4:case u4:m=uC;break;case f4:m=jC;break;case"scroll":m=iC;break;case"wheel":m=SC;break;case"copy":case"cut":case"paste":m=hC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_v}var p=(t&4)!==0,g=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=d,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Bd(v,y),_!=null&&p.push(qd(v,_,b)))),g)break;v=v.return}0<p.length&&(h=new m(h,x,null,r,u),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==np&&(x=r.relatedTarget||r.fromElement)&&(qi(x)||x[pa]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?qi(x):null,x!==null&&(g=Bo(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=wv,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=_v,_="onPointerLeave",y="onPointerEnter",v="pointer"),g=m==null?h:ul(m),b=x==null?h:ul(x),h=new p(_,v+"leave",m,r,u),h.target=g,h.relatedTarget=b,_=null,qi(u)===d&&(p=new p(y,v+"enter",x,r,u),p.target=b,p.relatedTarget=g,_=p),g=_,m&&x)t:{for(p=m,y=x,v=0,b=p;b;b=Yo(b))v++;for(b=0,_=y;_;_=Yo(_))b++;for(;0<v-b;)p=Yo(p),v--;for(;0<b-v;)y=Yo(y),b--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=Yo(p),y=Yo(y)}p=null}else p=null;m!==null&&Mv(f,h,m,p,!1),x!==null&&g!==null&&Mv(f,g,x,p,!0)}}e:{if(h=d?ul(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=MC;else if(Ev(h))if(n4)j=IC;else{j=LC;var S=OC}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=DC);if(j&&(j=j(e,d))){s4(f,j,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Jx(h,"number",h.value)}switch(S=d?ul(d):window,e){case"focusin":(Ev(S)||S.contentEditable==="true")&&(cl=S,up=d,pd=null);break;case"focusout":pd=up=cl=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,Fv(f,r,u);break;case"selectionchange":if($C)break;case"keydown":case"keyup":Fv(f,r,u)}var N;if(i1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ll?t4(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(e4&&r.locale!=="ko"&&(ll||k!=="onCompositionStart"?k==="onCompositionEnd"&&ll&&(N=J_()):(Qa=u,s1="value"in Qa?Qa.value:Qa.textContent,ll=!0)),S=Lf(d,k),0<S.length&&(k=new kv(k,e,null,r,u),f.push({event:k,listeners:S}),N?k.data=N:(N=r4(r),N!==null&&(k.data=N)))),(N=TC?AC(e,r):FC(e,r))&&(d=Lf(d,"onBeforeInput"),0<d.length&&(u=new kv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=N))}m4(f,t)})}function qd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lf(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Bd(e,r),a!=null&&s.unshift(qd(e,a,n)),a=Bd(e,t),a!=null&&s.push(qd(e,a,n))),e=e.return}return s}function Yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mv(e,t,r,s,n){for(var a=t._reactName,i=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,n?(c=Bd(r,a),c!=null&&i.unshift(qd(r,c,l))):n||(c=Bd(r,a),c!=null&&i.push(qd(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var WC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function Ov(e){return(typeof e=="string"?e:""+e).replace(WC,`
`).replace(qC,"")}function g0(e,t,r){if(t=Ov(t),Ov(e)!==t&&r)throw Error(ve(425))}function Df(){}var hp=null,mp=null;function xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(e){return Lv.resolve(null).then(e).catch(XC)}:pp;function XC(e){setTimeout(function(){throw e})}function Km(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),zd(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);zd(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cc=Math.random().toString(36).slice(2),Rn="__reactFiber$"+cc,Gd="__reactProps$"+cc,pa="__reactContainer$"+cc,gp="__reactEvents$"+cc,YC="__reactListeners$"+cc,QC="__reactHandles$"+cc;function qi(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dv(e);e!==null;){if(r=e[Rn])return r;e=Dv(e)}return t}e=r,r=e.parentNode}return null}function Iu(e){return e=e[Rn]||e[pa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ul(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Vh(e){return e[Gd]||null}var yp=[],fl=-1;function Ti(e){return{current:e}}function wt(e){0>fl||(e.current=yp[fl],yp[fl]=null,fl--)}function xt(e,t){fl++,yp[fl]=e.current,e.current=t}var ki={},Dr=Ti(ki),cs=Ti(!1),wo=ki;function Xl(e,t){var r=e.type.contextTypes;if(!r)return ki;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function ds(e){return e=e.childContextTypes,e!=null}function If(){wt(cs),wt(Dr)}function Iv(e,t,r){if(Dr.current!==ki)throw Error(ve(168));xt(Dr,t),xt(cs,r)}function p4(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(ve(108,OS(e)||"Unknown",n));return Ft({},r,s)}function Bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,wo=Dr.current,xt(Dr,e),xt(cs,cs.current),!0}function Bv(e,t,r){var s=e.stateNode;if(!s)throw Error(ve(169));r?(e=p4(e,t,wo),s.__reactInternalMemoizedMergedChildContext=e,wt(cs),wt(Dr),xt(Dr,e)):wt(cs),xt(cs,r)}var Zn=null,Hh=!1,Xm=!1;function g4(e){Zn===null?Zn=[e]:Zn.push(e)}function ZC(e){Hh=!0,g4(e)}function Ai(){if(!Xm&&Zn!==null){Xm=!0;var e=0,t=dt;try{var r=Zn;for(dt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Zn=null,Hh=!1}catch(n){throw Zn!==null&&(Zn=Zn.slice(e+1)),z_(Jg,Ai),n}finally{dt=t,Xm=!1}}return null}var hl=[],ml=0,Uf=null,$f=0,Os=[],Ls=0,ko=null,na=1,aa="";function Ui(e,t){hl[ml++]=$f,hl[ml++]=Uf,Uf=e,$f=t}function y4(e,t,r){Os[Ls++]=na,Os[Ls++]=aa,Os[Ls++]=ko,ko=e;var s=na;e=aa;var n=32-un(s)-1;s&=~(1<<n),r+=1;var a=32-un(t)+n;if(30<a){var i=n-n%5;a=(s&(1<<i)-1).toString(32),s>>=i,n-=i,na=1<<32-un(t)+n|r<<n|s,aa=a+e}else na=1<<a|r<<n|s,aa=e}function l1(e){e.return!==null&&(Ui(e,1),y4(e,1,0))}function c1(e){for(;e===Uf;)Uf=hl[--ml],hl[ml]=null,$f=hl[--ml],hl[ml]=null;for(;e===ko;)ko=Os[--Ls],Os[Ls]=null,aa=Os[--Ls],Os[Ls]=null,na=Os[--Ls],Os[Ls]=null}var ks=null,ws=null,jt=!1,sn=null;function v4(e,t){var r=Ds(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ks=e,ws=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ks=e,ws=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ko!==null?{id:na,overflow:aa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ds(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ks=e,ws=null,!0):!1;default:return!1}}function vp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bp(e){if(jt){var t=ws;if(t){var r=t;if(!Uv(e,t)){if(vp(e))throw Error(ve(418));t=fi(r.nextSibling);var s=ks;t&&Uv(e,t)?v4(s,r):(e.flags=e.flags&-4097|2,jt=!1,ks=e)}}else{if(vp(e))throw Error(ve(418));e.flags=e.flags&-4097|2,jt=!1,ks=e}}}function $v(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ks=e}function y0(e){if(e!==ks)return!1;if(!jt)return $v(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xp(e.type,e.memoizedProps)),t&&(t=ws)){if(vp(e))throw b4(),Error(ve(418));for(;t;)v4(e,t),t=fi(t.nextSibling)}if($v(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ws=fi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ws=null}}else ws=ks?fi(e.stateNode.nextSibling):null;return!0}function b4(){for(var e=ws;e;)e=fi(e.nextSibling)}function Yl(){ws=ks=null,jt=!1}function d1(e){sn===null?sn=[e]:sn.push(e)}var JC=ka.ReactCurrentBatchConfig;function Pc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var s=r.stateNode}if(!s)throw Error(ve(147,e));var n=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=n.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function v0(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zv(e){var t=e._init;return t(e._payload)}function w4(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function n(y,v){return y=pi(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,_){return v===null||v.tag!==6?(v=rx(b,y.mode,_),v.return=y,v):(v=n(v,b),v.return=y,v)}function c(y,v,b,_){var j=b.type;return j===ol?u(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&zv(j)===v.type)?(_=n(v,b.props),_.ref=Pc(y,v,b),_.return=y,_):(_=mf(b.type,b.key,b.props,null,y.mode,_),_.ref=Pc(y,v,b),_.return=y,_)}function d(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=sx(b,y.mode,_),v.return=y,v):(v=n(v,b.children||[]),v.return=y,v)}function u(y,v,b,_,j){return v===null||v.tag!==7?(v=ho(b,y.mode,_,j),v.return=y,v):(v=n(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rx(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case l0:return b=mf(v.type,v.key,v.props,null,y.mode,b),b.ref=Pc(y,null,v),b.return=y,b;case il:return v=sx(v,y.mode,b),v.return=y,v;case Pa:var _=v._init;return f(y,_(v._payload),b)}if(Yc(v)||Cc(v))return v=ho(v,y.mode,b,null),v.return=y,v;v0(y,v)}return null}function h(y,v,b,_){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case l0:return b.key===j?c(y,v,b,_):null;case il:return b.key===j?d(y,v,b,_):null;case Pa:return j=b._init,h(y,v,j(b._payload),_)}if(Yc(b)||Cc(b))return j!==null?null:u(y,v,b,_,null);v0(y,b)}return null}function m(y,v,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(v,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case l0:return y=y.get(_.key===null?b:_.key)||null,c(v,y,_,j);case il:return y=y.get(_.key===null?b:_.key)||null,d(v,y,_,j);case Pa:var S=_._init;return m(y,v,b,S(_._payload),j)}if(Yc(_)||Cc(_))return y=y.get(b)||null,u(v,y,_,j,null);v0(v,_)}return null}function x(y,v,b,_){for(var j=null,S=null,N=v,k=v=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var C=h(y,N,b[k],_);if(C===null){N===null&&(N=E);break}e&&N&&C.alternate===null&&t(y,N),v=a(C,v,k),S===null?j=C:S.sibling=C,S=C,N=E}if(k===b.length)return r(y,N),jt&&Ui(y,k),j;if(N===null){for(;k<b.length;k++)N=f(y,b[k],_),N!==null&&(v=a(N,v,k),S===null?j=N:S.sibling=N,S=N);return jt&&Ui(y,k),j}for(N=s(y,N);k<b.length;k++)E=m(N,y,k,b[k],_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),v=a(E,v,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(A){return t(y,A)}),jt&&Ui(y,k),j}function p(y,v,b,_){var j=Cc(b);if(typeof j!="function")throw Error(ve(150));if(b=j.call(b),b==null)throw Error(ve(151));for(var S=j=null,N=v,k=v=0,E=null,C=b.next();N!==null&&!C.done;k++,C=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var A=h(y,N,C.value,_);if(A===null){N===null&&(N=E);break}e&&N&&A.alternate===null&&t(y,N),v=a(A,v,k),S===null?j=A:S.sibling=A,S=A,N=E}if(C.done)return r(y,N),jt&&Ui(y,k),j;if(N===null){for(;!C.done;k++,C=b.next())C=f(y,C.value,_),C!==null&&(v=a(C,v,k),S===null?j=C:S.sibling=C,S=C);return jt&&Ui(y,k),j}for(N=s(y,N);!C.done;k++,C=b.next())C=m(N,y,k,C.value,_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=a(C,v,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(F){return t(y,F)}),jt&&Ui(y,k),j}function g(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===ol&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case l0:e:{for(var j=b.key,S=v;S!==null;){if(S.key===j){if(j=b.type,j===ol){if(S.tag===7){r(y,S.sibling),v=n(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pa&&zv(j)===S.type){r(y,S.sibling),v=n(S,b.props),v.ref=Pc(y,S,b),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===ol?(v=ho(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=mf(b.type,b.key,b.props,null,y.mode,_),_.ref=Pc(y,v,b),_.return=y,y=_)}return i(y);case il:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=n(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=sx(b,y.mode,_),v.return=y,y=v}return i(y);case Pa:return S=b._init,g(y,v,S(b._payload),_)}if(Yc(b))return x(y,v,b,_);if(Cc(b))return p(y,v,b,_);v0(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=n(v,b),v.return=y,y=v):(r(y,v),v=rx(b,y.mode,_),v.return=y,y=v),i(y)):r(y,v)}return g}var Ql=w4(!0),k4=w4(!1),zf=Ti(null),Vf=null,xl=null,u1=null;function f1(){u1=xl=Vf=null}function h1(e){var t=zf.current;wt(zf),e._currentValue=t}function wp(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Nl(e,t){Vf=e,u1=xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ls=!0),e.firstContext=null)}function $s(e){var t=e._currentValue;if(u1!==e)if(e={context:e,memoizedValue:t,next:null},xl===null){if(Vf===null)throw Error(ve(308));xl=e,Vf.dependencies={lanes:0,firstContext:e}}else xl=xl.next=e;return t}var Gi=null;function m1(e){Gi===null?Gi=[e]:Gi.push(e)}function _4(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,m1(t)):(r.next=n.next,n.next=r),t.interleaved=r,ga(e,s)}function ga(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ma=!1;function x1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,at&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,ga(e,r)}return n=s.interleaved,n===null?(t.next=t,m1(s)):(t.next=n.next,n.next=t),s.interleaved=t,ga(e,r)}function lf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,e1(e,r)}}function Vv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?n=a=t:a=a.next=t}else n=a=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hf(e,t,r,s){var n=e.updateQueue;Ma=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=n.baseState;i=0,u=d=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(h=t,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=Ft({},f,h);break e;case 2:Ma=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,i|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(1);if(u===null&&(c=f),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do i|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);No|=i,e.lanes=i,e.memoizedState=f}}function Hv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(ve(191,n));n.call(s)}}}var Bu={},Dn=Ti(Bu),Kd=Ti(Bu),Xd=Ti(Bu);function Ki(e){if(e===Bu)throw Error(ve(174));return e}function p1(e,t){switch(xt(Xd,t),xt(Kd,e),xt(Dn,Bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tp(t,e)}wt(Dn),xt(Dn,t)}function Zl(){wt(Dn),wt(Kd),wt(Xd)}function j4(e){Ki(Xd.current);var t=Ki(Dn.current),r=tp(t,e.type);t!==r&&(xt(Kd,e),xt(Dn,r))}function g1(e){Kd.current===e&&(wt(Dn),wt(Kd))}var Tt=Ti(0);function Wf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ym=[];function y1(){for(var e=0;e<Ym.length;e++)Ym[e]._workInProgressVersionPrimary=null;Ym.length=0}var cf=ka.ReactCurrentDispatcher,Qm=ka.ReactCurrentBatchConfig,_o=0,At=null,er=null,dr=null,qf=!1,gd=!1,Yd=0,eT=0;function kr(){throw Error(ve(321))}function v1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pn(e[r],t[r]))return!1;return!0}function b1(e,t,r,s,n,a){if(_o=a,At=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cf.current=e===null||e.memoizedState===null?nT:aT,e=r(s,n),gd){a=0;do{if(gd=!1,Yd=0,25<=a)throw Error(ve(301));a+=1,dr=er=null,t.updateQueue=null,cf.current=iT,e=r(s,n)}while(gd)}if(cf.current=Gf,t=er!==null&&er.next!==null,_o=0,dr=er=At=null,qf=!1,t)throw Error(ve(300));return e}function w1(){var e=Yd!==0;return Yd=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?At.memoizedState=dr=e:dr=dr.next=e,dr}function zs(){if(er===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=dr===null?At.memoizedState:dr.next;if(t!==null)dr=t,er=e;else{if(e===null)throw Error(ve(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},dr===null?At.memoizedState=dr=e:dr=dr.next=e}return dr}function Qd(e,t){return typeof t=="function"?t(e):t}function Zm(e){var t=zs(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var s=er,n=s.baseQueue,a=r.pending;if(a!==null){if(n!==null){var i=n.next;n.next=a.next,a.next=i}s.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,s=s.baseState;var l=i=null,c=null,d=a;do{var u=d.lane;if((_o&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=s):c=c.next=f,At.lanes|=u,No|=u}d=d.next}while(d!==null&&d!==a);c===null?i=s:c.next=l,pn(s,t.memoizedState)||(ls=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do a=n.lane,At.lanes|=a,No|=a,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jm(e){var t=zs(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,a=t.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do a=e(a,i.action),i=i.next;while(i!==n);pn(a,t.memoizedState)||(ls=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function E4(){}function S4(e,t){var r=At,s=zs(),n=t(),a=!pn(s.memoizedState,n);if(a&&(s.memoizedState=n,ls=!0),s=s.queue,k1(A4.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Zd(9,T4.bind(null,r,s,n,t),void 0,null),ur===null)throw Error(ve(349));_o&30||C4(r,t,n)}return n}function C4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function T4(e,t,r,s){t.value=r,t.getSnapshot=s,F4(t)&&R4(e)}function A4(e,t,r){return r(function(){F4(t)&&R4(e)})}function F4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pn(e,r)}catch{return!0}}function R4(e){var t=ga(e,1);t!==null&&fn(t,e,1,-1)}function Wv(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:e},t.queue=e,e=e.dispatch=sT.bind(null,At,e),[t.memoizedState,e]}function Zd(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function P4(){return zs().memoizedState}function df(e,t,r,s){var n=En();At.flags|=e,n.memoizedState=Zd(1|t,r,void 0,s===void 0?null:s)}function Wh(e,t,r,s){var n=zs();s=s===void 0?null:s;var a=void 0;if(er!==null){var i=er.memoizedState;if(a=i.destroy,s!==null&&v1(s,i.deps)){n.memoizedState=Zd(t,r,a,s);return}}At.flags|=e,n.memoizedState=Zd(1|t,r,a,s)}function qv(e,t){return df(8390656,8,e,t)}function k1(e,t){return Wh(2048,8,e,t)}function M4(e,t){return Wh(4,2,e,t)}function O4(e,t){return Wh(4,4,e,t)}function L4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D4(e,t,r){return r=r!=null?r.concat([e]):null,Wh(4,4,L4.bind(null,t,e),r)}function _1(){}function I4(e,t){var r=zs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&v1(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function B4(e,t){var r=zs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&v1(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function U4(e,t,r){return _o&21?(pn(r,t)||(r=W_(),At.lanes|=r,No|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ls=!0),e.memoizedState=r)}function tT(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var s=Qm.transition;Qm.transition={};try{e(!1),t()}finally{dt=r,Qm.transition=s}}function $4(){return zs().memoizedState}function rT(e,t,r){var s=xi(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},z4(e))V4(t,r);else if(r=_4(e,t,r,s),r!==null){var n=Xr();fn(r,e,s,n),H4(r,t,s)}}function sT(e,t,r){var s=xi(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(z4(e))V4(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(n.hasEagerState=!0,n.eagerState=l,pn(l,i)){var c=t.interleaved;c===null?(n.next=n,m1(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=_4(e,t,n,s),r!==null&&(n=Xr(),fn(r,e,s,n),H4(r,t,s))}}function z4(e){var t=e.alternate;return e===At||t!==null&&t===At}function V4(e,t){gd=qf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function H4(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,e1(e,r)}}var Gf={readContext:$s,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},nT={readContext:$s,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:$s,useEffect:qv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,df(4194308,4,L4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return df(4194308,4,e,t)},useInsertionEffect:function(e,t){return df(4,2,e,t)},useMemo:function(e,t){var r=En();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=En();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rT.bind(null,At,e),[s.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:Wv,useDebugValue:_1,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=Wv(!1),t=e[0];return e=tT.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=At,n=En();if(jt){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),ur===null)throw Error(ve(349));_o&30||C4(s,t,r)}n.memoizedState=r;var a={value:r,getSnapshot:t};return n.queue=a,qv(A4.bind(null,s,a,e),[e]),s.flags|=2048,Zd(9,T4.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=En(),t=ur.identifierPrefix;if(jt){var r=aa,s=na;r=(s&~(1<<32-un(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aT={readContext:$s,useCallback:I4,useContext:$s,useEffect:k1,useImperativeHandle:D4,useInsertionEffect:M4,useLayoutEffect:O4,useMemo:B4,useReducer:Zm,useRef:P4,useState:function(){return Zm(Qd)},useDebugValue:_1,useDeferredValue:function(e){var t=zs();return U4(t,er.memoizedState,e)},useTransition:function(){var e=Zm(Qd)[0],t=zs().memoizedState;return[e,t]},useMutableSource:E4,useSyncExternalStore:S4,useId:$4,unstable_isNewReconciler:!1},iT={readContext:$s,useCallback:I4,useContext:$s,useEffect:k1,useImperativeHandle:D4,useInsertionEffect:M4,useLayoutEffect:O4,useMemo:B4,useReducer:Jm,useRef:P4,useState:function(){return Jm(Qd)},useDebugValue:_1,useDeferredValue:function(e){var t=zs();return er===null?t.memoizedState=e:U4(t,er.memoizedState,e)},useTransition:function(){var e=Jm(Qd)[0],t=zs().memoizedState;return[e,t]},useMutableSource:E4,useSyncExternalStore:S4,useId:$4,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kp(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qh={isMounted:function(e){return(e=e._reactInternals)?Bo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Xr(),n=xi(e),a=ca(s,n);a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,n),t!==null&&(fn(t,e,n,s),lf(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Xr(),n=xi(e),a=ca(s,n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,n),t!==null&&(fn(t,e,n,s),lf(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xr(),s=xi(e),n=ca(r,s);n.tag=2,t!=null&&(n.callback=t),t=hi(e,n,s),t!==null&&(fn(t,e,s,r),lf(t,e,s))}};function Gv(e,t,r,s,n,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Hd(r,s)||!Hd(n,a):!0}function W4(e,t,r){var s=!1,n=ki,a=t.contextType;return typeof a=="object"&&a!==null?a=$s(a):(n=ds(t)?wo:Dr.current,s=t.contextTypes,a=(s=s!=null)?Xl(e,n):ki),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function Kv(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&qh.enqueueReplaceState(t,t.state,null)}function _p(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},x1(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=$s(a):(a=ds(t)?wo:Dr.current,n.context=Xl(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kp(e,t,a,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&qh.enqueueReplaceState(n,n.state,null),Hf(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Jl(e,t){try{var r="",s=t;do r+=MS(s),s=s.return;while(s);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function ex(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Np(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oT=typeof WeakMap=="function"?WeakMap:Map;function q4(e,t,r){r=ca(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Xf||(Xf=!0,Mp=s),Np(e,t)},r}function G4(e,t,r){r=ca(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){Np(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Np(e,t),typeof s!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Xv(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new oT;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=wT.bind(null,e,t,r),t.then(e,e))}function Yv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qv(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ca(-1,1),t.tag=2,hi(r,t,1))),r.lanes|=1),e)}var lT=ka.ReactCurrentOwner,ls=!1;function Vr(e,t,r,s){t.child=e===null?k4(t,null,r,s):Ql(t,e.child,r,s)}function Zv(e,t,r,s,n){r=r.render;var a=t.ref;return Nl(t,n),s=b1(e,t,r,s,a,n),r=w1(),e!==null&&!ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ya(e,t,n)):(jt&&r&&l1(t),t.flags|=1,Vr(e,t,s,n),t.child)}function Jv(e,t,r,s,n){if(e===null){var a=r.type;return typeof a=="function"&&!F1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,K4(e,t,a,s,n)):(e=mf(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Hd,r(i,s)&&e.ref===t.ref)return ya(e,t,n)}return t.flags|=1,e=pi(a,s),e.ref=t.ref,e.return=t,t.child=e}function K4(e,t,r,s,n){if(e!==null){var a=e.memoizedProps;if(Hd(a,s)&&e.ref===t.ref)if(ls=!1,t.pendingProps=s=a,(e.lanes&n)!==0)e.flags&131072&&(ls=!0);else return t.lanes=e.lanes,ya(e,t,n)}return jp(e,t,r,s,n)}function X4(e,t,r){var s=t.pendingProps,n=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(gl,ps),ps|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(gl,ps),ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,xt(gl,ps),ps|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,xt(gl,ps),ps|=s;return Vr(e,t,n,r),t.child}function Y4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jp(e,t,r,s,n){var a=ds(r)?wo:Dr.current;return a=Xl(t,a),Nl(t,n),r=b1(e,t,r,s,a,n),s=w1(),e!==null&&!ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ya(e,t,n)):(jt&&s&&l1(t),t.flags|=1,Vr(e,t,r,n),t.child)}function e2(e,t,r,s,n){if(ds(r)){var a=!0;Bf(t)}else a=!1;if(Nl(t,n),t.stateNode===null)uf(e,t),W4(t,r,s),_p(t,r,s,n),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=$s(d):(d=ds(r)?wo:Dr.current,d=Xl(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Kv(t,i,s,d),Ma=!1;var h=t.memoizedState;i.state=h,Hf(t,s,i,n),c=t.memoizedState,l!==s||h!==c||cs.current||Ma?(typeof u=="function"&&(kp(t,r,u,s),c=t.memoizedState),(l=Ma||Gv(t,r,l,s,h,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=d,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,N4(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Js(t.type,l),i.props=d,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=$s(c):(c=ds(r)?wo:Dr.current,c=Xl(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Kv(t,i,s,c),Ma=!1,h=t.memoizedState,i.state=h,Hf(t,s,i,n);var x=t.memoizedState;l!==f||h!==x||cs.current||Ma?(typeof m=="function"&&(kp(t,r,m,s),x=t.memoizedState),(d=Ma||Gv(t,r,d,s,h,x,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),i.props=s,i.state=x,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Ep(e,t,r,s,a,n)}function Ep(e,t,r,s,n,a){Y4(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return n&&Bv(t,r,!1),ya(e,t,a);s=t.stateNode,lT.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Ql(t,e.child,null,a),t.child=Ql(t,null,l,a)):Vr(e,t,l,a),t.memoizedState=s.state,n&&Bv(t,r,!0),t.child}function Q4(e){var t=e.stateNode;t.pendingContext?Iv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Iv(e,t.context,!1),p1(e,t.containerInfo)}function t2(e,t,r,s,n){return Yl(),d1(n),t.flags|=256,Vr(e,t,r,s),t.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Cp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z4(e,t,r){var s=t.pendingProps,n=Tt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),xt(Tt,n&1),e===null)return bp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Xh(i,s,0,null),e=ho(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Cp(r),t.memoizedState=Sp,e):N1(t,i));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return cT(e,t,i,s,l,n,r);if(a){a=s.fallback,i=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=pi(n,c),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=pi(l,a):(a=ho(a,i,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Cp(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Sp,s}return a=e.child,e=a.sibling,s=pi(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function N1(e,t){return t=Xh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function b0(e,t,r,s){return s!==null&&d1(s),Ql(t,e.child,null,r),e=N1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cT(e,t,r,s,n,a,i){if(r)return t.flags&256?(t.flags&=-257,s=ex(Error(ve(422))),b0(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,n=t.mode,s=Xh({mode:"visible",children:s.children},n,0,null),a=ho(a,n,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Ql(t,e.child,null,i),t.child.memoizedState=Cp(i),t.memoizedState=Sp,a);if(!(t.mode&1))return b0(e,t,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(ve(419)),s=ex(a,s,void 0),b0(e,t,i,s)}if(l=(i&e.childLanes)!==0,ls||l){if(s=ur,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,ga(e,n),fn(s,e,n,-1))}return A1(),s=ex(Error(ve(421))),b0(e,t,i,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=kT.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,ws=fi(n.nextSibling),ks=t,jt=!0,sn=null,e!==null&&(Os[Ls++]=na,Os[Ls++]=aa,Os[Ls++]=ko,na=e.id,aa=e.overflow,ko=t),t=N1(t,s.children),t.flags|=4096,t)}function r2(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wp(e.return,t,r)}function tx(e,t,r,s,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function J4(e,t,r){var s=t.pendingProps,n=s.revealOrder,a=s.tail;if(Vr(e,t,s.children,r),s=Tt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r2(e,r,t);else if(e.tag===19)r2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(xt(Tt,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Wf(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),tx(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Wf(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}tx(t,!0,r,null,a);break;case"together":tx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ya(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=pi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dT(e,t,r){switch(t.tag){case 3:Q4(t),Yl();break;case 5:j4(t);break;case 1:ds(t.type)&&Bf(t);break;case 4:p1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;xt(zf,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(xt(Tt,Tt.current&1),t.flags|=128,null):r&t.child.childLanes?Z4(e,t,r):(xt(Tt,Tt.current&1),e=ya(e,t,r),e!==null?e.sibling:null);xt(Tt,Tt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return J4(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),xt(Tt,Tt.current),s)break;return null;case 22:case 23:return t.lanes=0,X4(e,t,r)}return ya(e,t,r)}var eN,Tp,tN,rN;eN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tp=function(){};tN=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,Ki(Dn.current);var a=null;switch(r){case"input":n=Qx(e,n),s=Qx(e,s),a=[];break;case"select":n=Ft({},n,{value:void 0}),s=Ft({},s,{value:void 0}),a=[];break;case"textarea":n=ep(e,n),s=ep(e,s),a=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Df)}rp(r,s);var i;r=null;for(d in n)if(!s.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Dd.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=n!=null?n[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Dd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&vt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};rN=function(e,t,r,s){r!==s&&(t.flags|=4)};function Mc(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function uT(e,t,r){var s=t.pendingProps;switch(c1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return ds(t.type)&&If(),_r(t),null;case 3:return s=t.stateNode,Zl(),wt(cs),wt(Dr),y1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(y0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(Dp(sn),sn=null))),Tp(e,t),_r(t),null;case 5:g1(t);var n=Ki(Xd.current);if(r=t.type,e!==null&&t.stateNode!=null)tN(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ve(166));return _r(t),null}if(e=Ki(Dn.current),y0(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[Rn]=t,s[Gd]=a,e=(t.mode&1)!==0,r){case"dialog":vt("cancel",s),vt("close",s);break;case"iframe":case"object":case"embed":vt("load",s);break;case"video":case"audio":for(n=0;n<Zc.length;n++)vt(Zc[n],s);break;case"source":vt("error",s);break;case"img":case"image":case"link":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"input":uv(s,a),vt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},vt("invalid",s);break;case"textarea":hv(s,a),vt("invalid",s)}rp(r,a),n=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&g0(s.textContent,l,e),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&g0(s.textContent,l,e),n=["children",""+l]):Dd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&vt("scroll",s)}switch(r){case"input":c0(s),fv(s,a,!0);break;case"textarea":c0(s),mv(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Df)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[Rn]=t,e[Gd]=s,eN(e,t,!1,!1),t.stateNode=e;e:{switch(i=sp(r,s),r){case"dialog":vt("cancel",e),vt("close",e),n=s;break;case"iframe":case"object":case"embed":vt("load",e),n=s;break;case"video":case"audio":for(n=0;n<Zc.length;n++)vt(Zc[n],e);n=s;break;case"source":vt("error",e),n=s;break;case"img":case"image":case"link":vt("error",e),vt("load",e),n=s;break;case"details":vt("toggle",e),n=s;break;case"input":uv(e,s),n=Qx(e,s),vt("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=Ft({},s,{value:void 0}),vt("invalid",e);break;case"textarea":hv(e,s),n=ep(e,s),vt("invalid",e);break;default:n=s}rp(r,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?P_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Id(e,c):typeof c=="number"&&Id(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Dd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&vt("scroll",e):c!=null&&Kg(e,a,c,i))}switch(r){case"input":c0(e),fv(e,s,!1);break;case"textarea":c0(e),mv(e);break;case"option":s.value!=null&&e.setAttribute("value",""+wi(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?bl(e,!!s.multiple,a,!1):s.defaultValue!=null&&bl(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Df)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)rN(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ve(166));if(r=Ki(Xd.current),Ki(Dn.current),y0(t)){if(s=t.stateNode,r=t.memoizedProps,s[Rn]=t,(a=s.nodeValue!==r)&&(e=ks,e!==null))switch(e.tag){case 3:g0(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&g0(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Rn]=t,t.stateNode=s}return _r(t),null;case 13:if(wt(Tt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&ws!==null&&t.mode&1&&!(t.flags&128))b4(),Yl(),t.flags|=98560,a=!1;else if(a=y0(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Rn]=t}else Yl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),a=!1}else sn!==null&&(Dp(sn),sn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?sr===0&&(sr=3):A1())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return Zl(),Tp(e,t),e===null&&Wd(t.stateNode.containerInfo),_r(t),null;case 10:return h1(t.type._context),_r(t),null;case 17:return ds(t.type)&&If(),_r(t),null;case 19:if(wt(Tt),a=t.memoizedState,a===null)return _r(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Mc(a,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Wf(e),i!==null){for(t.flags|=128,Mc(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xt(Tt,Tt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Bt()>ec&&(t.flags|=128,s=!0,Mc(a,!1),t.lanes=4194304)}else{if(!s)if(e=Wf(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!jt)return _r(t),null}else 2*Bt()-a.renderingStartTime>ec&&r!==1073741824&&(t.flags|=128,s=!0,Mc(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,r=Tt.current,xt(Tt,s?r&1|2:r&1),t):(_r(t),null);case 22:case 23:return T1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ps&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function fT(e,t){switch(c1(t),t.tag){case 1:return ds(t.type)&&If(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zl(),wt(cs),wt(Dr),y1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g1(t),null;case 13:if(wt(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Tt),null;case 4:return Zl(),null;case 10:return h1(t.type._context),null;case 22:case 23:return T1(),null;case 24:return null;default:return null}}var w0=!1,Cr=!1,hT=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function pl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Pt(e,t,s)}else r.current=null}function Ap(e,t,r){try{r()}catch(s){Pt(e,t,s)}}var s2=!1;function mT(e,t){if(hp=Mf,e=o4(),o1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||n!==0&&f.nodeType!==3||(l=i+n),f!==a||s!==0&&f.nodeType!==3||(c=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===n&&(l=i),h===a&&++u===s&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mp={focusedElem:e,selectionRange:r},Mf=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Js(t.type,p),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){Pt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return x=s2,s2=!1,x}function yd(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&Ap(t,r,a)}n=n.next}while(n!==s)}}function Gh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Fp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function sN(e){var t=e.alternate;t!==null&&(e.alternate=null,sN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Gd],delete t[gp],delete t[YC],delete t[QC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nN(e){return e.tag===5||e.tag===3||e.tag===4}function n2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Df));else if(s!==4&&(e=e.child,e!==null))for(Rp(e,t,r),e=e.sibling;e!==null;)Rp(e,t,r),e=e.sibling}function Pp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Pp(e,t,r),e=e.sibling;e!==null;)Pp(e,t,r),e=e.sibling}var mr=null,rn=!1;function ja(e,t,r){for(r=r.child;r!==null;)aN(e,t,r),r=r.sibling}function aN(e,t,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Bh,r)}catch{}switch(r.tag){case 5:Cr||pl(r,t);case 6:var s=mr,n=rn;mr=null,ja(e,t,r),mr=s,rn=n,mr!==null&&(rn?(e=mr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):mr.removeChild(r.stateNode));break;case 18:mr!==null&&(rn?(e=mr,r=r.stateNode,e.nodeType===8?Km(e.parentNode,r):e.nodeType===1&&Km(e,r),zd(e)):Km(mr,r.stateNode));break;case 4:s=mr,n=rn,mr=r.stateNode.containerInfo,rn=!0,ja(e,t,r),mr=s,rn=n;break;case 0:case 11:case 14:case 15:if(!Cr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var a=n,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ap(r,t,i),n=n.next}while(n!==s)}ja(e,t,r);break;case 1:if(!Cr&&(pl(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Pt(r,t,l)}ja(e,t,r);break;case 21:ja(e,t,r);break;case 22:r.mode&1?(Cr=(s=Cr)||r.memoizedState!==null,ja(e,t,r),Cr=s):ja(e,t,r);break;default:ja(e,t,r)}}function a2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hT),t.forEach(function(s){var n=_T.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Ys(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:mr=l.stateNode,rn=!1;break e;case 3:mr=l.stateNode.containerInfo,rn=!0;break e;case 4:mr=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(mr===null)throw Error(ve(160));aN(a,i,n),mr=null,rn=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){Pt(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iN(t,e),t=t.sibling}function iN(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),wn(e),s&4){try{yd(3,e,e.return),Gh(3,e)}catch(p){Pt(e,e.return,p)}try{yd(5,e,e.return)}catch(p){Pt(e,e.return,p)}}break;case 1:Ys(t,e),wn(e),s&512&&r!==null&&pl(r,r.return);break;case 5:if(Ys(t,e),wn(e),s&512&&r!==null&&pl(r,r.return),e.flags&32){var n=e.stateNode;try{Id(n,"")}catch(p){Pt(e,e.return,p)}}if(s&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&C_(n,a),sp(l,i);var d=sp(l,a);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?P_(n,f):u==="dangerouslySetInnerHTML"?F_(n,f):u==="children"?Id(n,f):Kg(n,u,f,d)}switch(l){case"input":Zx(n,a);break;case"textarea":T_(n,a);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?bl(n,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?bl(n,!!a.multiple,a.defaultValue,!0):bl(n,!!a.multiple,a.multiple?[]:"",!1))}n[Gd]=a}catch(p){Pt(e,e.return,p)}}break;case 6:if(Ys(t,e),wn(e),s&4){if(e.stateNode===null)throw Error(ve(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(p){Pt(e,e.return,p)}}break;case 3:if(Ys(t,e),wn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{zd(t.containerInfo)}catch(p){Pt(e,e.return,p)}break;case 4:Ys(t,e),wn(e);break;case 13:Ys(t,e),wn(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(S1=Bt())),s&4&&a2(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Cr=(d=Cr)||u,Ys(t,e),Cr=d):Ys(t,e),wn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Fe=e,u=e.child;u!==null;){for(f=Fe=u;Fe!==null;){switch(h=Fe,m=h.child,h.tag){case 0:case 11:case 14:case 15:yd(4,h,h.return);break;case 1:pl(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Pt(s,r,p)}}break;case 5:pl(h,h.return);break;case 22:if(h.memoizedState!==null){o2(f);continue}}m!==null?(m.return=h,Fe=m):o2(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{n=f.stateNode,d?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=R_("display",i))}catch(p){Pt(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){Pt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ys(t,e),wn(e),s&4&&a2(e);break;case 21:break;default:Ys(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nN(r)){var s=r;break e}r=r.return}throw Error(ve(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Id(n,""),s.flags&=-33);var a=n2(e);Pp(e,a,n);break;case 3:case 4:var i=s.stateNode.containerInfo,l=n2(e);Rp(e,l,i);break;default:throw Error(ve(161))}}catch(c){Pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xT(e,t,r){Fe=e,oN(e)}function oN(e,t,r){for(var s=(e.mode&1)!==0;Fe!==null;){var n=Fe,a=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||w0;if(!i){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Cr;l=w0;var d=Cr;if(w0=i,(Cr=c)&&!d)for(Fe=n;Fe!==null;)i=Fe,c=i.child,i.tag===22&&i.memoizedState!==null?l2(n):c!==null?(c.return=i,Fe=c):l2(n);for(;a!==null;)Fe=a,oN(a),a=a.sibling;Fe=n,w0=l,Cr=d}i2(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,Fe=a):i2(e)}}function i2(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cr||Gh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Cr)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Js(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Hv(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&zd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Cr||t.flags&512&&Fp(t)}catch(h){Pt(t,t.return,h)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function o2(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function l2(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gh(4,t)}catch(c){Pt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(c){Pt(t,n,c)}}var a=t.return;try{Fp(t)}catch(c){Pt(t,a,c)}break;case 5:var i=t.return;try{Fp(t)}catch(c){Pt(t,i,c)}}}catch(c){Pt(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var pT=Math.ceil,Kf=ka.ReactCurrentDispatcher,j1=ka.ReactCurrentOwner,Us=ka.ReactCurrentBatchConfig,at=0,ur=null,Qt=null,gr=0,ps=0,gl=Ti(0),sr=0,Jd=null,No=0,Kh=0,E1=0,vd=null,is=null,S1=0,ec=1/0,Qn=null,Xf=!1,Mp=null,mi=null,k0=!1,Za=null,Yf=0,bd=0,Op=null,ff=-1,hf=0;function Xr(){return at&6?Bt():ff!==-1?ff:ff=Bt()}function xi(e){return e.mode&1?at&2&&gr!==0?gr&-gr:JC.transition!==null?(hf===0&&(hf=W_()),hf):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Z_(e.type)),e):1}function fn(e,t,r,s){if(50<bd)throw bd=0,Op=null,Error(ve(185));Lu(e,r,s),(!(at&2)||e!==ur)&&(e===ur&&(!(at&2)&&(Kh|=r),sr===4&&La(e,gr)),us(e,s),r===1&&at===0&&!(t.mode&1)&&(ec=Bt()+500,Hh&&Ai()))}function us(e,t){var r=e.callbackNode;JS(e,t);var s=Pf(e,e===ur?gr:0);if(s===0)r!==null&&gv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&gv(r),t===1)e.tag===0?ZC(c2.bind(null,e)):g4(c2.bind(null,e)),KC(function(){!(at&6)&&Ai()}),r=null;else{switch(q_(s)){case 1:r=Jg;break;case 4:r=V_;break;case 16:r=Rf;break;case 536870912:r=H_;break;default:r=Rf}r=xN(r,lN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lN(e,t){if(ff=-1,hf=0,at&6)throw Error(ve(327));var r=e.callbackNode;if(jl()&&e.callbackNode!==r)return null;var s=Pf(e,e===ur?gr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Qf(e,s);else{t=s;var n=at;at|=2;var a=dN();(ur!==e||gr!==t)&&(Qn=null,ec=Bt()+500,fo(e,t));do try{vT();break}catch(l){cN(e,l)}while(1);f1(),Kf.current=a,at=n,Qt!==null?t=0:(ur=null,gr=0,t=sr)}if(t!==0){if(t===2&&(n=lp(e),n!==0&&(s=n,t=Lp(e,n))),t===1)throw r=Jd,fo(e,0),La(e,s),us(e,Bt()),r;if(t===6)La(e,s);else{if(n=e.current.alternate,!(s&30)&&!gT(n)&&(t=Qf(e,s),t===2&&(a=lp(e),a!==0&&(s=a,t=Lp(e,a))),t===1))throw r=Jd,fo(e,0),La(e,s),us(e,Bt()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(ve(345));case 2:$i(e,is,Qn);break;case 3:if(La(e,s),(s&130023424)===s&&(t=S1+500-Bt(),10<t)){if(Pf(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){Xr(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=pp($i.bind(null,e,is,Qn),t);break}$i(e,is,Qn);break;case 4:if(La(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var i=31-un(s);a=1<<i,i=t[i],i>n&&(n=i),s&=~a}if(s=n,s=Bt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*pT(s/1960))-s,10<s){e.timeoutHandle=pp($i.bind(null,e,is,Qn),s);break}$i(e,is,Qn);break;case 5:$i(e,is,Qn);break;default:throw Error(ve(329))}}}return us(e,Bt()),e.callbackNode===r?lN.bind(null,e):null}function Lp(e,t){var r=vd;return e.current.memoizedState.isDehydrated&&(fo(e,t).flags|=256),e=Qf(e,t),e!==2&&(t=is,is=r,t!==null&&Dp(t)),e}function Dp(e){is===null?is=e:is.push.apply(is,e)}function gT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!pn(a(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t){for(t&=~E1,t&=~Kh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-un(t),s=1<<r;e[r]=-1,t&=~s}}function c2(e){if(at&6)throw Error(ve(327));jl();var t=Pf(e,0);if(!(t&1))return us(e,Bt()),null;var r=Qf(e,t);if(e.tag!==0&&r===2){var s=lp(e);s!==0&&(t=s,r=Lp(e,s))}if(r===1)throw r=Jd,fo(e,0),La(e,t),us(e,Bt()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,is,Qn),us(e,Bt()),null}function C1(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&(ec=Bt()+500,Hh&&Ai())}}function jo(e){Za!==null&&Za.tag===0&&!(at&6)&&jl();var t=at;at|=1;var r=Us.transition,s=dt;try{if(Us.transition=null,dt=1,e)return e()}finally{dt=s,Us.transition=r,at=t,!(at&6)&&Ai()}}function T1(){ps=gl.current,wt(gl)}function fo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GC(r)),Qt!==null)for(r=Qt.return;r!==null;){var s=r;switch(c1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&If();break;case 3:Zl(),wt(cs),wt(Dr),y1();break;case 5:g1(s);break;case 4:Zl();break;case 13:wt(Tt);break;case 19:wt(Tt);break;case 10:h1(s.type._context);break;case 22:case 23:T1()}r=r.return}if(ur=e,Qt=e=pi(e.current,null),gr=ps=t,sr=0,Jd=null,E1=Kh=No=0,is=vd=null,Gi!==null){for(t=0;t<Gi.length;t++)if(r=Gi[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,a=r.pending;if(a!==null){var i=a.next;a.next=n,s.next=i}r.pending=s}Gi=null}return e}function cN(e,t){do{var r=Qt;try{if(f1(),cf.current=Gf,qf){for(var s=At.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}qf=!1}if(_o=0,dr=er=At=null,gd=!1,Yd=0,j1.current=null,r===null||r.return===null){sr=1,Jd=t,Qt=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=gr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Yv(i);if(m!==null){m.flags&=-257,Qv(m,i,l,a,t),m.mode&1&&Xv(a,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){Xv(a,d,t),A1();break e}c=Error(ve(426))}}else if(jt&&l.mode&1){var g=Yv(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Qv(g,i,l,a,t),d1(Jl(c,l));break e}}a=c=Jl(c,l),sr!==4&&(sr=2),vd===null?vd=[a]:vd.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=q4(a,c,t);Vv(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mi===null||!mi.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=G4(a,l,t);Vv(a,_);break e}}a=a.return}while(a!==null)}fN(r)}catch(j){t=j,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(1)}function dN(){var e=Kf.current;return Kf.current=Gf,e===null?Gf:e}function A1(){(sr===0||sr===3||sr===2)&&(sr=4),ur===null||!(No&268435455)&&!(Kh&268435455)||La(ur,gr)}function Qf(e,t){var r=at;at|=2;var s=dN();(ur!==e||gr!==t)&&(Qn=null,fo(e,t));do try{yT();break}catch(n){cN(e,n)}while(1);if(f1(),at=r,Kf.current=s,Qt!==null)throw Error(ve(261));return ur=null,gr=0,sr}function yT(){for(;Qt!==null;)uN(Qt)}function vT(){for(;Qt!==null&&!HS();)uN(Qt)}function uN(e){var t=mN(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?fN(e):Qt=t,j1.current=null}function fN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fT(r,t),r!==null){r.flags&=32767,Qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Qt=null;return}}else if(r=uT(r,t,ps),r!==null){Qt=r;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);sr===0&&(sr=5)}function $i(e,t,r){var s=dt,n=Us.transition;try{Us.transition=null,dt=1,bT(e,t,r,s)}finally{Us.transition=n,dt=s}return null}function bT(e,t,r,s){do jl();while(Za!==null);if(at&6)throw Error(ve(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(eC(e,a),e===ur&&(Qt=ur=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||k0||(k0=!0,xN(Rf,function(){return jl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Us.transition,Us.transition=null;var i=dt;dt=1;var l=at;at|=4,j1.current=null,mT(e,r),iN(r,e),UC(mp),Mf=!!hp,mp=hp=null,e.current=r,xT(r),WS(),at=l,dt=i,Us.transition=a}else e.current=r;if(k0&&(k0=!1,Za=e,Yf=n),a=e.pendingLanes,a===0&&(mi=null),KS(r.stateNode),us(e,Bt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Xf)throw Xf=!1,e=Mp,Mp=null,e;return Yf&1&&e.tag!==0&&jl(),a=e.pendingLanes,a&1?e===Op?bd++:(bd=0,Op=e):bd=0,Ai(),null}function jl(){if(Za!==null){var e=q_(Yf),t=Us.transition,r=dt;try{if(Us.transition=null,dt=16>e?16:e,Za===null)var s=!1;else{if(e=Za,Za=null,Yf=0,at&6)throw Error(ve(331));var n=at;for(at|=4,Fe=e.current;Fe!==null;){var a=Fe,i=a.child;if(Fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Fe=d;Fe!==null;){var u=Fe;switch(u.tag){case 0:case 11:case 15:yd(8,u,a)}var f=u.child;if(f!==null)f.return=u,Fe=f;else for(;Fe!==null;){u=Fe;var h=u.sibling,m=u.return;if(sN(u),u===d){Fe=null;break}if(h!==null){h.return=m,Fe=h;break}Fe=m}}}var x=a.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Fe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Fe=i;else e:for(;Fe!==null;){if(a=Fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yd(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Fe=y;break e}Fe=a.return}}var v=e.current;for(Fe=v;Fe!==null;){i=Fe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Fe=b;else e:for(i=v;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gh(9,l)}}catch(j){Pt(l,l.return,j)}if(l===i){Fe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Fe=_;break e}Fe=l.return}}if(at=n,Ai(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Bh,e)}catch{}s=!0}return s}finally{dt=r,Us.transition=t}}return!1}function d2(e,t,r){t=Jl(r,t),t=q4(e,t,1),e=hi(e,t,1),t=Xr(),e!==null&&(Lu(e,1,t),us(e,t))}function Pt(e,t,r){if(e.tag===3)d2(e,e,r);else for(;t!==null;){if(t.tag===3){d2(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mi===null||!mi.has(s))){e=Jl(r,e),e=G4(t,e,1),t=hi(t,e,1),e=Xr(),t!==null&&(Lu(t,1,e),us(t,e));break}}t=t.return}}function wT(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Xr(),e.pingedLanes|=e.suspendedLanes&r,ur===e&&(gr&r)===r&&(sr===4||sr===3&&(gr&130023424)===gr&&500>Bt()-S1?fo(e,0):E1|=r),us(e,t)}function hN(e,t){t===0&&(e.mode&1?(t=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):t=1);var r=Xr();e=ga(e,t),e!==null&&(Lu(e,t,r),us(e,r))}function kT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hN(e,r)}function _T(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ve(314))}s!==null&&s.delete(t),hN(e,r)}var mN;mN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cs.current)ls=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ls=!1,dT(e,t,r);ls=!!(e.flags&131072)}else ls=!1,jt&&t.flags&1048576&&y4(t,$f,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;uf(e,t),e=t.pendingProps;var n=Xl(t,Dr.current);Nl(t,r),n=b1(null,t,s,e,n,r);var a=w1();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ds(s)?(a=!0,Bf(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,x1(t),n.updater=qh,t.stateNode=n,n._reactInternals=t,_p(t,s,e,r),t=Ep(null,t,s,!0,a,r)):(t.tag=0,jt&&a&&l1(t),Vr(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(uf(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=jT(s),e=Js(s,e),n){case 0:t=jp(null,t,s,e,r);break e;case 1:t=e2(null,t,s,e,r);break e;case 11:t=Zv(null,t,s,e,r);break e;case 14:t=Jv(null,t,s,Js(s.type,e),r);break e}throw Error(ve(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Js(s,n),jp(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Js(s,n),e2(e,t,s,n,r);case 3:e:{if(Q4(t),e===null)throw Error(ve(387));s=t.pendingProps,a=t.memoizedState,n=a.element,N4(e,t),Hf(t,s,null,r);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=Jl(Error(ve(423)),t),t=t2(e,t,s,r,n);break e}else if(s!==n){n=Jl(Error(ve(424)),t),t=t2(e,t,s,r,n);break e}else for(ws=fi(t.stateNode.containerInfo.firstChild),ks=t,jt=!0,sn=null,r=k4(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yl(),s===n){t=ya(e,t,r);break e}Vr(e,t,s,r)}t=t.child}return t;case 5:return j4(t),e===null&&bp(t),s=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,i=n.children,xp(s,n)?i=null:a!==null&&xp(s,a)&&(t.flags|=32),Y4(e,t),Vr(e,t,i,r),t.child;case 6:return e===null&&bp(t),null;case 13:return Z4(e,t,r);case 4:return p1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ql(t,null,s,r):Vr(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Js(s,n),Zv(e,t,s,n,r);case 7:return Vr(e,t,t.pendingProps,r),t.child;case 8:return Vr(e,t,t.pendingProps.children,r),t.child;case 12:return Vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,a=t.memoizedProps,i=n.value,xt(zf,s._currentValue),s._currentValue=i,a!==null)if(pn(a.value,i)){if(a.children===n.children&&!cs.current){t=ya(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=ca(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),wp(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ve(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),wp(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Vr(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,Nl(t,r),n=$s(n),s=s(n),t.flags|=1,Vr(e,t,s,r),t.child;case 14:return s=t.type,n=Js(s,t.pendingProps),n=Js(s.type,n),Jv(e,t,s,n,r);case 15:return K4(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Js(s,n),uf(e,t),t.tag=1,ds(s)?(e=!0,Bf(t)):e=!1,Nl(t,r),W4(t,s,n),_p(t,s,n,r),Ep(null,t,s,!0,e,r);case 19:return J4(e,t,r);case 22:return X4(e,t,r)}throw Error(ve(156,t.tag))};function xN(e,t){return z_(e,t)}function NT(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(e,t,r,s){return new NT(e,t,r,s)}function F1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jT(e){if(typeof e=="function")return F1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yg)return 11;if(e===Qg)return 14}return 2}function pi(e,t){var r=e.alternate;return r===null?(r=Ds(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mf(e,t,r,s,n,a){var i=2;if(s=e,typeof e=="function")F1(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ol:return ho(r.children,n,a,t);case Xg:i=8,n|=8;break;case Gx:return e=Ds(12,r,t,n|2),e.elementType=Gx,e.lanes=a,e;case Kx:return e=Ds(13,r,t,n),e.elementType=Kx,e.lanes=a,e;case Xx:return e=Ds(19,r,t,n),e.elementType=Xx,e.lanes=a,e;case j_:return Xh(r,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case __:i=10;break e;case N_:i=9;break e;case Yg:i=11;break e;case Qg:i=14;break e;case Pa:i=16,s=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Ds(i,r,t,n),t.elementType=e,t.type=s,t.lanes=a,t}function ho(e,t,r,s){return e=Ds(7,e,s,t),e.lanes=r,e}function Xh(e,t,r,s){return e=Ds(22,e,s,t),e.elementType=j_,e.lanes=r,e.stateNode={isHidden:!1},e}function rx(e,t,r){return e=Ds(6,e,null,t),e.lanes=r,e}function sx(e,t,r){return t=Ds(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ET(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function R1(e,t,r,s,n,a,i,l,c){return e=new ET(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ds(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x1(a),e}function ST(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function pN(e){if(!e)return ki;e=e._reactInternals;e:{if(Bo(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(ds(r))return p4(e,r,t)}return t}function gN(e,t,r,s,n,a,i,l,c){return e=R1(r,s,!0,e,n,a,i,l,c),e.context=pN(null),r=e.current,s=Xr(),n=xi(r),a=ca(s,n),a.callback=t??null,hi(r,a,n),e.current.lanes=n,Lu(e,n,s),us(e,s),e}function Yh(e,t,r,s){var n=t.current,a=Xr(),i=xi(n);return r=pN(r),t.context===null?t.context=r:t.pendingContext=r,t=ca(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=hi(n,t,i),e!==null&&(fn(e,n,i,a),lf(e,n,i)),i}function Zf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function P1(e,t){u2(e,t),(e=e.alternate)&&u2(e,t)}function CT(){return null}var yN=typeof reportError=="function"?reportError:function(e){console.error(e)};function M1(e){this._internalRoot=e}Qh.prototype.render=M1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Yh(e,t,null,null)};Qh.prototype.unmount=M1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jo(function(){Yh(null,e,null,null)}),t[pa]=null}};function Qh(e){this._internalRoot=e}Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=X_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oa.length&&t!==0&&t<Oa[r].priority;r++);Oa.splice(r,0,e),r===0&&Q_(e)}};function O1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f2(){}function TT(e,t,r,s,n){if(n){if(typeof s=="function"){var a=s;s=function(){var d=Zf(i);a.call(d)}}var i=gN(t,s,e,0,null,!1,!1,"",f2);return e._reactRootContainer=i,e[pa]=i.current,Wd(e.nodeType===8?e.parentNode:e),jo(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var d=Zf(c);l.call(d)}}var c=R1(e,0,!1,null,null,!1,!1,"",f2);return e._reactRootContainer=c,e[pa]=c.current,Wd(e.nodeType===8?e.parentNode:e),jo(function(){Yh(t,c,r,s)}),c}function Jh(e,t,r,s,n){var a=r._reactRootContainer;if(a){var i=a;if(typeof n=="function"){var l=n;n=function(){var c=Zf(i);l.call(c)}}Yh(t,i,e,n)}else i=TT(r,t,e,n,s);return Zf(i)}G_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qc(t.pendingLanes);r!==0&&(e1(t,r|1),us(t,Bt()),!(at&6)&&(ec=Bt()+500,Ai()))}break;case 13:jo(function(){var s=ga(e,1);if(s!==null){var n=Xr();fn(s,e,1,n)}}),P1(e,1)}};t1=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var r=Xr();fn(t,e,134217728,r)}P1(e,134217728)}};K_=function(e){if(e.tag===13){var t=xi(e),r=ga(e,t);if(r!==null){var s=Xr();fn(r,e,t,s)}P1(e,t)}};X_=function(){return dt};Y_=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};ap=function(e,t,r){switch(t){case"input":if(Zx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=Vh(s);if(!n)throw Error(ve(90));S_(s),Zx(s,n)}}}break;case"textarea":T_(e,r);break;case"select":t=r.value,t!=null&&bl(e,!!r.multiple,t,!1)}};L_=C1;D_=jo;var AT={usingClientEntryPoint:!1,Events:[Iu,ul,Vh,M_,O_,C1]},Oc={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U_(e),e===null?null:e.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||CT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{Bh=_0.inject(FT),Ln=_0}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT;Es.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(t))throw Error(ve(200));return ST(e,t,null,r)};Es.createRoot=function(e,t){if(!O1(e))throw Error(ve(299));var r=!1,s="",n=yN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=R1(e,1,!1,null,null,r,!1,s,n),e[pa]=t.current,Wd(e.nodeType===8?e.parentNode:e),new M1(t)};Es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=U_(t),e=e===null?null:e.stateNode,e};Es.flushSync=function(e){return jo(e)};Es.hydrate=function(e,t,r){if(!Zh(t))throw Error(ve(200));return Jh(null,e,t,!0,r)};Es.hydrateRoot=function(e,t,r){if(!O1(e))throw Error(ve(405));var s=r!=null&&r.hydratedSources||null,n=!1,a="",i=yN;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=gN(t,null,e,1,r??null,n,!1,a,i),e[pa]=t.current,Wd(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Qh(t)};Es.render=function(e,t,r){if(!Zh(t))throw Error(ve(200));return Jh(null,e,t,!1,r)};Es.unmountComponentAtNode=function(e){if(!Zh(e))throw Error(ve(40));return e._reactRootContainer?(jo(function(){Jh(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0):!1};Es.unstable_batchedUpdates=C1;Es.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Zh(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Jh(e,t,r,!1,s)};Es.version="18.3.1-next-f1338f8080-20240426";function vN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vN)}catch(e){console.error(e)}}vN(),v_.exports=Es;var bN=v_.exports,h2=bN;Wx.createRoot=h2.createRoot,Wx.hydrateRoot=h2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eu.apply(this,arguments)}var Ja;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ja||(Ja={}));const m2="popstate";function RT(e){e===void 0&&(e={});function t(s,n){let{pathname:a,search:i,hash:l}=s.location;return Ip("",{pathname:a,search:i,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:Jf(n)}return MT(t,r,null,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PT(){return Math.random().toString(36).substr(2,8)}function x2(e,t){return{usr:e.state,key:e.key,idx:t}}function Ip(e,t,r,s){return r===void 0&&(r=null),eu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dc(t):t,{state:r,key:t&&t.key||s||PT()})}function Jf(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function dc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function MT(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:a=!1}=s,i=n.history,l=Ja.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(eu({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){l=Ja.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:y})}function h(g,y){l=Ja.Push;let v=Ip(p.location,g,y);r&&r(v,g),d=u()+1;let b=x2(v,d),_=p.createHref(v);try{i.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(_)}a&&c&&c({action:l,location:p.location,delta:1})}function m(g,y){l=Ja.Replace;let v=Ip(p.location,g,y);r&&r(v,g),d=u();let b=x2(v,d),_=p.createHref(v);i.replaceState(b,"",_),a&&c&&c({action:l,location:p.location,delta:0})}function x(g){let y=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof g=="string"?g:Jf(g);return v=v.replace(/ $/,"%20"),zt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return e(n,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(m2,f),c=g,()=>{n.removeEventListener(m2,f),c=null}},createHref(g){return t(n,g)},createURL:x,encodeLocation(g){let y=x(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(g){return i.go(g)}};return p}var p2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(p2||(p2={}));function OT(e,t,r){return r===void 0&&(r="/"),LT(e,t,r,!1)}function LT(e,t,r,s){let n=typeof t=="string"?dc(t):t,a=L1(n.pathname||"/",r);if(a==null)return null;let i=kN(e);DT(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=KT(a);l=qT(i[c],d,s)}return l}function kN(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=gi([s,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kN(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:HT(d,a.index),routesMeta:u})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))n(a,i);else for(let c of _N(a.path))n(a,i,c)}),t}function _N(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return n?[a,""]:[a];let i=_N(s.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),n&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WT(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const IT=/^:[\w-]+$/,BT=3,UT=2,$T=1,zT=10,VT=-2,g2=e=>e==="*";function HT(e,t){let r=e.split("/"),s=r.length;return r.some(g2)&&(s+=VT),t&&(s+=UT),r.filter(n=>!g2(n)).reduce((n,a)=>n+(IT.test(a)?BT:a===""?$T:zT),s)}function WT(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function qT(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,n={},a="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=y2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=y2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),i.push({params:n,pathname:gi([a,f.pathname]),pathnameBase:ZT(gi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=gi([a,f.pathnameBase]))}return i}function y2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=GT(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let p=l[f]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:e}}function GT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function KT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function L1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function XT(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?dc(e):e;return{pathname:r?r.startsWith("/")?r:YT(r,t):t,search:JT(s),hash:e6(n)}}function YT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function nx(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function D1(e,t){let r=QT(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function I1(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=dc(e):(n=eu({},e),zt(!n.pathname||!n.pathname.includes("?"),nx("?","pathname","search",n)),zt(!n.pathname||!n.pathname.includes("#"),nx("#","pathname","hash",n)),zt(!n.search||!n.search.includes("#"),nx("#","search","hash",n)));let a=e===""||n.pathname==="",i=a?"/":n.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;n.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=XT(n,l),d=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),ZT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NN=["post","put","patch","delete"];new Set(NN);const r6=["get",...NN];new Set(r6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},tu.apply(this,arguments)}const B1=w.createContext(null),s6=w.createContext(null),Fi=w.createContext(null),em=w.createContext(null),Un=w.createContext({outlet:null,matches:[],isDataRoute:!1}),jN=w.createContext(null);function n6(e,t){let{relative:r}=t===void 0?{}:t;uc()||zt(!1);let{basename:s,navigator:n}=w.useContext(Fi),{hash:a,pathname:i,search:l}=SN(e,{relative:r}),c=i;return s!=="/"&&(c=i==="/"?s:gi([s,i])),n.createHref({pathname:c,search:l,hash:a})}function uc(){return w.useContext(em)!=null}function Uo(){return uc()||zt(!1),w.useContext(em).location}function EN(e){w.useContext(Fi).static||w.useLayoutEffect(e)}function fc(){let{isDataRoute:e}=w.useContext(Un);return e?b6():a6()}function a6(){uc()||zt(!1);let e=w.useContext(B1),{basename:t,future:r,navigator:s}=w.useContext(Fi),{matches:n}=w.useContext(Un),{pathname:a}=Uo(),i=JSON.stringify(D1(n,r.v7_relativeSplatPath)),l=w.useRef(!1);return EN(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=I1(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,i,a,e])}const i6=w.createContext(null);function o6(e){let t=w.useContext(Un).outlet;return t&&w.createElement(i6.Provider,{value:e},t)}function l6(){let{matches:e}=w.useContext(Un),t=e[e.length-1];return t?t.params:{}}function SN(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=w.useContext(Fi),{matches:n}=w.useContext(Un),{pathname:a}=Uo(),i=JSON.stringify(D1(n,s.v7_relativeSplatPath));return w.useMemo(()=>I1(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function c6(e,t){return d6(e,t)}function d6(e,t,r,s){uc()||zt(!1);let{navigator:n}=w.useContext(Fi),{matches:a}=w.useContext(Un),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Uo(),u;if(t){var f;let g=typeof t=="string"?dc(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||zt(!1),u=g}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=OT(e,{pathname:m}),p=x6(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:gi([c,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:gi([c,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,s);return t&&p?w.createElement(em.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ja.Pop}},p):p}function u6(){let e=v6(),t=t6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:n},r):null,a)}const f6=w.createElement(u6,null);class h6 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Un.Provider,{value:this.props.routeContext},w.createElement(jN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m6(e){let{routeContext:t,match:r,children:s}=e,n=w.useContext(B1);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Un.Provider,{value:t},s)}function x6(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let u=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||zt(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let m,x=!1,p=null,g=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||f6,c&&(d<0&&h===0?(w6("route-fallback",!1),x=!0,g=null):d===h&&(x=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let b;return m?b=p:x?b=g:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,w.createElement(m6,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(h6,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var CN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CN||{}),eh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eh||{});function p6(e){let t=w.useContext(B1);return t||zt(!1),t}function g6(e){let t=w.useContext(s6);return t||zt(!1),t}function y6(e){let t=w.useContext(Un);return t||zt(!1),t}function TN(e){let t=y6(),r=t.matches[t.matches.length-1];return r.route.id||zt(!1),r.route.id}function v6(){var e;let t=w.useContext(jN),r=g6(eh.UseRouteError),s=TN(eh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function b6(){let{router:e}=p6(CN.UseNavigateStable),t=TN(eh.UseNavigateStable),r=w.useRef(!1);return EN(()=>{r.current=!0}),w.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,tu({fromRouteId:t},a)))},[e,t])}const v2={};function w6(e,t,r){!t&&!v2[e]&&(v2[e]=!0)}function k6(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function N0(e){let{to:t,replace:r,state:s,relative:n}=e;uc()||zt(!1);let{future:a,static:i}=w.useContext(Fi),{matches:l}=w.useContext(Un),{pathname:c}=Uo(),d=fc(),u=I1(t,D1(l,a.v7_relativeSplatPath),c,n==="path"),f=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:n}),[d,f,n,r,s]),null}function AN(e){return o6(e.context)}function qt(e){zt(!1)}function _6(e){let{basename:t="/",children:r=null,location:s,navigationType:n=Ja.Pop,navigator:a,static:i=!1,future:l}=e;uc()&&zt(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:i,future:tu({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof s=="string"&&(s=dc(s));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:x="default"}=s,p=w.useMemo(()=>{let g=L1(u,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:x},navigationType:n}},[c,u,f,h,m,x,n]);return p==null?null:w.createElement(Fi.Provider,{value:d},w.createElement(em.Provider,{children:r,value:p}))}function N6(e){let{children:t,location:r}=e;return c6(Bp(t),r)}new Promise(()=>{});function Bp(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(s,n)=>{if(!w.isValidElement(s))return;let a=[...t,n];if(s.type===w.Fragment){r.push.apply(r,Bp(s.props.children,a));return}s.type!==qt&&zt(!1),!s.props.index||!s.props.children||zt(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Bp(s.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Up.apply(this,arguments)}function j6(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,a;for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function E6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S6(e,t){return e.button===0&&(!t||t==="_self")&&!E6(e)}const C6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T6="6";try{window.__reactRouterVersion=T6}catch{}const A6="startTransition",b2=Gl[A6];function F6(e){let{basename:t,children:r,future:s,window:n}=e,a=w.useRef();a.current==null&&(a.current=RT({window:n,v5Compat:!0}));let i=a.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=w.useCallback(f=>{d&&b2?b2(()=>c(f)):c(f)},[c,d]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.useEffect(()=>k6(s),[s]),w.createElement(_6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:s})}const R6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=w.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:a,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=j6(t,C6),{basename:m}=w.useContext(Fi),x,p=!1;if(typeof d=="string"&&P6.test(d)&&(x=d,R6))try{let b=new URL(window.location.href),_=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=L1(_.pathname,m);_.origin===b.origin&&j!=null?d=j+_.search+_.hash:p=!0}catch{}let g=n6(d,{relative:n}),y=M6(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:f});function v(b){s&&s(b),b.defaultPrevented||y(b)}return w.createElement("a",Up({},h,{href:x||g,onClick:p||a?s:v,ref:r,target:c}))});var w2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(w2||(w2={}));var k2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k2||(k2={}));function M6(e,t){let{target:r,replace:s,state:n,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=fc(),d=Uo(),u=SN(e,{relative:i});return w.useCallback(f=>{if(S6(f,r)){f.preventDefault();let h=s!==void 0?s:Jf(d)===Jf(u);c(e,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,u,s,n,r,e,a,i,l])}var hc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},O6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},za,$g,Qk,L6=(Qk=class{constructor(){Pe(this,za,O6);Pe(this,$g,!1)}setTimeoutProvider(e){je(this,za,e)}setTimeout(e,t){return q(this,za).setTimeout(e,t)}clearTimeout(e){q(this,za).clearTimeout(e)}setInterval(e,t){return q(this,za).setInterval(e,t)}clearInterval(e){q(this,za).clearInterval(e)}},za=new WeakMap,$g=new WeakMap,Qk),Xi=new L6;function D6(e){setTimeout(e,0)}var Eo=typeof window>"u"||"Deno"in globalThis;function Hr(){}function I6(e,t){return typeof e=="function"?e(t):e}function $p(e){return typeof e=="number"&&e>=0&&e!==1/0}function FN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yi(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){return typeof e=="function"?e(t):e}function _2(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==U1(i,t.options))return!1}else if(!ru(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||a&&!a(t))}function N2(e,t){const{exact:r,status:s,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(So(t.options.mutationKey)!==So(a))return!1}else if(!ru(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function U1(e,t){return((t==null?void 0:t.queryKeyHashFn)||So)(e)}function So(e){return JSON.stringify(e,(t,r)=>zp(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function ru(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ru(e[r],t[r])):!1}var B6=Object.prototype.hasOwnProperty;function RN(e,t){if(e===t)return e;const r=j2(e)&&j2(t);if(!r&&!(zp(e)&&zp(t)))return t;const n=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let d=0;d<i;d++){const u=r?d:a[d],f=e[u],h=t[u];if(f===h){l[u]=f,(r?d<n:B6.call(e,u))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[u]=h;continue}const m=RN(f,h);l[u]=m,m===f&&c++}return n===i&&c===n?e:l}function th(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function j2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zp(e){if(!E2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!E2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function E2(e){return Object.prototype.toString.call(e)==="[object Object]"}function U6(e){return new Promise(t=>{Xi.setTimeout(t,e)})}function Vp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?RN(e,t):t}function $6(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function z6(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var $1=Symbol();function PN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function MN(e,t){return typeof e=="function"?e(...t):!!e}var to,Va,Ml,Zk,V6=(Zk=class extends hc{constructor(){super();Pe(this,to,void 0);Pe(this,Va,void 0);Pe(this,Ml,void 0);je(this,Ml,t=>{if(!Eo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){q(this,Va)||this.setEventListener(q(this,Ml))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Va))==null||t.call(this),je(this,Va,void 0))}setEventListener(t){var r;je(this,Ml,t),(r=q(this,Va))==null||r.call(this),je(this,Va,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){q(this,to)!==t&&(je(this,to,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof q(this,to)=="boolean"?q(this,to):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},to=new WeakMap,Va=new WeakMap,Ml=new WeakMap,Zk),z1=new V6;function Hp(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}var H6=D6;function W6(){let e=[],t=0,r=l=>{l()},s=l=>{l()},n=H6;const a=l=>{t?e.push(l):n(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var tr=W6(),Ol,Ha,Ll,Jk,q6=(Jk=class extends hc{constructor(){super();Pe(this,Ol,!0);Pe(this,Ha,void 0);Pe(this,Ll,void 0);je(this,Ll,t=>{if(!Eo&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){q(this,Ha)||this.setEventListener(q(this,Ll))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Ha))==null||t.call(this),je(this,Ha,void 0))}setEventListener(t){var r;je(this,Ll,t),(r=q(this,Ha))==null||r.call(this),je(this,Ha,t(this.setOnline.bind(this)))}setOnline(t){q(this,Ol)!==t&&(je(this,Ol,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return q(this,Ol)}},Ol=new WeakMap,Ha=new WeakMap,Ll=new WeakMap,Jk),rh=new q6;function G6(e){return Math.min(1e3*2**e,3e4)}function ON(e){return(e??"online")==="online"?rh.isOnline():!0}var Wp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function LN(e){let t=!1,r=0,s;const n=Hp(),a=()=>n.status!=="pending",i=p=>{var g;if(!a()){const y=new Wp(p);h(y),(g=e.onCancel)==null||g.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>z1.isFocused()&&(e.networkMode==="always"||rh.isOnline())&&e.canRun(),u=()=>ON(e.networkMode)&&e.canRun(),f=p=>{a()||(s==null||s(),n.resolve(p))},h=p=>{a()||(s==null||s(),n.reject(p))},m=()=>new Promise(p=>{var g;s=y=>{(a()||d())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;s=void 0,a()||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(a())return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var S;if(a())return;const v=e.retry??(Eo?0:3),b=e.retryDelay??G6,_=typeof b=="function"?b(r,y):b,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!j){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),U6(_).then(()=>d()?void 0:m()).then(()=>{t?h(y):x()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(s==null||s(),n),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():m().then(x),n)}}var ro,e_,DN=(e_=class{constructor(){Pe(this,ro,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$p(this.gcTime)&&je(this,ro,Xi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Eo?1/0:5*60*1e3))}clearGcTimeout(){q(this,ro)&&(Xi.clearTimeout(q(this,ro)),je(this,ro,void 0))}},ro=new WeakMap,e_),so,Dl,Ps,no,lr,ku,ao,en,Kn,t_,K6=(t_=class extends DN{constructor(t){super();Pe(this,en);Pe(this,so,void 0);Pe(this,Dl,void 0);Pe(this,Ps,void 0);Pe(this,no,void 0);Pe(this,lr,void 0);Pe(this,ku,void 0);Pe(this,ao,void 0);je(this,ao,!1),je(this,ku,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,no,t.client),je(this,Ps,q(this,no).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,so,S2(this.options)),this.state=t.state??q(this,so),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,lr))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,ku),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=S2(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),je(this,so,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Ps).remove(this)}setData(t,r){const s=Vp(this.state.data,t,this.options);return Xe(this,en,Kn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Xe(this,en,Kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,n;const r=(s=q(this,lr))==null?void 0:s.promise;return(n=q(this,lr))==null||n.cancel(t),r?r.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,so))}isActive(){return this.observers.some(t=>Ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!FN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,lr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,lr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Ps).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,lr)&&(q(this,ao)?q(this,lr).cancel({revert:!0}):q(this,lr).cancelRetry()),this.scheduleGc()),q(this,Ps).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,en,Kn).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,f,h,m,x,p,g,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=q(this,lr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,lr))return q(this,lr).continueRetry(),q(this,lr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,n=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(je(this,ao,!0),s.signal)})},a=()=>{const _=PN(this.options,r),S=(()=>{const N={client:q(this,no),queryKey:this.queryKey,meta:this.meta};return n(N),N})();return je(this,ao,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:q(this,no),state:this.state,fetchFn:a};return n(_),_})();(d=this.options.behavior)==null||d.onFetch(l,this),je(this,Dl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Xe(this,en,Kn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),je(this,lr,LN({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Wp&&_.revert&&this.setState({...q(this,Dl),fetchStatus:"idle"}),s.abort()},onFail:(_,j)=>{Xe(this,en,Kn).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{Xe(this,en,Kn).call(this,{type:"pause"})},onContinue:()=>{Xe(this,en,Kn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await q(this,lr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=q(this,Ps).config).onSuccess)==null||m.call(h,_,this),(p=(x=q(this,Ps).config).onSettled)==null||p.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof Wp){if(_.silent)return q(this,lr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Xe(this,en,Kn).call(this,{type:"error",error:_}),(y=(g=q(this,Ps).config).onError)==null||y.call(g,_,this),(b=(v=q(this,Ps).config).onSettled)==null||b.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},so=new WeakMap,Dl=new WeakMap,Ps=new WeakMap,no=new WeakMap,lr=new WeakMap,ku=new WeakMap,ao=new WeakMap,en=new WeakSet,Kn=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...IN(s.data,this.options),fetchMeta:t.meta??null};case"success":const n={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,Dl,t.manual?n:void 0),n;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,Ps).notify({query:this,type:"updated",action:t})})},t_);function IN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ON(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function S2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rs,Je,_u,$r,io,Il,ea,Wa,Nu,Bl,Ul,oo,lo,qa,$l,co,Jc,ju,qp,Eu,Gp,Su,Kp,Cu,Xp,Tu,Yp,Au,Qp,Fu,Zp,Dh,BN,r_,X6=(r_=class extends hc{constructor(t,r){super();Pe(this,co);Pe(this,ju);Pe(this,Eu);Pe(this,Su);Pe(this,Cu);Pe(this,Tu);Pe(this,Au);Pe(this,Fu);Pe(this,Dh);Pe(this,rs,void 0);Pe(this,Je,void 0);Pe(this,_u,void 0);Pe(this,$r,void 0);Pe(this,io,void 0);Pe(this,Il,void 0);Pe(this,ea,void 0);Pe(this,Wa,void 0);Pe(this,Nu,void 0);Pe(this,Bl,void 0);Pe(this,Ul,void 0);Pe(this,oo,void 0);Pe(this,lo,void 0);Pe(this,qa,void 0);Pe(this,$l,new Set);this.options=r,je(this,rs,t),je(this,Wa,null),je(this,ea,Hp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),C2(q(this,Je),this.options)?Xe(this,co,Jc).call(this):this.updateResult(),Xe(this,Cu,Xp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jp(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jp(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,Tu,Yp).call(this),Xe(this,Au,Qp).call(this),q(this,Je).removeObserver(this)}setOptions(t){const r=this.options,s=q(this,Je);if(this.options=q(this,rs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,Fu,Zp).call(this),q(this,Je).setOptions(this.options),r._defaulted&&!th(this.options,r)&&q(this,rs).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const n=this.hasListeners();n&&T2(q(this,Je),s,this.options,r)&&Xe(this,co,Jc).call(this),this.updateResult(),n&&(q(this,Je)!==s||Ms(this.options.enabled,q(this,Je))!==Ms(r.enabled,q(this,Je))||yi(this.options.staleTime,q(this,Je))!==yi(r.staleTime,q(this,Je)))&&Xe(this,ju,qp).call(this);const a=Xe(this,Eu,Gp).call(this);n&&(q(this,Je)!==s||Ms(this.options.enabled,q(this,Je))!==Ms(r.enabled,q(this,Je))||a!==q(this,qa))&&Xe(this,Su,Kp).call(this,a)}getOptimisticResult(t){const r=q(this,rs).getQueryCache().build(q(this,rs),t),s=this.createResult(r,t);return Q6(this,s)&&(je(this,$r,s),je(this,Il,this.options),je(this,io,q(this,Je).state)),s}getCurrentResult(){return q(this,$r)}trackResult(t,r){return new Proxy(t,{get:(s,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&!this.options.experimental_prefetchInRender&&q(this,ea).status==="pending"&&q(this,ea).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,n))})}trackProp(t){q(this,$l).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=q(this,rs).defaultQueryOptions(t),s=q(this,rs).getQueryCache().build(q(this,rs),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Xe(this,co,Jc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,$r)))}createResult(t,r){var E;const s=q(this,Je),n=this.options,a=q(this,$r),i=q(this,io),l=q(this,Il),d=t!==s?t.state:q(this,_u),{state:u}=t;let f={...u},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),A=!C&&C2(t,r),F=C&&T2(t,s,r,n);(A||F)&&(f={...f,...IN(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let C;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=a.data,y=!0):C=typeof r.placeholderData=="function"?r.placeholderData((E=q(this,Ul))==null?void 0:E.state.data,q(this,Ul)):r.placeholderData,C!==void 0&&(g="success",m=Vp(a==null?void 0:a.data,C,r),h=!0)}if(r.select&&m!==void 0&&!y)if(a&&m===(i==null?void 0:i.data)&&r.select===q(this,Nu))m=q(this,Bl);else try{je(this,Nu,r.select),m=r.select(m),m=Vp(a==null?void 0:a.data,m,r),je(this,Bl,m),je(this,Wa,null)}catch(C){je(this,Wa,C)}q(this,Wa)&&(x=q(this,Wa),m=q(this,Bl),p=Date.now(),g="error");const v=f.fetchStatus==="fetching",b=g==="pending",_=g==="error",j=b&&v,S=m!==void 0,k={status:g,fetchStatus:f.fetchStatus,isPending:b,isSuccess:g==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:V1(t,r),refetch:this.refetch,promise:q(this,ea),isEnabled:Ms(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=M=>{k.status==="error"?M.reject(k.error):k.data!==void 0&&M.resolve(k.data)},A=()=>{const M=je(this,ea,k.promise=Hp());C(M)},F=q(this,ea);switch(F.status){case"pending":t.queryHash===s.queryHash&&C(F);break;case"fulfilled":(k.status==="error"||k.data!==F.value)&&A();break;case"rejected":(k.status!=="error"||k.error!==F.reason)&&A();break}}return k}updateResult(){const t=q(this,$r),r=this.createResult(q(this,Je),this.options);if(je(this,io,q(this,Je).state),je(this,Il,this.options),q(this,io).data!==void 0&&je(this,Ul,q(this,Je)),th(r,t))return;je(this,$r,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!q(this,$l).size)return!0;const i=new Set(a??q(this,$l));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,$r)).some(l=>{const c=l;return q(this,$r)[c]!==t[c]&&i.has(c)})};Xe(this,Dh,BN).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,Cu,Xp).call(this)}},rs=new WeakMap,Je=new WeakMap,_u=new WeakMap,$r=new WeakMap,io=new WeakMap,Il=new WeakMap,ea=new WeakMap,Wa=new WeakMap,Nu=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,oo=new WeakMap,lo=new WeakMap,qa=new WeakMap,$l=new WeakMap,co=new WeakSet,Jc=function(t){Xe(this,Fu,Zp).call(this);let r=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Hr)),r},ju=new WeakSet,qp=function(){Xe(this,Tu,Yp).call(this);const t=yi(this.options.staleTime,q(this,Je));if(Eo||q(this,$r).isStale||!$p(t))return;const s=FN(q(this,$r).dataUpdatedAt,t)+1;je(this,oo,Xi.setTimeout(()=>{q(this,$r).isStale||this.updateResult()},s))},Eu=new WeakSet,Gp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},Su=new WeakSet,Kp=function(t){Xe(this,Au,Qp).call(this),je(this,qa,t),!(Eo||Ms(this.options.enabled,q(this,Je))===!1||!$p(q(this,qa))||q(this,qa)===0)&&je(this,lo,Xi.setInterval(()=>{(this.options.refetchIntervalInBackground||z1.isFocused())&&Xe(this,co,Jc).call(this)},q(this,qa)))},Cu=new WeakSet,Xp=function(){Xe(this,ju,qp).call(this),Xe(this,Su,Kp).call(this,Xe(this,Eu,Gp).call(this))},Tu=new WeakSet,Yp=function(){q(this,oo)&&(Xi.clearTimeout(q(this,oo)),je(this,oo,void 0))},Au=new WeakSet,Qp=function(){q(this,lo)&&(Xi.clearInterval(q(this,lo)),je(this,lo,void 0))},Fu=new WeakSet,Zp=function(){const t=q(this,rs).getQueryCache().build(q(this,rs),this.options);if(t===q(this,Je))return;const r=q(this,Je);je(this,Je,t),je(this,_u,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Dh=new WeakSet,BN=function(t){tr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(q(this,$r))}),q(this,rs).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},r_);function Y6(e,t){return Ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function C2(e,t){return Y6(e,t)||e.state.data!==void 0&&Jp(e,t,t.refetchOnMount)}function Jp(e,t,r){if(Ms(t.enabled,e)!==!1&&yi(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&V1(e,t)}return!1}function T2(e,t,r,s){return(e!==t||Ms(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&V1(e,r)}function V1(e,t){return Ms(t.enabled,e)!==!1&&e.isStaleByTime(yi(t.staleTime,e))}function Q6(e,t){return!th(e.getCurrentResult(),t)}function A2(e){return{onFetch:(t,r)=>{var u,f,h,m,x;const s=t.options,n=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=PN(t.options,t.fetchOptions),v=async(b,_,j)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return g(A),A})(),k=await y(N),{maxPages:E}=t.options,C=j?z6:$6;return{pages:C(b.pages,k,E),pageParams:C(b.pageParams,_,E)}};if(n&&a.length){const b=n==="backward",_=b?Z6:F2,j={pages:a,pageParams:i},S=_(s,j);l=await v(j,S,b)}else{const b=e??a.length;do{const _=c===0?i[0]??s.initialPageParam:F2(s,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function F2(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Z6(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ru,Tn,zr,uo,An,Ra,s_,J6=(s_=class extends DN{constructor(t){super();Pe(this,An);Pe(this,Ru,void 0);Pe(this,Tn,void 0);Pe(this,zr,void 0);Pe(this,uo,void 0);je(this,Ru,t.client),this.mutationId=t.mutationId,je(this,zr,t.mutationCache),je(this,Tn,[]),this.state=t.state||UN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,Tn).includes(t)||(q(this,Tn).push(t),this.clearGcTimeout(),q(this,zr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,Tn,q(this,Tn).filter(r=>r!==t)),this.scheduleGc(),q(this,zr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,Tn).length||(this.state.status==="pending"?this.scheduleGc():q(this,zr).remove(this))}continue(){var t;return((t=q(this,uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,d,u,f,h,m,x,p,g,y,v,b,_,j,S,N,k,E;const r=()=>{Xe(this,An,Ra).call(this,{type:"continue"})},s={client:q(this,Ru),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,uo,LN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Xe(this,An,Ra).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Xe(this,An,Ra).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,zr).canRun(this)}));const n=this.state.status==="pending",a=!q(this,uo).canStart();try{if(n)r();else{Xe(this,An,Ra).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=q(this,zr).config).onMutate)==null?void 0:l.call(i,t,this,s));const A=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,s));A!==this.state.context&&Xe(this,An,Ra).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const C=await q(this,uo).start();return await((f=(u=q(this,zr).config).onSuccess)==null?void 0:f.call(u,C,t,this.state.context,this,s)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,t,this.state.context,s)),await((p=(x=q(this,zr).config).onSettled)==null?void 0:p.call(x,C,null,this.state.variables,this.state.context,this,s)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,t,this.state.context,s)),Xe(this,An,Ra).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(v=q(this,zr).config).onError)==null?void 0:b.call(v,C,t,this.state.context,this,s)),await((j=(_=this.options).onError)==null?void 0:j.call(_,C,t,this.state.context,s)),await((N=(S=q(this,zr).config).onSettled)==null?void 0:N.call(S,void 0,C,this.state.variables,this.state.context,this,s)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,C,t,this.state.context,s)),C}finally{Xe(this,An,Ra).call(this,{type:"error",error:C})}}finally{q(this,zr).runNext(this)}}},Ru=new WeakMap,Tn=new WeakMap,zr=new WeakMap,uo=new WeakMap,An=new WeakSet,Ra=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tr.batch(()=>{q(this,Tn).forEach(s=>{s.onMutationUpdate(t)}),q(this,zr).notify({mutation:this,type:"updated",action:t})})},s_);function UN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ta,tn,Pu,n_,eA=(n_=class extends hc{constructor(t={}){super();Pe(this,ta,void 0);Pe(this,tn,void 0);Pe(this,Pu,void 0);this.config=t,je(this,ta,new Set),je(this,tn,new Map),je(this,Pu,0)}build(t,r,s){const n=new J6({client:t,mutationCache:this,mutationId:++i0(this,Pu)._,options:t.defaultMutationOptions(r),state:s});return this.add(n),n}add(t){q(this,ta).add(t);const r=j0(t);if(typeof r=="string"){const s=q(this,tn).get(r);s?s.push(t):q(this,tn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,ta).delete(t)){const r=j0(t);if(typeof r=="string"){const s=q(this,tn).get(r);if(s)if(s.length>1){const n=s.indexOf(t);n!==-1&&s.splice(n,1)}else s[0]===t&&q(this,tn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=j0(t);if(typeof r=="string"){const s=q(this,tn).get(r),n=s==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){var s;const r=j0(t);if(typeof r=="string"){const n=(s=q(this,tn).get(r))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tr.batch(()=>{q(this,ta).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,ta).clear(),q(this,tn).clear()})}getAll(){return Array.from(q(this,ta))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>N2(r,s))}findAll(t={}){return this.getAll().filter(r=>N2(t,r))}notify(t){tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return tr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Hr))))}},ta=new WeakMap,tn=new WeakMap,Pu=new WeakMap,n_);function j0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ra,Ga,ss,sa,zl,xf,Mu,eg,a_,tA=(a_=class extends hc{constructor(r,s){super();Pe(this,zl);Pe(this,Mu);Pe(this,ra,void 0);Pe(this,Ga,void 0);Pe(this,ss,void 0);Pe(this,sa,void 0);je(this,ra,r),this.setOptions(s),this.bindMethods(),Xe(this,zl,xf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const s=this.options;this.options=q(this,ra).defaultMutationOptions(r),th(this.options,s)||q(this,ra).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,ss),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&So(s.mutationKey)!==So(this.options.mutationKey)?this.reset():((n=q(this,ss))==null?void 0:n.state.status)==="pending"&&q(this,ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=q(this,ss))==null||r.removeObserver(this)}onMutationUpdate(r){Xe(this,zl,xf).call(this),Xe(this,Mu,eg).call(this,r)}getCurrentResult(){return q(this,Ga)}reset(){var r;(r=q(this,ss))==null||r.removeObserver(this),je(this,ss,void 0),Xe(this,zl,xf).call(this),Xe(this,Mu,eg).call(this)}mutate(r,s){var n;return je(this,sa,s),(n=q(this,ss))==null||n.removeObserver(this),je(this,ss,q(this,ra).getMutationCache().build(q(this,ra),this.options)),q(this,ss).addObserver(this),q(this,ss).execute(r)}},ra=new WeakMap,Ga=new WeakMap,ss=new WeakMap,sa=new WeakMap,zl=new WeakSet,xf=function(){var s;const r=((s=q(this,ss))==null?void 0:s.state)??UN();je(this,Ga,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Mu=new WeakSet,eg=function(r){tr.batch(()=>{var s,n,a,i,l,c,d,u;if(q(this,sa)&&this.hasListeners()){const f=q(this,Ga).variables,h=q(this,Ga).context,m={client:q(this,ra),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(s=q(this,sa)).onSuccess)==null||n.call(s,r.data,f,h,m),(i=(a=q(this,sa)).onSettled)==null||i.call(a,r.data,null,f,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=q(this,sa)).onError)==null||c.call(l,r.error,f,h,m),(u=(d=q(this,sa)).onSettled)==null||u.call(d,void 0,r.error,f,h,m))}this.listeners.forEach(f=>{f(q(this,Ga))})})},a_),Fn,i_,rA=(i_=class extends hc{constructor(t={}){super();Pe(this,Fn,void 0);this.config=t,je(this,Fn,new Map)}build(t,r,s){const n=r.queryKey,a=r.queryHash??U1(n,r);let i=this.get(a);return i||(i=new K6({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){q(this,Fn).has(t.queryHash)||(q(this,Fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=q(this,Fn).get(t.queryHash);r&&(t.destroy(),r===t&&q(this,Fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Fn).get(t)}getAll(){return[...q(this,Fn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>_2(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>_2(t,s)):r}notify(t){tr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fn=new WeakMap,i_),Rt,Ka,Xa,Vl,Hl,Ya,Wl,ql,o_,sA=(o_=class{constructor(e={}){Pe(this,Rt,void 0);Pe(this,Ka,void 0);Pe(this,Xa,void 0);Pe(this,Vl,void 0);Pe(this,Hl,void 0);Pe(this,Ya,void 0);Pe(this,Wl,void 0);Pe(this,ql,void 0);je(this,Rt,e.queryCache||new rA),je(this,Ka,e.mutationCache||new eA),je(this,Xa,e.defaultOptions||{}),je(this,Vl,new Map),je(this,Hl,new Map),je(this,Ya,0)}mount(){i0(this,Ya)._++,q(this,Ya)===1&&(je(this,Wl,z1.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Rt).onFocus())})),je(this,ql,rh.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Rt).onOnline())})))}unmount(){var e,t;i0(this,Ya)._--,q(this,Ya)===0&&((e=q(this,Wl))==null||e.call(this),je(this,Wl,void 0),(t=q(this,ql))==null||t.call(this),je(this,ql,void 0))}isFetching(e){return q(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,Ka).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=q(this,Rt).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return q(this,Rt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),n=q(this,Rt).get(s.queryHash),a=n==null?void 0:n.state.data,i=I6(t,a);if(i!==void 0)return q(this,Rt).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return tr.batch(()=>q(this,Rt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=q(this,Rt);tr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=q(this,Rt);return tr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=tr.batch(()=>q(this,Rt).findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(Hr).catch(Hr)}invalidateQueries(e,t={}){return tr.batch(()=>(q(this,Rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=tr.batch(()=>q(this,Rt).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(Hr)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=q(this,Rt).build(this,t);return r.isStaleByTime(yi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=A2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=A2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rh.isOnline()?q(this,Ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Rt)}getMutationCache(){return q(this,Ka)}getDefaultOptions(){return q(this,Xa)}setDefaultOptions(e){je(this,Xa,e)}setQueryDefaults(e,t){q(this,Vl).set(So(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,Vl).values()],r={};return t.forEach(s=>{ru(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){q(this,Hl).set(So(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,Hl).values()],r={};return t.forEach(s=>{ru(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,Xa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=U1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,Xa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,Rt).clear(),q(this,Ka).clear()}},Rt=new WeakMap,Ka=new WeakMap,Xa=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,Ya=new WeakMap,Wl=new WeakMap,ql=new WeakMap,o_),$N=w.createContext(void 0),hs=e=>{const t=w.useContext($N);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nA=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx($N.Provider,{value:e,children:t})),zN=w.createContext(!1),aA=()=>w.useContext(zN);zN.Provider;function iA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oA=w.createContext(iA()),lA=()=>w.useContext(oA),cA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dA=e=>{w.useEffect(()=>{e.clearReset()},[e])},uA=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||MN(r,[e.error,s])),fA=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...n)=>r(s(...n)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hA=(e,t)=>e.isLoading&&e.isFetching&&!t,mA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,R2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function xA(e,t,r){var f,h,m,x,p;const s=aA(),n=lA(),a=hs(r),i=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=s?"isRestoring":"optimistic",fA(i),cA(i,n),dA(n);const l=!a.getQueryCache().get(i.queryHash),[c]=w.useState(()=>new t(a,i)),d=c.getOptimisticResult(i),u=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(g=>{const y=u?c.subscribe(tr.batchCalls(g)):Hr;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(i)},[i,c]),mA(i,d))throw R2(i,c,n);if(uA({result:d,errorResetBoundary:n,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,i,d),i.experimental_prefetchInRender&&!Eo&&hA(d,s)){const g=l?R2(i,c,n):(p=a.getQueryCache().get(i.queryHash))==null?void 0:p.promise;g==null||g.catch(Hr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function tt(e,t){return xA(e,X6,t)}function pt(e,t){const r=hs(t),[s]=w.useState(()=>new tA(r,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const n=w.useSyncExternalStore(w.useCallback(i=>s.subscribe(tr.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((i,l)=>{s.mutate(i,l).catch(Hr)},[s]);if(n.error&&MN(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}let pA={data:""},gA=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||pA,yA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vA=/\/\*[^]*?\*\/|  +/g,P2=/\n+/g,Da=(e,t)=>{let r="",s="",n="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":s+=a[1]=="f"?Da(i,a):a+"{"+Da(i,a[1]=="k"?"":t)+"}":typeof i=="object"?s+=Da(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Da.p?Da.p(a,i):a+":"+i+";")}return r+(t&&n?t+"{"+n+"}":n)+s},Hn={},VN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+VN(e[r]);return t}return e},bA=(e,t,r,s,n)=>{let a=VN(e),i=Hn[a]||(Hn[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Hn[i]){let c=a!==e?e:(d=>{let u,f,h=[{}];for(;u=yA.exec(d.replace(vA,""));)u[4]?h.shift():u[3]?(f=u[3].replace(P2," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(P2," ").trim();return h[0]})(e);Hn[i]=Da(n?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Hn.g?Hn.g:null;return r&&(Hn.g=Hn[i]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Hn[i],t,s,l),i},wA=(e,t,r)=>e.reduce((s,n,a)=>{let i=t[a];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Da(l,""):l===!1?"":l}return s+n+(i??"")},"");function tm(e){let t=this||{},r=e.call?e(t.p):e;return bA(r.unshift?r.raw?wA(r,[].slice.call(arguments,1),t.p):r.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):r,gA(t.target),t.g,t.o,t.k)}let HN,tg,rg;tm.bind({g:1});let va=tm.bind({k:1});function kA(e,t,r,s){Da.p=t,HN=e,tg=r,rg=s}function Ri(e,t){let r=this||{};return function(){let s=arguments;function n(a,i){let l=Object.assign({},a),c=l.className||n.className;r.p=Object.assign({theme:tg&&tg()},l),r.o=/ *go\d+/.test(c),l.className=tm.apply(r,s)+(c?" "+c:""),t&&(l.ref=i);let d=e;return e[0]&&(d=l.as||e,delete l.as),rg&&d[0]&&rg(l),HN(d,l)}return t?t(n):n}}var _A=e=>typeof e=="function",sh=(e,t)=>_A(e)?e(t):e,NA=(()=>{let e=0;return()=>(++e).toString()})(),WN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jA=20,H1="default",qN=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:s}=t;return qN(e,{type:e.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},pf=[],GN={toasts:[],pausedAt:void 0,settings:{toastLimit:jA}},Pn={},KN=(e,t=H1)=>{Pn[t]=qN(Pn[t]||GN,e),pf.forEach(([r,s])=>{r===t&&s(Pn[t])})},XN=e=>Object.keys(Pn).forEach(t=>KN(e,t)),EA=e=>Object.keys(Pn).find(t=>Pn[t].toasts.some(r=>r.id===e)),rm=(e=H1)=>t=>{KN(t,e)},SA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CA=(e={},t=H1)=>{let[r,s]=w.useState(Pn[t]||GN),n=w.useRef(Pn[t]);w.useEffect(()=>(n.current!==Pn[t]&&s(Pn[t]),pf.push([t,s]),()=>{let i=pf.findIndex(([l])=>l===t);i>-1&&pf.splice(i,1)}),[t]);let a=r.toasts.map(i=>{var l,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||SA[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...r,toasts:a}},TA=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||NA()}),Uu=e=>(t,r)=>{let s=TA(t,e,r);return rm(s.toasterId||EA(s.id))({type:2,toast:s}),s.id},rr=(e,t)=>Uu("blank")(e,t);rr.error=Uu("error");rr.success=Uu("success");rr.loading=Uu("loading");rr.custom=Uu("custom");rr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?rm(t)(r):XN(r)};rr.dismissAll=e=>rr.dismiss(void 0,e);rr.remove=(e,t)=>{let r={type:4,toastId:e};t?rm(t)(r):XN(r)};rr.removeAll=e=>rr.remove(void 0,e);rr.promise=(e,t,r)=>{let s=rr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let a=t.success?sh(t.success,n):void 0;return a?rr.success(a,{id:s,...r,...r==null?void 0:r.success}):rr.dismiss(s),n}).catch(n=>{let a=t.error?sh(t.error,n):void 0;a?rr.error(a,{id:s,...r,...r==null?void 0:r.error}):rr.dismiss(s)}),e};var AA=1e3,FA=(e,t="default")=>{let{toasts:r,pausedAt:s}=CA(e,t),n=w.useRef(new Map).current,a=w.useCallback((f,h=AA)=>{if(n.has(f))return;let m=setTimeout(()=>{n.delete(f),i({type:4,toastId:f})},h);n.set(f,m)},[]);w.useEffect(()=>{if(s)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let x=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(x<0){m.visible&&rr.dismiss(m.id);return}return setTimeout(()=>rr.dismiss(m.id,t),x)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,s,t]);let i=w.useCallback(rm(t),[t]),l=w.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=w.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),d=w.useCallback(()=>{s&&i({type:6,time:Date.now()})},[s,i]),u=w.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:x=8,defaultPosition:p}=h||{},g=r.filter(b=>(b.position||p)===(f.position||p)&&b.height),y=g.findIndex(b=>b.id===f.id),v=g.filter((b,_)=>_<y&&b.visible).length;return g.filter(b=>b.visible).slice(...m?[v+1]:[0,v]).reduce((b,_)=>b+(_.height||0)+x,0)},[r]);return w.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=n.get(f.id);h&&(clearTimeout(h),n.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},RA=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PA=va`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MA=va`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OA=Ri("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LA=va`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DA=Ri("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${LA} 1s linear infinite;
`,IA=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BA=va`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UA=Ri("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$A=Ri("div")`
  position: absolute;
`,zA=Ri("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VA=va`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HA=Ri("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WA=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?w.createElement(HA,null,t):t:r==="blank"?null:w.createElement(zA,null,w.createElement(DA,{...s}),r!=="loading"&&w.createElement($A,null,r==="error"?w.createElement(OA,{...s}):w.createElement(UA,{...s})))},qA=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GA=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,KA="0%{opacity:0;} 100%{opacity:1;}",XA="0%{opacity:1;} 100%{opacity:0;}",YA=Ri("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,QA=Ri("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZA=(e,t)=>{let r=e.includes("top")?1:-1,[s,n]=WN()?[KA,XA]:[qA(r),GA(r)];return{animation:t?`${va(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${va(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JA=w.memo(({toast:e,position:t,style:r,children:s})=>{let n=e.height?ZA(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(WA,{toast:e}),i=w.createElement(QA,{...e.ariaProps},sh(e.message,e));return w.createElement(YA,{className:e.className,style:{...n,...r,...e.style}},typeof s=="function"?s({icon:a,message:i}):w.createElement(w.Fragment,null,a,i))});kA(w.createElement);var eF=({id:e,className:t,style:r,onHeightUpdate:s,children:n})=>{let a=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;s(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return w.createElement("div",{ref:a,className:t,style:r},n)},tF=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:WN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...n}},rF=tm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,E0=16,sF=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:n,toasterId:a,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:d}=FA(r,a);return w.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:E0,left:E0,right:E0,bottom:E0,pointerEvents:"none",...i},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||t,h=d.calculateOffset(u,{reverseOrder:e,gutter:s,defaultPosition:t}),m=tF(f,h);return w.createElement(eF,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?rF:"",style:m},u.type==="custom"?sh(u.message,u):n?n(u):w.createElement(JA,{toast:u,position:f}))}))},he=rr;function YN(e,t){return function(){return e.apply(t,arguments)}}const{toString:nF}=Object.prototype,{getPrototypeOf:W1}=Object,{iterator:sm,toStringTag:QN}=Symbol,nm=(e=>t=>{const r=nF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>nm(t)===e),am=e=>t=>typeof t===e,{isArray:mc}=Array,tc=am("undefined");function $u(e){return e!==null&&!tc(e)&&e.constructor!==null&&!tc(e.constructor)&&fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ZN=vn("ArrayBuffer");function aF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ZN(e.buffer),t}const iF=am("string"),fs=am("function"),JN=am("number"),zu=e=>e!==null&&typeof e=="object",oF=e=>e===!0||e===!1,gf=e=>{if(nm(e)!=="object")return!1;const t=W1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(QN in e)&&!(sm in e)},lF=e=>{if(!zu(e)||$u(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cF=vn("Date"),dF=vn("File"),uF=vn("Blob"),fF=vn("FileList"),hF=e=>zu(e)&&fs(e.pipe),mF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fs(e.append)&&((t=nm(e))==="formdata"||t==="object"&&fs(e.toString)&&e.toString()==="[object FormData]"))},xF=vn("URLSearchParams"),[pF,gF,yF,vF]=["ReadableStream","Request","Response","Headers"].map(vn),bF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),mc(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if($u(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(s=0;s<i;s++)l=a[s],t.call(null,e[l],l,e)}}function e5(e,t){if($u(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Yi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),t5=e=>!tc(e)&&e!==Yi;function sg(){const{caseless:e,skipUndefined:t}=t5(this)&&this||{},r={},s=(n,a)=>{const i=e&&e5(r,a)||a;gf(r[i])&&gf(n)?r[i]=sg(r[i],n):gf(n)?r[i]=sg({},n):mc(n)?r[i]=n.slice():(!t||!tc(n))&&(r[i]=n)};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Vu(arguments[n],s);return r}const wF=(e,t,r,{allOwnKeys:s}={})=>(Vu(t,(n,a)=>{r&&fs(n)?e[a]=YN(n,r):e[a]=n},{allOwnKeys:s}),e),kF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_F=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NF=(e,t,r,s)=>{let n,a,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&W1(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},jF=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},EF=e=>{if(!e)return null;if(mc(e))return e;let t=e.length;if(!JN(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&W1(Uint8Array)),CF=(e,t)=>{const s=(e&&e[sm]).call(e);let n;for(;(n=s.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},TF=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},AF=vn("HTMLFormElement"),FF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),M2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),RF=vn("RegExp"),r5=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Vu(r,(n,a)=>{let i;(i=t(n,a,e))!==!1&&(s[a]=i||n)}),Object.defineProperties(e,s)},PF=e=>{r5(e,(t,r)=>{if(fs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(fs(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},MF=(e,t)=>{const r={},s=n=>{n.forEach(a=>{r[a]=!0})};return mc(e)?s(e):s(String(e).split(t)),r},OF=()=>{},LF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function DF(e){return!!(e&&fs(e.append)&&e[QN]==="FormData"&&e[sm])}const IF=e=>{const t=new Array(10),r=(s,n)=>{if(zu(s)){if(t.indexOf(s)>=0)return;if($u(s))return s;if(!("toJSON"in s)){t[n]=s;const a=mc(s)?[]:{};return Vu(s,(i,l)=>{const c=r(i,n+1);!tc(c)&&(a[l]=c)}),t[n]=void 0,a}}return s};return r(e,0)},BF=vn("AsyncFunction"),UF=e=>e&&(zu(e)||fs(e))&&fs(e.then)&&fs(e.catch),s5=((e,t)=>e?setImmediate:t?((r,s)=>(Yi.addEventListener("message",({source:n,data:a})=>{n===Yi&&a===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Yi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fs(Yi.postMessage)),$F=typeof queueMicrotask<"u"?queueMicrotask.bind(Yi):typeof process<"u"&&process.nextTick||s5,zF=e=>e!=null&&fs(e[sm]),ie={isArray:mc,isArrayBuffer:ZN,isBuffer:$u,isFormData:mF,isArrayBufferView:aF,isString:iF,isNumber:JN,isBoolean:oF,isObject:zu,isPlainObject:gf,isEmptyObject:lF,isReadableStream:pF,isRequest:gF,isResponse:yF,isHeaders:vF,isUndefined:tc,isDate:cF,isFile:dF,isBlob:uF,isRegExp:RF,isFunction:fs,isStream:hF,isURLSearchParams:xF,isTypedArray:SF,isFileList:fF,forEach:Vu,merge:sg,extend:wF,trim:bF,stripBOM:kF,inherits:_F,toFlatObject:NF,kindOf:nm,kindOfTest:vn,endsWith:jF,toArray:EF,forEachEntry:CF,matchAll:TF,isHTMLForm:AF,hasOwnProperty:M2,hasOwnProp:M2,reduceDescriptors:r5,freezeMethods:PF,toObjectSet:MF,toCamelCase:FF,noop:OF,toFiniteNumber:LF,findKey:e5,global:Yi,isContextDefined:t5,isSpecCompliantForm:DF,toJSONObject:IF,isAsyncFn:BF,isThenable:UF,setImmediate:s5,asap:$F,isIterable:zF};function qe(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}ie.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const n5=qe.prototype,a5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a5[e]={value:e}});Object.defineProperties(qe,a5);Object.defineProperty(n5,"isAxiosError",{value:!0});qe.from=(e,t,r,s,n,a)=>{const i=Object.create(n5);ie.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return qe.call(i,l,c,r,s,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const VF=null;function ng(e){return ie.isPlainObject(e)||ie.isArray(e)}function i5(e){return ie.endsWith(e,"[]")?e.slice(0,-2):e}function O2(e,t,r){return e?e.concat(t).map(function(n,a){return n=i5(n),!r&&a?"["+n+"]":n}).join(r?".":""):t}function HF(e){return ie.isArray(e)&&!e.some(ng)}const WF=ie.toFlatObject(ie,{},null,function(t){return/^is[A-Z]/.test(t)});function im(e,t,r){if(!ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!ie.isUndefined(g[p])});const s=r.metaTokens,n=r.visitor||u,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(t);if(!ie.isFunction(n))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(ie.isDate(x))return x.toISOString();if(ie.isBoolean(x))return x.toString();if(!c&&ie.isBlob(x))throw new qe("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(x)||ie.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let y=x;if(x&&!g&&typeof x=="object"){if(ie.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(ie.isArray(x)&&HF(x)||(ie.isFileList(x)||ie.endsWith(p,"[]"))&&(y=ie.toArray(x)))return p=i5(p),y.forEach(function(b,_){!(ie.isUndefined(b)||b===null)&&t.append(i===!0?O2([p],_,a):i===null?p:p+"[]",d(b))}),!1}return ng(x)?!0:(t.append(O2(g,p,a),d(x)),!1)}const f=[],h=Object.assign(WF,{defaultVisitor:u,convertValue:d,isVisitable:ng});function m(x,p){if(!ie.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),ie.forEach(x,function(y,v){(!(ie.isUndefined(y)||y===null)&&n.call(t,y,ie.isString(v)?v.trim():v,p,h))===!0&&m(y,p?p.concat(v):[v])}),f.pop()}}if(!ie.isObject(e))throw new TypeError("data must be an object");return m(e),t}function L2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function q1(e,t){this._pairs=[],e&&im(e,this,t)}const o5=q1.prototype;o5.append=function(t,r){this._pairs.push([t,r])};o5.toString=function(t){const r=t?function(s){return t.call(this,s,L2)}:L2;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function qF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function l5(e,t,r){if(!t)return e;const s=r&&r.encode||qF;ie.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let a;if(n?a=n(t,r):a=ie.isURLSearchParams(t)?t.toString():new q1(t,r).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class GF{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,function(s){s!==null&&t(s)})}}const D2=GF,c5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KF=typeof URLSearchParams<"u"?URLSearchParams:q1,XF=typeof FormData<"u"?FormData:null,YF=typeof Blob<"u"?Blob:null,QF={isBrowser:!0,classes:{URLSearchParams:KF,FormData:XF,Blob:YF},protocols:["http","https","file","blob","url","data"]},G1=typeof window<"u"&&typeof document<"u",ag=typeof navigator=="object"&&navigator||void 0,ZF=G1&&(!ag||["ReactNative","NativeScript","NS"].indexOf(ag.product)<0),JF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),e8=G1&&window.location.href||"http://localhost",t8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G1,hasStandardBrowserEnv:ZF,hasStandardBrowserWebWorkerEnv:JF,navigator:ag,origin:e8},Symbol.toStringTag,{value:"Module"})),Tr={...t8,...QF};function r8(e,t){return im(e,new Tr.classes.URLSearchParams,{visitor:function(r,s,n,a){return Tr.isNode&&ie.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function s8(e){return ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n8(e){const t={},r=Object.keys(e);let s;const n=r.length;let a;for(s=0;s<n;s++)a=r[s],t[a]=e[a];return t}function d5(e){function t(r,s,n,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&ie.isArray(n)?n.length:i,c?(ie.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!l):((!n[i]||!ie.isObject(n[i]))&&(n[i]=[]),t(r,s,n[i],a)&&ie.isArray(n[i])&&(n[i]=n8(n[i])),!l)}if(ie.isFormData(e)&&ie.isFunction(e.entries)){const r={};return ie.forEachEntry(e,(s,n)=>{t(s8(s),n,r,0)}),r}return null}function a8(e,t,r){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const K1={transitional:c5,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,a=ie.isObject(t);if(a&&ie.isHTMLForm(t)&&(t=new FormData(t)),ie.isFormData(t))return n?JSON.stringify(d5(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t)||ie.isReadableStream(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return r8(t,this.formSerializer).toString();if((l=ie.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return im(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),a8(t)):t}],transformResponse:[function(t){const r=this.transitional||K1.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(ie.isResponse(t)||ie.isReadableStream(t))return t;if(t&&ie.isString(t)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?qe.from(l,qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tr.classes.FormData,Blob:Tr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],e=>{K1.headers[e]={}});const X1=K1,i8=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o8=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||t[r]&&i8[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},I2=Symbol("internals");function Lc(e){return e&&String(e).trim().toLowerCase()}function yf(e){return e===!1||e==null?e:ie.isArray(e)?e.map(yf):String(e)}function l8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const c8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ax(e,t,r,s,n){if(ie.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!ie.isString(t)){if(ie.isString(s))return t.indexOf(s)!==-1;if(ie.isRegExp(s))return s.test(t)}}function d8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function u8(e,t){const r=ie.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,a,i){return this[s].call(this,t,n,a,i)},configurable:!0})})}class om{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function a(l,c,d){const u=Lc(c);if(!u)throw new Error("header name must be a non-empty string");const f=ie.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=yf(l))}const i=(l,c)=>ie.forEach(l,(d,u)=>a(d,u,c));if(ie.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(ie.isString(t)&&(t=t.trim())&&!c8(t))i(o8(t),r);else if(ie.isObject(t)&&ie.isIterable(t)){let l={},c,d;for(const u of t){if(!ie.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ie.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&a(r,t,s);return this}get(t,r){if(t=Lc(t),t){const s=ie.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return l8(n);if(ie.isFunction(r))return r.call(this,n,s);if(ie.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Lc(t),t){const s=ie.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||ax(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function a(i){if(i=Lc(i),i){const l=ie.findKey(s,i);l&&(!r||ax(s,s[l],l,r))&&(delete s[l],n=!0)}}return ie.isArray(t)?t.forEach(a):a(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const a=r[s];(!t||ax(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const r=this,s={};return ie.forEach(this,(n,a)=>{const i=ie.findKey(s,a);if(i){r[i]=yf(n),delete r[a];return}const l=t?d8(a):String(a).trim();l!==a&&delete r[a],r[l]=yf(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ie.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&ie.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[I2]=this[I2]={accessors:{}}).accessors,n=this.prototype;function a(i){const l=Lc(i);s[l]||(u8(n,i),s[l]=!0)}return ie.isArray(t)?t.forEach(a):a(t),this}}om.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(om.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});ie.freezeMethods(om);const hn=om;function ix(e,t){const r=this||X1,s=t||r,n=hn.from(s.headers);let a=s.data;return ie.forEach(e,function(l){a=l.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function u5(e){return!!(e&&e.__CANCEL__)}function xc(e,t,r){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,r),this.name="CanceledError"}ie.inherits(xc,qe,{__CANCEL__:!0});function f5(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function f8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function h8(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[a];i||(i=d),r[n]=c,s[n]=d;let f=a,h=0;for(;f!==n;)h+=r[f++],f=f%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),d-i<t)return;const m=u&&d-u;return m?Math.round(h*1e3/m):void 0}}function m8(e,t){let r=0,s=1e3/t,n,a;const i=(d,u=Date.now())=>{r=u,n=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?i(d,u):(n=d,a||(a=setTimeout(()=>{a=null,i(n)},s-f)))},()=>n&&i(n)]}const nh=(e,t,r=3)=>{let s=0;const n=h8(50,250);return m8(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-s,d=n(c),u=i<=l;s=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},B2=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},U2=e=>(...t)=>ie.asap(()=>e(...t)),x8=Tr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Tr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Tr.origin),Tr.navigator&&/(msie|trident)/i.test(Tr.navigator.userAgent)):()=>!0,p8=Tr.hasStandardBrowserEnv?{write(e,t,r,s,n,a){const i=[e+"="+encodeURIComponent(t)];ie.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ie.isString(s)&&i.push("path="+s),ie.isString(n)&&i.push("domain="+n),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function y8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function h5(e,t,r){let s=!g8(t);return e&&(s||r==!1)?y8(e,t):t}const $2=e=>e instanceof hn?{...e}:e;function Co(e,t){t=t||{};const r={};function s(d,u,f,h){return ie.isPlainObject(d)&&ie.isPlainObject(u)?ie.merge.call({caseless:h},d,u):ie.isPlainObject(u)?ie.merge({},u):ie.isArray(u)?u.slice():u}function n(d,u,f,h){if(ie.isUndefined(u)){if(!ie.isUndefined(d))return s(void 0,d,f,h)}else return s(d,u,f,h)}function a(d,u){if(!ie.isUndefined(u))return s(void 0,u)}function i(d,u){if(ie.isUndefined(u)){if(!ie.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,f)=>n($2(d),$2(u),f,!0)};return ie.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||n,h=f(e[u],t[u],u);ie.isUndefined(h)&&f!==l||(r[u]=h)}),r}const m5=e=>{const t=Co({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=hn.from(i),t.url=l5(h5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ie.isFormData(r)){if(Tr.hasStandardBrowserEnv||Tr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ie.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&i.set(u,f)})}}if(Tr.hasStandardBrowserEnv&&(s&&ie.isFunction(s)&&(s=s(t)),s||s!==!1&&x8(t.url))){const c=n&&a&&p8.read(a);c&&i.set(n,c)}return t},v8=typeof XMLHttpRequest<"u",b8=v8&&function(e){return new Promise(function(r,s){const n=m5(e);let a=n.data;const i=hn.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,f,h,m,x;function p(){m&&m(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function y(){if(!g)return;const b=hn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};f5(function(N){r(N),p()},function(N){s(N),p()},j),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(s(new qe("Request aborted",qe.ECONNABORTED,e,g)),g=null)},g.onerror=function(_){const j=_&&_.message?_.message:"Network Error",S=new qe(j,qe.ERR_NETWORK,e,g);S.event=_||null,s(S),g=null},g.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const j=n.transitional||c5;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),s(new qe(_,j.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,g)),g=null},a===void 0&&i.setContentType(null),"setRequestHeader"in g&&ie.forEach(i.toJSON(),function(_,j){g.setRequestHeader(j,_)}),ie.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&l!=="json"&&(g.responseType=n.responseType),d&&([h,x]=nh(d,!0),g.addEventListener("progress",h)),c&&g.upload&&([f,m]=nh(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=b=>{g&&(s(!b||b.type?new xc(null,e,g):b),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const v=f8(n.url);if(v&&Tr.protocols.indexOf(v)===-1){s(new qe("Unsupported protocol "+v+":",qe.ERR_BAD_REQUEST,e));return}g.send(a||null)})},w8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const a=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof qe?u:new xc(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>ie.asap(l),c}},k8=w8,_8=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},N8=async function*(e,t){for await(const r of j8(e))yield*_8(r,t)},j8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},z2=(e,t,r,s)=>{const n=N8(e,t);let a=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},V2=64*1024,{isFunction:S0}=ie,E8=(({Request:e,Response:t})=>({Request:e,Response:t}))(ie.global),{ReadableStream:H2,TextEncoder:W2}=ie.global,q2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},S8=e=>{e=ie.merge.call({skipUndefined:!0},E8,e);const{fetch:t,Request:r,Response:s}=e,n=t?S0(t):typeof fetch=="function",a=S0(r),i=S0(s);if(!n)return!1;const l=n&&S0(H2),c=n&&(typeof W2=="function"?(x=>p=>x.encode(p))(new W2):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=a&&l&&q2(()=>{let x=!1;const p=new r(Tr.origin,{body:new H2,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=i&&l&&q2(()=>ie.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let y=p&&p[x];if(y)return y.call(p);throw new qe(`Response type '${x}' is not supported`,qe.ERR_NOT_SUPPORT,g)})});const h=async x=>{if(x==null)return 0;if(ie.isBlob(x))return x.size;if(ie.isSpecCompliantForm(x))return(await new r(Tr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(x)||ie.isArrayBuffer(x))return x.byteLength;if(ie.isURLSearchParams(x)&&(x=x+""),ie.isString(x))return(await c(x)).byteLength},m=async(x,p)=>{const g=ie.toFiniteNumber(x.getContentLength());return g??h(p)};return async x=>{let{url:p,method:g,data:y,signal:v,cancelToken:b,timeout:_,onDownloadProgress:j,onUploadProgress:S,responseType:N,headers:k,withCredentials:E="same-origin",fetchOptions:C}=m5(x),A=t||fetch;N=N?(N+"").toLowerCase():"text";let F=k8([v,b&&b.toAbortSignal()],_),M=null;const Y=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let L;try{if(S&&d&&g!=="get"&&g!=="head"&&(L=await m(k,y))!==0){let ee=new r(p,{method:"POST",body:y,duplex:"half"}),R;if(ie.isFormData(y)&&(R=ee.headers.get("content-type"))&&k.setContentType(R),ee.body){const[K,z]=B2(L,nh(U2(S)));y=z2(ee.body,V2,K,z)}}ie.isString(E)||(E=E?"include":"omit");const G=a&&"credentials"in r.prototype,oe={...C,signal:F,method:g.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:G?E:void 0};M=a&&new r(p,oe);let ne=await(a?A(M,C):A(p,oe));const V=u&&(N==="stream"||N==="response");if(u&&(j||V&&Y)){const ee={};["status","statusText","headers"].forEach(H=>{ee[H]=ne[H]});const R=ie.toFiniteNumber(ne.headers.get("content-length")),[K,z]=j&&B2(R,nh(U2(j),!0))||[];ne=new s(z2(ne.body,V2,K,()=>{z&&z(),Y&&Y()}),ee)}N=N||"text";let X=await f[ie.findKey(f,N)||"text"](ne,x);return!V&&Y&&Y(),await new Promise((ee,R)=>{f5(ee,R,{data:X,headers:hn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:x,request:M})})}catch(G){throw Y&&Y(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,x,M),{cause:G.cause||G}):qe.from(G,G&&G.code,x,M)}}},C8=new Map,x5=e=>{let t=e?e.env:{};const{fetch:r,Request:s,Response:n}=t,a=[s,n,r];let i=a.length,l=i,c,d,u=C8;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:S8(t)),u=d;return d};x5();const ig={http:VF,xhr:b8,fetch:{get:x5}};ie.forEach(ig,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const G2=e=>`- ${e}`,T8=e=>ie.isFunction(e)||e===null||e===!1,p5={getAdapter:(e,t)=>{e=ie.isArray(e)?e:[e];const{length:r}=e;let s,n;const a={};for(let i=0;i<r;i++){s=e[i];let l;if(n=s,!T8(s)&&(n=ig[(l=String(s)).toLowerCase()],n===void 0))throw new qe(`Unknown adapter '${l}'`);if(n&&(ie.isFunction(n)||(n=n.get(t))))break;a[l||"#"+i]=n}if(!n){const i=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(G2).join(`
`):" "+G2(i[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:ig};function ox(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xc(null,e)}function K2(e){return ox(e),e.headers=hn.from(e.headers),e.data=ix.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),p5.getAdapter(e.adapter||X1.adapter,e)(e).then(function(s){return ox(e),s.data=ix.call(e,e.transformResponse,s),s.headers=hn.from(s.headers),s},function(s){return u5(s)||(ox(e),s&&s.response&&(s.response.data=ix.call(e,e.transformResponse,s.response),s.response.headers=hn.from(s.response.headers))),Promise.reject(s)})}const g5="1.12.2",lm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lm[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const X2={};lm.transitional=function(t,r,s){function n(a,i){return"[Axios v"+g5+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,l)=>{if(t===!1)throw new qe(n(i," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!X2[i]&&(X2[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};lm.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function A8(e,t,r){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const a=s[n],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new qe("option "+a+" must be "+c,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+a,qe.ERR_BAD_OPTION)}}const vf={assertOptions:A8,validators:lm},kn=vf.validators;class ah{constructor(t){this.defaults=t||{},this.interceptors={request:new D2,response:new D2}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Co(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:a}=r;s!==void 0&&vf.assertOptions(s,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),n!=null&&(ie.isFunction(n)?r.paramsSerializer={serialize:n}:vf.assertOptions(n,{encode:kn.function,serialize:kn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vf.assertOptions(r,{baseUrl:kn.spelling("baseURL"),withXsrfToken:kn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&ie.merge(a.common,a[r.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=hn.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,h;if(!c){const x=[K2.bind(this),void 0];for(x.unshift(...l),x.push(...d),h=x.length,u=Promise.resolve(r);f<h;)u=u.then(x[f++],x[f++]);return u}h=l.length;let m=r;for(;f<h;){const x=l[f++],p=l[f++];try{m=x(m)}catch(g){p.call(this,g);break}}try{u=K2.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Co(this.defaults,t);const r=h5(t.baseURL,t.url,t.allowAbsoluteUrls);return l5(r,t.params,t.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(t){ah.prototype[t]=function(r,s){return this.request(Co(s||{},{method:t,url:r,data:(s||{}).data}))}});ie.forEach(["post","put","patch"],function(t){function r(s){return function(a,i,l){return this.request(Co(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ah.prototype[t]=r(),ah.prototype[t+"Form"]=r(!0)});const bf=ah;class Y1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const i=new Promise(l=>{s.subscribe(l),a=l}).then(n);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,l){s.reason||(s.reason=new xc(a,i,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Y1(function(n){t=n}),cancel:t}}}const F8=Y1;function R8(e){return function(r){return e.apply(null,r)}}function P8(e){return ie.isObject(e)&&e.isAxiosError===!0}const og={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(og).forEach(([e,t])=>{og[t]=e});const M8=og;function y5(e){const t=new bf(e),r=YN(bf.prototype.request,t);return ie.extend(r,bf.prototype,t,{allOwnKeys:!0}),ie.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return y5(Co(e,n))},r}const Zt=y5(X1);Zt.Axios=bf;Zt.CanceledError=xc;Zt.CancelToken=F8;Zt.isCancel=u5;Zt.VERSION=g5;Zt.toFormData=im;Zt.AxiosError=qe;Zt.Cancel=Zt.CanceledError;Zt.all=function(t){return Promise.all(t)};Zt.spread=R8;Zt.isAxiosError=P8;Zt.mergeConfig=Co;Zt.AxiosHeaders=hn;Zt.formToJSON=e=>d5(ie.isHTMLForm(e)?new FormData(e):e);Zt.getAdapter=p5.getAdapter;Zt.HttpStatusCode=M8;Zt.default=Zt;const ms=Zt,O8=(()=>"/api")(),De=ms.create({baseURL:O8,timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});De.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});De.interceptors.response.use(e=>e,e=>{var a,i,l,c,d,u,f,h,m,x,p,g;console.log("Error en API interceptor:",e);const t=((i=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:i.message)||((c=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:c.error)||(typeof((d=e==null?void 0:e.response)==null?void 0:d.data)=="string"?e.response.data:null);if(!e.response)return console.log("Error de red o timeout - no hacer logout"),Promise.reject({...e,isNetworkError:!0,status:0,message:"Error de conexin con el servidor",originalError:e});const r=((u=e.config)==null?void 0:u.url)||"",n=["/leads.php","/users.php","/desks.php","/user-permissions.php","leads-filters","user-profile"].some(y=>r.includes(y));if(((f=e.response)==null?void 0:f.status)===401){console.log("Error 401 detectado en:",r);const y={...e,isDataError:!0,endpoint:r,status:401,responseData:(h=e.response)==null?void 0:h.data,message:t||"No autorizado: revisa encabezado Authorization y el token"};return n?(console.log("Error en endpoint crtico - no hacer logout automtico"),Promise.reject(y)):(console.log("Error 401 en endpoint no crtico - manteniendo sesin"),Promise.reject(y))}return Promise.reject({...e,status:(m=e.response)==null?void 0:m.status,responseData:(x=e.response)==null?void 0:x.data,message:t||((g=(p=e.response)==null?void 0:p.data)==null?void 0:g.message)||"Error en la solicitud",originalError:e})});const C0={login:async(e,t,r=!1)=>{console.log("API: Iniciando login para:",e),console.log("API: URL completa:",`${window.location.origin}/api/auth/login.php`);try{const s=await De.post("auth/login.php",{username:e,password:t,remember:r});return console.log("API: Login exitoso - Status:",s.status),console.log("API: Data recibida:",s.data),s.data}catch(s){if(console.error("API: Error en login:",s),s.response&&s.response.data)return console.log("API: Respuesta de error del servidor:",s.response.data),s.response.data;throw new Error("No se puede conectar con el servidor")}},verifyToken:async e=>{var t,r,s;console.log("Verificando token");try{const n=await De.get("auth/verify.php",{headers:{Authorization:`Bearer ${e}`},timeout:1e4});return console.log("Token verificado:",n.data),n.data}catch(n){if(console.error("Error verificando token:",n),n.code==="ECONNABORTED"||!n.response)return console.log("Error de conexin en verificacin de token - no invalidar sesin"),{success:!0,user:JSON.parse(localStorage.getItem("user")||"{}")};if(((t=n.response)==null?void 0:t.status)===401)return{success:!1,message:((s=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:s.message)||"Token invlido o expirado"};throw n}},logout:async()=>{console.log("Cerrando sesin");try{const e=localStorage.getItem("auth_token");if(e){const t=await De.post("auth/logout.php",{},{headers:{Authorization:`Bearer ${e}`}});return console.log("Logout exitoso:",t.data),t.data}}catch(e){throw console.error("Error en logout:",e),e}},register:async e=>{console.log("Registrando usuario:",e);try{const t=await De.post("auth/register.php",e);return console.log("Registro exitoso:",t.data),t.data}catch(t){throw console.error("Error en registro:",t),t}}},mo={getAll:async(e={})=>{var t,r;console.log("Obteniendo roles con parmetros:",e);try{const s=new URLSearchParams;Object.keys(e).forEach(m=>{e[m]!==void 0&&e[m]!==null&&e[m]!==""&&s.append(m,e[m])});const n=`roles.php${s.toString()?"?"+s.toString():""}`;console.log("URL de roles:",n);const i=(await De.get(n)).data||{},l=Array.isArray(i==null?void 0:i.data)?i.data:Array.isArray((t=i==null?void 0:i.data)==null?void 0:t.roles)?i.data.roles:Array.isArray(i==null?void 0:i.roles)?i.roles:[],c=(i==null?void 0:i.pagination)||((r=i==null?void 0:i.data)==null?void 0:r.pagination)||{},d=Number(c.page??e.page??1),u=Number(c.limit??e.limit??20),f=Number(c.total??(Array.isArray(l)?l.length:0)),h=Number(c.pages??(f&&u?Math.ceil(f/u):0));return{data:l,pagination:{page:d,limit:u,total:f,pages:h,total_pages:Number(c.total_pages??h)}}}catch(s){return console.error("Error obteniendo roles:",s),{data:[],pagination:{page:Number((e==null?void 0:e.page)??1),limit:Number((e==null?void 0:e.limit)??20),total:0,pages:0,total_pages:0}}}},getById:async e=>{console.log("Obteniendo rol por ID:",e);try{const t=await De.get(`roles.php?id=${e}`);return console.log("Rol obtenido:",t.data),t.data}catch(t){throw console.error("Error obteniendo rol:",t),t}},getPermissions:async()=>{var e;console.log("Obteniendo permisos disponibles");try{const r=((e=(await De.get("roles.php?scope=permissions")).data)==null?void 0:e.data)||[];return console.log("Permisos obtenidos (normalizados):",r),r}catch(t){return console.error("Error obteniendo permisos:",t),[]}},create:async e=>{console.log("Creando rol:",e);try{const t=await De.post("roles.php",e);return console.log("Rol creado:",t.data),t.data}catch(t){throw console.error("Error creando rol:",t),t}},update:async(e,t)=>{console.log("Actualizando rol:",e,t);try{const r=await De.put(`roles.php?id=${e}`,t);return console.log("Rol actualizado:",r.data),r.data}catch(r){throw console.error("Error actualizando rol:",r),r}},delete:async e=>{console.log("Eliminando rol:",e);try{const t=await De.delete(`roles.php?id=${e}`);return console.log("Rol eliminado:",t.data),t.data}catch(t){throw console.error("Error eliminando rol:",t),t}},getRoles:async(e={})=>{var t,r;console.log("Obteniendo roles (alias) con parmetros:",e);try{const s=new URLSearchParams;Object.keys(e).forEach(m=>{e[m]!==void 0&&e[m]!==null&&e[m]!==""&&s.append(m,e[m])});const n=`roles.php${s.toString()?"?"+s.toString():""}`;console.log("URL de roles (alias):",n);const i=(await De.get(n)).data||{},l=Array.isArray(i==null?void 0:i.data)?i.data:Array.isArray((t=i==null?void 0:i.data)==null?void 0:t.roles)?i.data.roles:Array.isArray(i==null?void 0:i.roles)?i.roles:[],c=(i==null?void 0:i.pagination)||((r=i==null?void 0:i.data)==null?void 0:r.pagination)||{},d=Number(c.page??e.page??1),u=Number(c.limit??e.limit??20),f=Number(c.total??(Array.isArray(l)?l.length:0)),h=Number(c.pages??(f&&u?Math.ceil(f/u):0));return{data:l,pagination:{page:d,limit:u,total:f,pages:h,total_pages:Number(c.total_pages??h)}}}catch(s){return console.error("Error obteniendo roles (alias):",s),{data:[],pagination:{page:Number((e==null?void 0:e.page)??1),limit:Number((e==null?void 0:e.limit)??20),total:0,pages:0,total_pages:0}}}},createRole:async e=>{console.log("Creando rol (alias):",e);try{const t=await De.post("roles.php",e);return console.log("Rol creado (alias):",t.data),t.data}catch(t){throw console.error("Error creando rol (alias):",t),t}},updateRole:async(e,t)=>{console.log("Actualizando rol (alias):",e,t);try{const r=await De.put(`roles.php?id=${e}`,t);return console.log("Rol actualizado (alias):",r.data),r.data}catch(r){throw console.error("Error actualizando rol (alias):",r),r}},deleteRole:async e=>{console.log("Eliminando rol (alias):",e);try{const t=await De.delete(`roles.php?id=${e}`);return console.log("Rol eliminado (alias):",t.data),t.data}catch(t){throw console.error("Error eliminando rol (alias):",t),t}}},hr={getDesks:async(e={})=>{var t,r;try{const s=new URLSearchParams;Object.keys(e||{}).forEach(m=>{e[m]!==void 0&&e[m]!==null&&e[m]!==""&&s.append(m,e[m])});const n=`desks.php${s.toString()?"?"+s.toString():""}`,i=(await De.get(n)).data||{},l=Array.isArray(i==null?void 0:i.data)?i.data:Array.isArray((t=i==null?void 0:i.data)==null?void 0:t.desks)?i.data.desks:Array.isArray(i==null?void 0:i.desks)?i.desks:[],c=(i==null?void 0:i.pagination)||((r=i==null?void 0:i.data)==null?void 0:r.pagination)||{},d=Number(c.page??e.page??1),u=Number(c.limit??e.limit??20),f=Number(c.total??(Array.isArray(l)?l.length:0)),h=Number(c.pages??(f&&u?Math.ceil(f/u):0));return{data:l,pagination:{page:d,limit:u,total:f,pages:h,total_pages:Number(c.total_pages??h)},stats:i==null?void 0:i.stats}}catch{return{data:[],pagination:{page:Number((e==null?void 0:e.page)??1),limit:Number((e==null?void 0:e.limit)??20),total:0,pages:0,total_pages:0},stats:void 0}}},getAll:async(e={})=>{console.log("Obteniendo escritorios con parmetros:",e);try{const t=new URLSearchParams;Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&e[n]!==""&&t.append(n,e[n])});const r=`desks.php${t.toString()?"?"+t.toString():""}`;console.log("URL de escritorios:",r);const s=await De.get(r);return console.log("Escritorios obtenidos:",s.data),s.data}catch(t){return console.error("Error obteniendo escritorios:",t),{success:!1,message:t.isNetworkError?"Error de conexin al servidor":"Error obteniendo mesas",data:[],total:0}}},getById:async e=>{console.log("Obteniendo escritorio por ID:",e);try{const t=await De.get(`desks.php?id=${e}`);return console.log("Escritorio obtenido:",t.data),t.data}catch(t){throw console.error("Error obteniendo escritorio:",t),t}},create:async e=>{var t;console.log("Creando escritorio:",e);try{const r=localStorage.getItem("auth_token"),s=r?{...e,token:r}:e,n=await De.post("desks.php",s);return console.log("Escritorio creado:",n.data),n.data}catch(r){if(console.error("Error creando escritorio:",r),(t=r==null?void 0:r.response)!=null&&t.data)return r.response.data;throw r}},update:async(e,t)=>{var r;console.log("Actualizando escritorio:",e,t);try{const s=await De.put(`desks.php?id=${e}`,t);return console.log("Escritorio actualizado:",s.data),s.data}catch(s){if(console.error("Error actualizando escritorio:",s),(r=s==null?void 0:s.response)!=null&&r.data)return s.response.data;throw s}},delete:async e=>{var t;console.log("Eliminando escritorio:",e);try{const r=await De.delete(`desks.php?id=${e}`);return console.log("Escritorio eliminado:",r.data),r.data}catch(r){if(console.error("Error eliminando escritorio:",r),(t=r==null?void 0:r.response)!=null&&t.data)return r.response.data;throw r}}},cm={getDesks:async(e={})=>{const t=new URLSearchParams;Object.keys(e||{}).forEach(n=>{e[n]!==void 0&&e[n]!==null&&e[n]!==""&&t.append(n,e[n])});const r=`desks.php${t.toString()?"?"+t.toString():""}`;return(await De.get(r)).data},createDesk:async e=>{const t=localStorage.getItem("auth_token"),r=t?{...e,token:t}:e;return(await De.post("desks.php",r)).data},updateDesk:async(e,t)=>(await De.put(`desks.php?id=${e}`,t)).data,deleteDesk:async e=>(await De.delete(`desks.php?id=${e}`)).data};hr.getDesks=hr.getDesks||cm.getDesks;hr.createDesk=hr.createDesk||cm.createDesk;hr.updateDesk=hr.updateDesk||cm.updateDesk;hr.deleteDesk=hr.deleteDesk||cm.deleteDesk;const Yr={getLeads:async e=>{console.log("Obteniendo leads con parmetros:",e);try{const t=new URLSearchParams;e&&Object.keys(e).forEach(n=>{e[n]&&t.append(n,e[n])});const r=`leads_simple.php${t.toString()?"?"+t.toString():""}`;console.log("URL de leads:",r);const s=await De.get(r,{timeout:15e3});return console.log("Respuesta de leads recibida:",s.data),s.data}catch(t){return console.error("Error obteniendo leads:",t),{success:!1,message:t.isNetworkError?"Error de conexin al servidor":"Error obteniendo leads",data:[],total:0}}},getLead:async e=>{console.log("Obteniendo lead individual:",e);try{const t=await De.get(`leads_simple.php?id=${e}`);return console.log("Respuesta de lead individual:",t.data),t.data.data}catch(t){throw console.error("Error obteniendo lead:",t),t}},createLead:async e=>{console.log("Creando lead:",e);try{const t=await De.post("leads_simple.php",e);return console.log("Lead creado:",t.data),t.data}catch(t){throw console.error("Error creando lead:",t),t}},update:async(e,t)=>{console.log("Actualizando lead:",e,t);try{const r=await De.put(`leads.php?id=${e}`,t);return console.log("Lead actualizado:",r.data),r.data}catch(r){throw console.error("Error actualizando lead:",r),r}},delete:async e=>{console.log("Eliminando lead:",e);try{const t=await De.delete(`leads.php?id=${e}`);return console.log("Lead eliminado:",t.data),t.data}catch(t){throw console.error("Error eliminando lead:",t),t}},import:async e=>{console.log("Importando leads:",e);try{const t=await De.post("leads.php?action=import",e);return console.log("Leads importados:",t.data),t.data}catch(t){throw console.error("Error importando leads:",t),t}},getByEmail:async e=>{console.log("Buscando lead por email:",e);try{const t=await De.get(`lead-trading-link.php?action=find_lead&email=${encodeURIComponent(e)}`);return console.log("Lead encontrado por email:",t.data),t.data}catch(t){throw console.error("Error buscando lead por email:",t),t}},bulkAssign:async(e,t)=>{var r;console.log("Asignacin masiva de leads:",{leadIds:e,assignments:t});try{const s=await De.post("bulk-assign-leads.php",{leadIds:e,assignments:t});return console.log("Asignacin masiva completada:",s.data),s.data}catch(s){throw console.error("Error en asignacin masiva:",s),(r=s.response)!=null&&r.data&&typeof s.response.data=="string"&&s.response.data.includes("<")?new Error("Error del servidor: Respuesta HTML inesperada"):s}}};Yr.updateLead=Yr.updateLead||Yr.update;const _a={getUsers:async e=>{var t,r;console.log("Obteniendo usuarios con filtros:",e);try{const s=new URLSearchParams;e&&Object.keys(e).forEach(m=>{e[m]!==void 0&&e[m]!==null&&e[m]!==""&&s.append(m,e[m])});const n=`users.php${s.toString()?"?"+s.toString():""}`;console.log("URL de usuarios:",n);const i=(await De.get(n)).data||{};console.log("Usuarios obtenidos:",i);const l=Array.isArray(i==null?void 0:i.data)?i.data:Array.isArray((t=i==null?void 0:i.data)==null?void 0:t.users)?i.data.users:Array.isArray(i==null?void 0:i.users)?i.users:[],c=(i==null?void 0:i.pagination)||((r=i==null?void 0:i.data)==null?void 0:r.pagination)||{},d=Number(c.page??(e==null?void 0:e.page)??1),u=Number(c.limit??(e==null?void 0:e.limit)??20),f=Number(c.total??(Array.isArray(l)?l.length:0)),h=Number(c.pages??(f&&u?Math.ceil(f/u):0));return{data:l,pagination:{page:d,limit:u,total:f,pages:h,total_pages:Number(c.total_pages??h)}}}catch(s){return console.error("Error obteniendo usuarios:",s),{data:[],pagination:{page:Number((e==null?void 0:e.page)??1),limit:Number((e==null?void 0:e.limit)??20),total:0,pages:0,total_pages:0}}}},createUser:async e=>{console.log("Creando usuario:",e);try{const t=await De.post("users.php",e);return console.log("Usuario creado:",t.data),t.data}catch(t){throw console.error("Error creando usuario:",t),t}},updateUser:async(e,t)=>{console.log("Actualizando usuario:",e,t);try{const r=await De.put(`users.php?id=${e}`,t);return console.log("Usuario actualizado:",r.data),r.data}catch(r){throw console.error("Error actualizando usuario:",r),r}},deleteUser:async e=>{console.log("Eliminando usuario:",e);try{const t=await De.delete(`users.php?id=${e}`);return console.log("Usuario eliminado:",t.data),t.data}catch(t){throw console.error("Error eliminando usuario:",t),t}},assignDesk:async(e,t,r=!0)=>{console.log("Asignando desk al usuario:",{userId:e,deskId:t,isPrimary:r});try{const s=await De.put(`users.php?id=${e}`,{action:"assign_desk",desk_id:t,is_primary:r});return console.log("Desk asignado:",s.data),s.data}catch(s){throw console.error("Error asignando desk:",s),s}},assignRole:async(e,t)=>{console.log("Asignando rol al usuario:",{userId:e,roleId:t});try{const r=await De.put(`users.php?id=${e}`,{action:"assign_role",role_id:t});return console.log("Rol asignado:",r.data),r.data}catch(r){throw console.error("Error asignando rol:",r),r}},toggleStatus:async e=>{console.log("Cambiando estado del usuario:",e);try{const t=await De.put(`users.php?id=${e}`,{action:"toggle_status"});return console.log("Estado cambiado:",t.data),t.data}catch(t){throw console.error("Error cambiando estado:",t),t}}},ih={getTradingAccounts:async e=>{console.log("Obteniendo cuentas de trading con parmetros:",e);try{const t=new URLSearchParams;e&&Object.keys(e).forEach(n=>{e[n]&&t.append(n,e[n])});const r=`trading-accounts.php${t.toString()?"?"+t.toString():""}`;console.log("URL de cuentas de trading:",r);const s=await De.get(r);return console.log("Respuesta de cuentas de trading recibida:",s.data),s.data}catch(t){throw console.error("Error obteniendo cuentas de trading:",t),t}},getTradingAccount:async e=>{console.log("Obteniendo cuenta de trading individual:",e);try{const t=await De.get(`trading-accounts.php?id=${e}`);return console.log("Respuesta de cuenta de trading individual:",t.data),t.data.data}catch(t){throw console.error("Error obteniendo cuenta de trading:",t),t}},getAccountTypes:async()=>{console.log("Obteniendo tipos de cuenta disponibles");try{const e=await De.get("trading-accounts.php?types=1");return console.log("Tipos de cuenta obtenidos:",e.data),e.data}catch(e){throw console.error("Error obteniendo tipos de cuenta:",e),e}},createTradingAccount:async e=>{console.log("Creando cuenta de trading:",e);try{const t=await De.post("trading-accounts.php",e);return console.log("Cuenta de trading creada:",t.data),t.data}catch(t){throw console.error("Error creando cuenta de trading:",t),t}},updateTradingAccount:async(e,t)=>{console.log("Actualizando cuenta de trading:",e,t);try{const r=await De.put(`trading-accounts.php?id=${e}`,t);return console.log("Cuenta de trading actualizada:",r.data),r.data}catch(r){throw console.error("Error actualizando cuenta de trading:",r),r}},deleteTradingAccount:async e=>{console.log("Eliminando cuenta de trading:",e);try{const t=await De.delete(`trading-accounts.php?id=${e}`);return console.log("Cuenta de trading eliminada:",t.data),t.data}catch(t){throw console.error("Error eliminando cuenta de trading:",t),t}}},ed={getSystemFields:async()=>{console.log("Obteniendo campos del sistema para mapeo");try{const e=await De.get("lead-import.php?fields=1");return console.log("Campos del sistema obtenidos:",e.data),e.data}catch(e){throw console.error("Error obteniendo campos del sistema:",e),e}},getImportHistory:async()=>{console.log("Obteniendo historial de importaciones");try{const e=await De.get("lead-import.php");return console.log("Historial de importaciones obtenido:",e.data),e.data}catch(e){throw console.error("Error obteniendo historial de importaciones:",e),e}},analyzeFile:async e=>{console.log("Analizando archivo:",e.name);try{const t=new FormData;t.append("file",e);const r=await De.post("lead-import.php?action=analyze",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Archivo analizado:",r.data),r.data}catch(t){throw console.error("Error analizando archivo:",t),t}},importFile:async e=>{console.log("Importando archivo de leads");try{const t=await De.post("lead-import.php?action=import",e);return console.log("Archivo importado:",t.data),t.data}catch(t){throw console.error("Error importando archivo:",t),t}}},L8={getStats:async()=>{var e;console.log("Obteniendo estadsticas del dashboard");try{const t=await De.get("dashboard.php"),r=((e=t.data)==null?void 0:e.data)??t.data;return console.log("Estadsticas del dashboard obtenidas:",r),r}catch(t){throw console.error("Error obteniendo estadsticas del dashboard:",t),t}},getDashboard:async()=>{console.log("Obteniendo datos de dashboard (respuesta completa)");try{const e=await De.get("dashboard.php");return console.log("Dashboard obtenido:",e.data),e.data}catch(e){throw console.error("Error obteniendo dashboard:",e),e}}},lg={autoLink:async e=>{console.log("Auto-vinculando lead con cuentas de trading:",e);try{const t=await De.post("lead-trading-link.php?action=auto_link",{lead_id:e});return console.log("Auto-link completado:",t.data),t.data}catch(t){throw console.error("Error en auto-link:",t),t}},manualLink:async(e,t)=>{console.log("Vinculacin manual:",{leadId:e,accountId:t});try{const r=await De.post("lead-trading-link.php?action=manual_link",{lead_id:e,account_id:t});return console.log("Manual-link completado:",r.data),r.data}catch(r){throw console.error("Error en manual-link:",r),r}},getLeadAccounts:async e=>{console.log("Obteniendo cuentas vinculadas al lead:",e);try{const t=await De.get(`lead-trading-link.php?action=lead_accounts&lead_id=${e}`);return console.log("Cuentas de lead:",t.data),t.data}catch(t){throw console.error("Error obteniendo cuentas del lead:",t),t}},unlinkAccount:async e=>{console.log("Desvinculando cuenta de trading del lead:",e);try{const t=await De.post("lead-trading-link.php?action=unlink_account",{account_id:e});return console.log("Cuenta desvinculada:",t.data),t.data}catch(t){throw console.error("Error desvinculando cuenta:",t),t}}};Yr.getLeadAccounts=Yr.getLeadAccounts||lg.getLeadAccounts;const Y2={getStats:async(e="month")=>{console.log("Obteniendo estadsticas del empleado:",{period:e});try{const t=await De.get(`employee-stats.php?period=${encodeURIComponent(e)}`);return console.log("Estadsticas del empleado obtenidas:",t.data),t.data}catch(t){throw console.error("Error obteniendo estadsticas del empleado:",t),t}},getActivities:async(e=10)=>{console.log("Obteniendo actividades del empleado:",{limit:e});try{const t=await De.get(`employee-activities.php?limit=${encodeURIComponent(String(e))}`);return console.log("Actividades del empleado obtenidas:",t.data),t.data}catch(t){throw console.error("Error obteniendo actividades del empleado:",t),t}}};class D8{constructor(){Se(this,"config",null);Se(this,"configPromise",null);Se(this,"maxRetries",3);Se(this,"retryDelay",1e3)}async getConfig(){return this.config?this.config:this.configPromise?this.configPromise:(this.configPromise=this.fetchConfigWithRetry(),this.configPromise)}async fetchConfigWithRetry(){for(let t=0;t<=this.maxRetries;t++)try{const r="/api",s=window.location.hostname==="localhost",n=r||"/api",a=typeof n=="string"?n.replace(/\/$/,""):"/api",l=`${!r&&s?"https://spin2pay.com/api":a}/config`,c=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-cache"});if(!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);const d=await c.json();if(!d.success)throw new Error(d.message||"Error en la respuesta del servidor");if(!this.validateConfig(d.data))throw new Error("Estructura de configuracin invlida");return this.config=d.data,d.warning&&console.warn("ConfigManager:",d.warning),this.config}catch(r){if(console.error(`ConfigManager: Intento ${t+1} fallido:`,r),t===this.maxRetries)return console.warn("ConfigManager: Usando configuracin de emergencia"),this.config=this.getEmergencyConfig(),this.config;await this.delay(this.retryDelay*(t+1))}return this.config=this.getEmergencyConfig(),this.config}validateConfig(t){try{return t&&typeof t=="object"&&t.app&&t.urls&&t.features&&t.limits&&typeof t.urls.base=="string"&&typeof t.urls.api=="string"&&t.urls.base.length>0&&t.urls.api.length>0}catch{return!1}}getEmergencyConfig(){const t="/api",r="http://localhost:8000",s=t||`${r}/api`;return{app:{name:"IATrade CRM",version:"1.0.0",environment:"production"},urls:{base:typeof r=="string"?r:window.location.origin,api:s,frontend:r,login:`${r}/auth/login`,dashboard:`${r}/dashboard`},features:{trading:!0,reports:!0,notifications:!0},limits:{max_upload_size:"10MB",session_timeout:3600}}}delay(t){return new Promise(r=>setTimeout(r,t))}async getApiUrl(){return(await this.getConfig()).urls.api}async getBaseUrl(){return(await this.getConfig()).urls.base}async getLoginUrl(){return(await this.getConfig()).urls.login}async getDashboardUrl(){return(await this.getConfig()).urls.dashboard}async refreshConfig(){return this.config=null,this.configPromise=null,this.getConfig()}async isFeatureEnabled(t){return(await this.getConfig()).features[t]||!1}}const I8=new D8;class B8{constructor(){ms.defaults.withCredentials=!0,this.token=localStorage.getItem("auth_token"),this.user=null,this.permissions=[],this.roles=[],this.desks=[],this.apiBaseUrl=null,this.token&&this.setAuthHeader(this.token),this.initializeConfig()}async initializeConfig(){try{this.apiBaseUrl=await I8.getApiUrl()}catch(t){console.error("Error inicializando configuracin:",t),this.apiBaseUrl=`${window.location.origin}/api`}}async getApiUrl(){return this.apiBaseUrl||await this.initializeConfig(),this.apiBaseUrl}setAuthHeader(t){ms.defaults.headers.common.Authorization=`Bearer ${t}`}removeAuthHeader(){delete ms.defaults.headers.common.Authorization}ensureAuthHeader(){if(!this.token){const t=localStorage.getItem("auth_token");t&&(this.token=t)}return this.token&&!ms.defaults.headers.common.Authorization&&this.setAuthHeader(this.token),!!this.token}async login(t,r){var s,n,a,i,l;try{const c=await this.getApiUrl();console.log(" Intentando login con URL:",`${c}/auth/login`);const d=await ms.post(`${c}/auth/login`,{username:t,password:r,remember:!0});if(console.log(" Respuesta de login:",d.data),d.data.success){this.token=d.data.token,this.user=d.data.user,localStorage.setItem("auth_token",this.token);try{localStorage.setItem("user",JSON.stringify(this.user))}catch{}return this.setAuthHeader(this.token),console.log(" Cargando perfil de usuario..."),await this.loadUserProfile()||console.warn(" No se pudo cargar el perfil del usuario, pero el login fue exitoso"),{success:!0,user:this.user,token:this.token}}else return console.error(" Login fallido:",d.data.message),{success:!1,message:d.data.message}}catch(c){return console.error(" Error crtico en login:",c),console.error(" URL que fall:",(s=c.config)==null?void 0:s.url),console.error(" Status:",(n=c.response)==null?void 0:n.status),console.error(" Respuesta:",(a=c.response)==null?void 0:a.data),{success:!1,message:((l=(i=c.response)==null?void 0:i.data)==null?void 0:l.message)||"Error de conexin al servidor"}}}async logout(){try{const t=await this.getApiUrl();await ms.post(`${t}/auth/logout.php`)}catch(t){console.error("Error during logout:",t)}finally{this.token=null,this.user=null,this.permissions=[],this.roles=[],this.desks=[],localStorage.removeItem("auth_token"),localStorage.removeItem("user"),this.removeAuthHeader()}}async loadUserProfile(){var t,r,s,n;try{if(!this.ensureAuthHeader())return console.warn("No hay token de autenticacin presente. Omitiendo solicitud de perfil."),!1;const i=await this.getApiUrl();console.log(" Cargando perfil desde:",`${i}/user-permissions.php`);const l=await ms.get(`${i}/user-permissions.php?action=user-profile`);return console.log(" Respuesta de perfil:",l.data),l.data.success?(this.user=l.data.data.user,this.permissions=l.data.data.permissions||[],this.roles=l.data.data.roles||[],this.desks=l.data.data.desks||[],console.log(" Perfil cargado exitosamente:",{user:(t=this.user)==null?void 0:t.username,permissions:this.permissions.length,roles:this.roles.length,desks:this.desks.length}),!0):(console.error(" Error cargando perfil:",l.data.message),!1)}catch(a){return console.error(" Error crtico cargando perfil:",a),console.error(" URL que fall:",(r=a.config)==null?void 0:r.url),console.error(" Status:",(s=a.response)==null?void 0:s.status),console.error(" Respuesta:",(n=a.response)==null?void 0:n.data),!1}}async hasPermission(t){try{if(this.hasPermissionLocal(t))return!0;const s=await this.getApiUrl(),n=await ms.get(`${s}/user-permissions.php?action=check-permission&permission=${t}`);return n.data.success&&n.data.data.has_permission}catch(r){return console.error("Error checking permission:",r),!1}}async hasRole(t){try{const r=await this.getApiUrl(),s=await ms.get(`${r}/user-permissions.php?action=check-role&role=${t}`);return s.data.success&&s.data.data.has_role}catch(r){return console.error("Error checking role:",r),!1}}async assignUserToDesk(t,r){try{const s=await this.getApiUrl();return(await ms.post(`${s}/user-permissions.php`,{action:"assign-user-desk",user_id:t,desk_id:r})).data.success?(await this.loadUserProfile(),!0):!1}catch(s){return console.error("Error assigning user to desk:",s),!1}}async canAccessLead(t){try{const r=await this.getApiUrl(),s=await ms.get(`${r}/user-permissions.php?action=can-access-lead&lead_id=${t}`);return s.data.success&&s.data.data.can_access}catch(r){return console.error("Error checking lead access:",r),!1}}async getLeadsFilters(){try{if(!this.ensureAuthHeader())return console.warn("No hay token, no se puede obtener filtros de leads"),{success:!1,message:"Token de autenticacin requerido",filters:{}};const r=await this.getApiUrl(),s=await ms.get(`${r}/user-permissions.php?action=leads-filters`);return s.data.success?s.data.data:{filters:{}}}catch(t){return console.error("Error obteniendo filtros de leads:",t),{success:!1,message:"Error obteniendo filtros de leads",filters:{}}}}hasPermissionLocal(t){if(this.isSuperAdmin()||this.isAdmin())return!0;if(!this.permissions||!Array.isArray(this.permissions))return console.warn("Permisos no cargados o formato incorrecto:",this.permissions),!1;const s={view_dashboard:"dashboard.view",view_leads:"leads.view","leads.view.assigned":"leads.view",create_leads:"leads.create",edit_leads:"leads.edit",delete_leads:"leads.delete",assign_leads:"leads.assign",import_leads:"leads.import",export_leads:"leads.export",view_users:"users.view",create_users:"users.create",edit_users:"users.edit",delete_users:"users.delete",view_roles:"roles.view",create_roles:"roles.create",edit_roles:"roles.edit",delete_roles:"roles.delete",manage_roles:"roles.view",view_desks:"desks.view",create_desks:"desks.create",edit_desks:"desks.edit",delete_desks:"desks.delete",manage_desks:"desks.view",view_trading:"trading.view",view_trading_accounts:"trading_accounts.view",create_trading:"trading.create",edit_trading:"trading.edit",delete_trading:"trading.delete",view_deposits_withdrawals:"deposits_withdrawals.view",approve_transactions:"transactions.approve",process_transactions:"transactions.process",view_reports:"reports.view",create_reports:"reports.create",manage_permissions:"user_permissions.edit",view_audit:"system.audit",manage_states:"manage_states",view_states:"states.view"}[t];return s?this.permissions.some(n=>{const a=typeof n=="string"?n:n.name;return a===t||a===s}):this.permissions.some(n=>(typeof n=="string"?n:n.name)===t)}hasRole(t){return this.roles.some(r=>(typeof r=="string"?r:r.name)===t)}hasAnyPermission(t){return t.some(r=>this.hasPermission(r))}hasAllPermissions(t){return t.every(r=>this.hasPermission(r))}isSuperAdmin(){return this.hasRole("super_admin")}isAdmin(){return this.hasRole("admin")}isManager(){return this.hasRole("manager")}hasSalesRole(){return this.hasRole("sales")}isAuthenticated(){return!!this.token&&!!this.user}getCurrentUser(){return this.user}getUserPermissions(){return this.permissions}getUserRoles(){return this.roles}getUserDesks(){return this.desks}canPerformAction(t,r=null){const n={view_leads:"leads.view",create_leads:"leads.create",edit_leads:"leads.edit",delete_leads:"leads.delete",view_users:"users.view",create_users:"users.create",edit_users:"users.edit",delete_users:"users.delete",manage_roles:"roles.view",manage_permissions:"system.settings",view_reports:"reports.view",manage_desks:"desks.view"}[t];return n?this.hasPermission(n):(console.warn(`Accin no reconocida: ${t}`),!1)}getAllowedActions(t="leads"){return({leads:["view_leads","create_leads","edit_leads","delete_leads"],users:["view_users","create_users","edit_users","delete_users"],roles:["manage_roles"],permissions:["manage_permissions"],reports:["view_reports"],desks:["manage_desks"]}[t]||[]).filter(n=>this.hasPermission(n))}canAccessRoute(t){const s={"/leads":"view_leads","/leads/create":"create_leads","/leads/edit":"edit_leads","/users":"view_users","/users/create":"create_users","/users/edit":"edit_users","/roles":"view_roles","/permissions":"manage_permissions","/reports":"view_reports","/desks":"view_desks","/dashboard":null}[t];return s===null?this.isAuthenticated():s===void 0?!1:this.hasPermission(s)}}const He=new B8,v5=w.createContext(void 0);function U8({children:e}){const[t,r]=w.useState(null),[s,n]=w.useState(null),[a,i]=w.useState(!0),l=!!t&&!!s;w.useEffect(()=>{(async()=>{const g=localStorage.getItem("auth_token");if(g)try{const y=localStorage.getItem("user");if(y)try{const b=JSON.parse(y);r(b),n(g),console.log("Usando datos de usuario desde localStorage")}catch(b){console.error("Error parseando usuario de localStorage:",b)}const v=await C0.verifyToken(g);if(v.success)if(n(g),r(v.user),localStorage.setItem("user",JSON.stringify(v.user)),He)try{if(console.log("Cargando perfil completo del usuario..."),await He.loadUserProfile()){console.log("Perfil cargado exitosamente con permisos completos");const _={...v.user,permissions:He.permissions||[],roles:He.roles||[]};r(_),localStorage.setItem("user",JSON.stringify(_))}else console.warn("No se pudo cargar el perfil completo, usando datos bsicos del token")}catch(b){console.error("Error cargando perfil despus de verificar token:",b)}else console.warn("authService no est disponible, usando datos bsicos del token");else console.log("Token invlido segn servidor, limpiando..."),localStorage.removeItem("auth_token"),he.error("Tu sesin ha expirado. Inicia sesin nuevamente.")}catch(y){console.error("Error verificando token:",y),console.log("Error de red/timeout, manteniendo token")}i(!1)})()},[]);const c=async(p,g,y=!1)=>{var v,b;try{i(!0),console.log("AuthContext: Iniciando login para",p);const _=await C0.login(p,g,y);return console.log("AuthContext: Respuesta recibida:",_),_&&_.success?(console.log("AuthContext: Login exitoso, guardando datos"),n(_.token),r(_.user),localStorage.setItem("auth_token",_.token),he.success(`Bienvenido, ${_.user.first_name}!`),!0):(console.log("AuthContext: Login fallido:",_),he.error((_==null?void 0:_.message)||"Error al iniciar sesin"),!1)}catch(_){console.error("AuthContext: Error en login:",_);const j=((b=(v=_.response)==null?void 0:v.data)==null?void 0:b.message)||_.message||"Error de conexin";return he.error(j),!1}finally{i(!1)}},d=async p=>{try{s&&await C0.logout()}catch(g){console.error("Error al cerrar sesin:",g)}finally{r(null),n(null),localStorage.removeItem("auth_token"),he.success("Sesin cerrada exitosamente");const g="https://spin2pay.com/auth/login";setTimeout(p?()=>{window.location.href=g}:()=>{window.location.replace(g)},100)}},x={user:t,token:s,isAuthenticated:l,isLoading:a,login:c,logout:d,refreshUser:async()=>{if(s)try{const p=await C0.verifyToken(s);p.success?r(p.user):d()}catch(p){console.error("Error refrescando usuario:",p),d()}},hasPermission:p=>{var g;return t?He?He.hasPermissionLocal(p):(console.warn("authService no est disponible, verificando permisos desde el usuario"),((g=t.permissions)==null?void 0:g.includes(p))||!1):!1},hasRole:p=>t?t.roles.includes(p):!1,updateUserSettings:p=>{if(!t)return;const g={...t,settings:{...t.settings,...p}};r(g)}};return o.jsx(v5.Provider,{value:x,children:e})}function pc(){const e=w.useContext(v5);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const b5=w.createContext(void 0);function $8({children:e}){const[t,r]=w.useState(()=>{const a=localStorage.getItem("iatrade-theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});w.useEffect(()=>{localStorage.setItem("iatrade-theme",t),document.documentElement.classList.toggle("dark",t==="dark");const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content",t==="dark"?"#0f172a":"#1e3a8a")},[t]);const s=()=>{r(a=>a==="light"?"dark":"light")},n=a=>{r(a)};return o.jsx(b5.Provider,{value:{theme:t,toggleTheme:s,setTheme:n},children:e})}function dm(){const e=w.useContext(b5);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function z8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const V8=w.forwardRef(z8),w5=V8;function H8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const W8=w.forwardRef(H8),_i=W8;function q8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const G8=w.forwardRef(q8),wd=G8;function K8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const X8=w.forwardRef(K8),Y8=X8;function Q8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Z8=w.forwardRef(Q8),da=Z8;function J8({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const eR=w.forwardRef(J8),tR=eR;function rR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const sR=w.forwardRef(rR),td=sR;function nR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const aR=w.forwardRef(nR),iR=aR;function oR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const lR=w.forwardRef(oR),k5=lR;function cR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const dR=w.forwardRef(cR),uR=dR;function fR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const hR=w.forwardRef(fR),lx=hR;function mR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xR=w.forwardRef(mR),pR=xR;function gR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const yR=w.forwardRef(gR),vR=yR;function bR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const wR=w.forwardRef(bR),kR=wR;function _R({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const NR=w.forwardRef(_R),Vs=NR;function jR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const ER=w.forwardRef(jR),SR=ER;function CR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const TR=w.forwardRef(CR),su=TR;function AR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const FR=w.forwardRef(AR),Rr=FR;function RR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const PR=w.forwardRef(RR),Q2=PR;function MR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const OR=w.forwardRef(MR),_s=OR;function LR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const DR=w.forwardRef(LR),Is=DR;function IR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const BR=w.forwardRef(IR),ti=BR;function UR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const $R=w.forwardRef(UR),Q1=$R;function zR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const VR=w.forwardRef(zR),Z1=VR;function HR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const WR=w.forwardRef(HR),yl=WR;function qR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const GR=w.forwardRef(qR),Ni=GR;function KR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const XR=w.forwardRef(KR),Z2=XR;function YR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const QR=w.forwardRef(YR),_5=QR;function ZR({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const JR=w.forwardRef(ZR),J2=JR;function eP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const tP=w.forwardRef(eP),rP=tP;function sP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nP=w.forwardRef(sP),gn=nP;function aP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const iP=w.forwardRef(aP),El=iP;function oP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const lP=w.forwardRef(oP),mn=lP;function cP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const dP=w.forwardRef(cP),gc=dP;function uP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const fP=w.forwardRef(uP),ba=fP;function hP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const mP=w.forwardRef(hP),N5=mP;function xP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const pP=w.forwardRef(xP),$o=pP;function gP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const yP=w.forwardRef(gP),To=yP;function vP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const bP=w.forwardRef(vP),J1=bP;function wP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const kP=w.forwardRef(wP),_P=kP;function NP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const jP=w.forwardRef(NP),EP=jP;function SP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const CP=w.forwardRef(SP),TP=CP;function AP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const FP=w.forwardRef(AP),RP=FP;function PP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const MP=w.forwardRef(PP),ln=MP;function OP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const LP=w.forwardRef(OP),DP=LP;function IP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const BP=w.forwardRef(IP),UP=BP;function $P({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const zP=w.forwardRef($P),j5=zP;function VP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const HP=w.forwardRef(VP),Ao=HP;function WP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const qP=w.forwardRef(WP),Hu=qP;function GP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const KP=w.forwardRef(GP),Hs=KP;function XP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const YP=w.forwardRef(XP),eb=YP;function QP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const ZP=w.forwardRef(QP),nu=ZP;function JP({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const eM=w.forwardRef(JP),oh=eM;function tM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const rM=w.forwardRef(tM),sM=rM;function nM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const aM=w.forwardRef(nM),E5=aM;function iM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const oM=w.forwardRef(iM),lM=oM;function cM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const dM=w.forwardRef(cM),S5=dM;function uM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const fM=w.forwardRef(uM),lh=fM;function hM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const mM=w.forwardRef(hM),Fo=mM;function xM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const pM=w.forwardRef(xM),gM=pM;function yM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const vM=w.forwardRef(yM),ey=vM;function bM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const wM=w.forwardRef(bM),kM=wM;function _M({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const NM=w.forwardRef(_M),pr=NM;function jM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const EM=w.forwardRef(jM),rc=EM;function SM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const CM=w.forwardRef(SM),au=CM;function TM({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const AM=w.forwardRef(TM),Ar=AM;function FM(){const{theme:e,toggleTheme:t}=dm();return o.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-secondary-900 dark:via-secondary-800 dark:to-primary-900 flex",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600 to-primary-800 opacity-90"}),o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSI0Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"}),o.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center text-white p-8 xl:p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 xl:w-20 h-16 xl:h-20 bg-white/20 rounded-2xl flex items-center justify-center mb-6 xl:mb-8 backdrop-blur-sm",children:o.jsx("svg",{className:"w-8 xl:w-10 h-8 xl:h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),o.jsx("h1",{className:"text-3xl xl:text-4xl font-bold mb-3 xl:mb-4",children:"iaTrade CRM"}),o.jsx("p",{className:"text-lg xl:text-xl text-primary-100 mb-6 xl:mb-8",children:"Plataforma Profesional de Trading"}),o.jsxs("div",{className:"space-y-3 xl:space-y-4 text-left max-w-md",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success-400 rounded-full"}),o.jsx("span",{className:"text-sm xl:text-base text-primary-100",children:"Gestin avanzada de leads"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success-400 rounded-full"}),o.jsx("span",{className:"text-sm xl:text-base text-primary-100",children:"Cuentas de trading integradas"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success-400 rounded-full"}),o.jsx("span",{className:"text-sm xl:text-base text-primary-100",children:"Anlisis en tiempo real"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success-400 rounded-full"}),o.jsx("span",{className:"text-sm xl:text-base text-primary-100",children:"Reportes profesionales"})]})]})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center py-8 sm:py-12 px-4 sm:px-6 lg:px-16 xl:px-20 2xl:px-24 w-full",children:o.jsxs("div",{className:"mx-auto w-full max-w-sm lg:max-w-md xl:max-w-lg",children:[o.jsx("div",{className:"flex justify-end mb-6 sm:mb-8",children:o.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white dark:bg-secondary-800 shadow-soft border border-secondary-200 dark:border-secondary-700 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors","aria-label":`Cambiar a tema ${e==="light"?"oscuro":"claro"}`,children:e==="light"?o.jsx(j5,{className:"w-5 h-5 text-secondary-600"}):o.jsx(E5,{className:"w-5 h-5 text-secondary-400"})})}),o.jsxs("div",{className:"lg:hidden text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"w-14 sm:w-16 h-14 sm:h-16 bg-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4",children:o.jsx("svg",{className:"w-7 sm:w-8 h-7 sm:h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-secondary-900 dark:text-white",children:"iaTrade CRM"})]}),o.jsx(AN,{})]})})]})}const cx=[{name:"Dashboard",href:"/dashboard",icon:TP,permission:null},{name:"Mi Resumen",href:"/employee-summary",icon:Rr,permission:null,roles:["sales","employee"]},{name:"Leads",href:"/leads",icon:rc,permission:"view_leads"},{name:"Usuarios",href:"/users",icon:ey,permission:"view_users"},{name:"Roles",href:"/roles",icon:nu,permission:"view_roles"},{name:"Mesas",href:"/desks",icon:Vs,permission:"view_desks"},{name:"Gestin de Estados",href:"/states",icon:_5,permission:"manage_states"},{name:"Trading",icon:rP,permission:null,children:[{name:"Cuentas",href:"/trading",permission:"view_trading_accounts"}]}];function RM(){var h,m,x,p,g,y;const[e,t]=w.useState(!1),[r,s]=w.useState(!1),{user:n,logout:a,hasPermission:i}=pc(),{theme:l,toggleTheme:c}=dm(),d=Uo(),u=()=>{a()},f=cx.map(v=>{if(v.permission&&!i(v.permission)||v.roles&&!v.roles.some(b=>{var _;return(_=n==null?void 0:n.roles)==null?void 0:_.includes(b)}))return null;if(v.children){const b=v.children.filter(_=>!_.permission||i(_.permission));return b.length>0?{...v,children:b}:null}return v}).filter(v=>v!==null);return o.jsxs("div",{className:"min-h-screen w-full bg-secondary-50 dark:bg-secondary-900",children:[o.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${e?"block":"hidden"}`,children:[o.jsx("div",{className:"fixed inset-0 bg-secondary-600 bg-opacity-75",onClick:()=>t(!1)}),o.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-full max-w-xs flex-col bg-white dark:bg-secondary-800 shadow-xl",children:[o.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),o.jsx("span",{className:"ml-2 text-lg font-semibold text-secondary-900 dark:text-white",children:"iaTrade CRM"})]}),o.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-md text-secondary-400 hover:text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-700",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:f.map(v=>o.jsx("div",{children:v.children?o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center px-3 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300",children:[o.jsx(v.icon,{className:"w-5 h-5 mr-3"}),v.name]}),o.jsx("div",{className:"ml-8 space-y-1",children:v.children.map(b=>o.jsx(ei,{to:b.href,className:`block px-3 py-2 text-sm rounded-md transition-colors ${d.pathname===b.href?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-secondary-600 hover:bg-secondary-100 dark:text-secondary-400 dark:hover:bg-secondary-700"}`,children:b.name},b.name))})]}):o.jsxs(ei,{to:v.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${d.pathname===v.href?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-secondary-700 hover:bg-secondary-100 dark:text-secondary-300 dark:hover:bg-secondary-700"}`,children:[o.jsx(v.icon,{className:"w-5 h-5 mr-3"}),v.name]})},v.name))})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:bg-secondary-800 border-r border-secondary-200 dark:border-secondary-700",children:[o.jsx("div",{className:"flex h-16 shrink-0 items-center px-6 border-b border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"IT"})}),o.jsx("span",{className:"ml-3 text-lg font-semibold text-secondary-900 dark:text-white",children:"iaTrade CRM"})]})}),o.jsx("nav",{className:"flex flex-1 flex-col px-6",children:o.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:o.jsx("li",{children:o.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:f.map(v=>o.jsx("li",{children:v.children?o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center px-3 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300",children:[o.jsx(v.icon,{className:"w-5 h-5 mr-3"}),v.name]}),o.jsx("div",{className:"ml-8 space-y-1",children:v.children.map(b=>o.jsx(ei,{to:b.href,className:`block px-3 py-2 text-sm rounded-md transition-colors ${d.pathname===b.href?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-secondary-600 hover:bg-secondary-100 dark:text-secondary-400 dark:hover:bg-secondary-700"}`,children:b.name},b.name))})]}):o.jsxs(ei,{to:v.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${d.pathname===v.href?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-200":"text-secondary-700 hover:bg-secondary-100 dark:text-secondary-300 dark:hover:bg-secondary-700"}`,children:[o.jsx(v.icon,{className:"w-5 h-5 mr-3"}),v.name]})},v.name))})})})})]})}),o.jsxs("div",{className:"lg:pl-64 w-full",children:[o.jsx("header",{className:"bg-white dark:bg-secondary-800 shadow-sm border-b border-secondary-200 dark:border-secondary-700 w-full",children:o.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8 w-full",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 rounded-md text-secondary-400 hover:text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-700",children:o.jsx(pR,{className:"w-6 h-6"})}),o.jsx("h1",{className:"ml-4 lg:ml-0 text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:((h=cx.find(v=>v.href===d.pathname))==null?void 0:h.name)||((p=(x=(m=cx.find(v=>{var b;return(b=v.children)==null?void 0:b.some(_=>_.href===d.pathname)}))==null?void 0:m.children)==null?void 0:x.find(v=>v.href===d.pathname))==null?void 0:p.name)||"Dashboard"})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("button",{onClick:c,className:"p-2 rounded-lg bg-secondary-100 dark:bg-secondary-700 hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors","aria-label":`Cambiar a tema ${l==="light"?"oscuro":"claro"}`,children:l==="light"?o.jsx(j5,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"}):o.jsx(E5,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"})}),o.jsxs("button",{className:"p-2 rounded-lg bg-secondary-100 dark:bg-secondary-700 hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors relative",children:[o.jsx(vR,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"}),o.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-danger-500 rounded-full text-xs text-white flex items-center justify-center",children:"3"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-2 sm:space-x-3 p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-sm font-medium text-white",children:[(g=n==null?void 0:n.first_name)==null?void 0:g.charAt(0),(y=n==null?void 0:n.last_name)==null?void 0:y.charAt(0)]})}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsxs("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:(()=>{var _,j;const v=(_=n==null?void 0:n.roles)==null?void 0:_[0];return(typeof v=="string"?v:v&&v.display_name||v&&v.name)||((j=n==null?void 0:n.role_names)==null?void 0:j[0])||"Sin rol"})()})]}),o.jsx(ti,{className:"w-4 h-4 text-secondary-400"})]}),r&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-secondary-800 rounded-lg shadow-lg border border-secondary-200 dark:border-secondary-700 py-1 z-50",children:o.jsxs("button",{onClick:u,className:"flex items-center w-full px-4 py-2 text-sm text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700",children:[o.jsx(Y8,{className:"w-4 h-4 mr-3"}),"Cerrar Sesin"]})})]})]})]})}),o.jsx("main",{className:"p-4 sm:p-6 lg:p-8 w-full",children:o.jsx(AN,{})})]})]})}var Wu=e=>e.type==="checkbox",Qi=e=>e instanceof Date,Wr=e=>e==null;const C5=e=>typeof e=="object";var Vt=e=>!Wr(e)&&!Array.isArray(e)&&C5(e)&&!Qi(e),PM=e=>Vt(e)&&e.target?Wu(e.target)?e.target.checked:e.target.value:e,MM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OM=(e,t)=>e.has(MM(t)),LM=e=>{const t=e.constructor&&e.constructor.prototype;return Vt(t)&&t.hasOwnProperty("isPrototypeOf")},ty=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function or(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ty&&(e instanceof Blob||s))&&(r||Vt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!LM(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=or(e[n]));else return e;return t}var um=e=>/^\w*$/.test(e),Yt=e=>e===void 0,ry=e=>Array.isArray(e)?e.filter(Boolean):[],sy=e=>ry(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!Vt(e))return r;const s=(um(t)?[t]:sy(t)).reduce((n,a)=>Wr(n)?n:n[a],e);return Yt(s)||s===e?Yt(e[t])?r:e[t]:s},Cn=e=>typeof e=="boolean",_t=(e,t,r)=>{let s=-1;const n=um(t)?[t]:sy(t),a=n.length,i=a-1;for(;++s<a;){const l=n[s];let c=r;if(s!==i){const d=e[l];c=Vt(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const tb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DM=Ie.createContext(null);DM.displayName="HookFormContext";var IM=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const i=a;return t._proxyFormState[i]!==nn.all&&(t._proxyFormState[i]=!s||nn.all),r&&(r[i]=!0),e[i]}});return n};const BM=typeof window<"u"?Ie.useLayoutEffect:Ie.useEffect;var Mn=e=>typeof e=="string",UM=(e,t,r,s,n)=>Mn(e)?(s&&t.watch.add(e),Le(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),Le(r,a))):(s&&(t.watchAll=!0),r),cg=e=>Wr(e)||!C5(e);function Ia(e,t,r=new WeakSet){if(cg(e)||cg(t))return e===t;if(Qi(e)&&Qi(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of s){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Qi(i)&&Qi(l)||Vt(i)&&Vt(l)||Array.isArray(i)&&Array.isArray(l)?!Ia(i,l,r):i!==l)return!1}}return!0}var $M=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},kd=e=>Array.isArray(e)?e:[e],rb=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},ns=e=>Vt(e)&&!Object.keys(e).length,ny=e=>e.type==="file",an=e=>typeof e=="function",ch=e=>{if(!ty)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},T5=e=>e.type==="select-multiple",ay=e=>e.type==="radio",zM=e=>ay(e)||Wu(e),dx=e=>ch(e)&&e.isConnected;function VM(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Yt(e)?s++:e[t[s++]];return e}function HM(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yt(e[t]))return!1;return!0}function Gt(e,t){const r=Array.isArray(t)?t:um(t)?[t]:sy(t),s=r.length===1?e:VM(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(Vt(s)&&ns(s)||Array.isArray(s)&&HM(s))&&Gt(e,r.slice(0,-1)),e}var A5=e=>{for(const t in e)if(an(e[t]))return!0;return!1};function dh(e,t={}){const r=Array.isArray(e);if(Vt(e)||r)for(const s in e)Array.isArray(e[s])||Vt(e[s])&&!A5(e[s])?(t[s]=Array.isArray(e[s])?[]:{},dh(e[s],t[s])):Wr(e[s])||(t[s]=!0);return t}function F5(e,t,r){const s=Array.isArray(e);if(Vt(e)||s)for(const n in e)Array.isArray(e[n])||Vt(e[n])&&!A5(e[n])?Yt(t)||cg(r[n])?r[n]=Array.isArray(e[n])?dh(e[n],[]):{...dh(e[n])}:F5(e[n],Wr(t)?{}:t[n],r[n]):r[n]=!Ia(e[n],t[n]);return r}var Dc=(e,t)=>F5(e,t,dh(t));const sb={value:!1,isValid:!1},nb={value:!0,isValid:!0};var R5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||e[0].value===""?nb:{value:e[0].value,isValid:!0}:nb:sb}return sb},P5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Yt(e)?e:t?e===""?NaN:e&&+e:r&&Mn(e)?new Date(e):s?s(e):e;const ab={isValid:!1,value:null};var M5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ab):ab;function ib(e){const t=e.ref;return ny(t)?t.files:ay(t)?M5(e.refs).value:T5(t)?[...t.selectedOptions].map(({value:r})=>r):Wu(t)?R5(e.refs).value:P5(Yt(t.value)?e.ref.value:t.value,e)}var WM=(e,t,r,s)=>{const n={};for(const a of e){const i=Le(t,a);i&&_t(n,a,i._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},uh=e=>e instanceof RegExp,Ic=e=>Yt(e)?e:uh(e)?e.source:Vt(e)?uh(e.value)?e.value.source:e.value:e,ob=e=>({isOnSubmit:!e||e===nn.onSubmit,isOnBlur:e===nn.onBlur,isOnChange:e===nn.onChange,isOnAll:e===nn.all,isOnTouch:e===nn.onTouched});const lb="AsyncFunction";var qM=e=>!!e&&!!e.validate&&!!(an(e.validate)&&e.validate.constructor.name===lb||Vt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===lb)),GM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const _d=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=Le(e,n);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],n)&&!s)return!0;if(i.ref&&t(i.ref,i.name)&&!s)return!0;if(_d(l,t))break}else if(Vt(l)&&_d(l,t))break}}};function db(e,t,r){const s=Le(e,r);if(s||um(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),i=Le(t,a),l=Le(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};n.pop()}return{name:r}}var KM=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return ns(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!s||nn.all))},XM=(e,t,r)=>!e||!t||e===t||kd(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),YM=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,QM=(e,t)=>!ry(Le(e,t)).length&&Gt(e,t),ZM=(e,t,r)=>{const s=kd(Le(e,r));return _t(s,"root",t[r]),_t(e,r,s),e},wf=e=>Mn(e);function ub(e,t,r="validate"){if(wf(e)||Array.isArray(e)&&e.every(wf)||Cn(e)&&!e)return{type:r,message:wf(e)?e:"",ref:t}}var Qo=e=>Vt(e)&&!uh(e)?e:{value:e,message:""},fb=async(e,t,r,s,n,a)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:m,validate:x,name:p,valueAsNumber:g,mount:y}=e._f,v=Le(r,p);if(!y||t.has(p))return{};const b=l?l[0]:i,_=F=>{n&&b.reportValidity&&(b.setCustomValidity(Cn(F)?"":F||""),b.reportValidity())},j={},S=ay(i),N=Wu(i),k=S||N,E=(g||ny(i))&&Yt(i.value)&&Yt(v)||ch(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,C=$M.bind(null,p,s,j),A=(F,M,Y,L=Wn.maxLength,G=Wn.minLength)=>{const oe=F?M:Y;j[p]={type:F?L:G,message:oe,ref:i,...C(F?L:G,oe)}};if(a?!Array.isArray(v)||!v.length:c&&(!k&&(E||Wr(v))||Cn(v)&&!v||N&&!R5(l).isValid||S&&!M5(l).isValid)){const{value:F,message:M}=wf(c)?{value:!!c,message:c}:Qo(c);if(F&&(j[p]={type:Wn.required,message:M,ref:b,...C(Wn.required,M)},!s))return _(M),j}if(!E&&(!Wr(f)||!Wr(h))){let F,M;const Y=Qo(h),L=Qo(f);if(!Wr(v)&&!isNaN(v)){const G=i.valueAsNumber||v&&+v;Wr(Y.value)||(F=G>Y.value),Wr(L.value)||(M=G<L.value)}else{const G=i.valueAsDate||new Date(v),oe=X=>new Date(new Date().toDateString()+" "+X),ne=i.type=="time",V=i.type=="week";Mn(Y.value)&&v&&(F=ne?oe(v)>oe(Y.value):V?v>Y.value:G>new Date(Y.value)),Mn(L.value)&&v&&(M=ne?oe(v)<oe(L.value):V?v<L.value:G<new Date(L.value))}if((F||M)&&(A(!!F,Y.message,L.message,Wn.max,Wn.min),!s))return _(j[p].message),j}if((d||u)&&!E&&(Mn(v)||a&&Array.isArray(v))){const F=Qo(d),M=Qo(u),Y=!Wr(F.value)&&v.length>+F.value,L=!Wr(M.value)&&v.length<+M.value;if((Y||L)&&(A(Y,F.message,M.message),!s))return _(j[p].message),j}if(m&&!E&&Mn(v)){const{value:F,message:M}=Qo(m);if(uh(F)&&!v.match(F)&&(j[p]={type:Wn.pattern,message:M,ref:i,...C(Wn.pattern,M)},!s))return _(M),j}if(x){if(an(x)){const F=await x(v,r),M=ub(F,b);if(M&&(j[p]={...M,...C(Wn.validate,M.message)},!s))return _(M.message),j}else if(Vt(x)){let F={};for(const M in x){if(!ns(F)&&!s)break;const Y=ub(await x[M](v,r),b,M);Y&&(F={...Y,...C(M,Y.message)},_(Y.message),s&&(j[p]=F))}if(!ns(F)&&(j[p]={ref:b,...F},!s))return j}}return _(!0),j};const JM={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function eO(e={}){let t={...JM,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:an(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=Vt(t.defaultValues)||Vt(t.values)?or(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:or(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:rb(),state:rb()},m=t.criteriaMode===nn.all,x=W=>Z=>{clearTimeout(d),d=setTimeout(W,Z)},p=async W=>{if(!t.disabled&&(u.isValid||f.isValid||W)){const Z=t.resolver?ns((await N()).errors):await E(s,!0);Z!==r.isValid&&h.state.next({isValid:Z})}},g=(W,Z)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((W||Array.from(l.mount)).forEach(le=>{le&&(Z?_t(r.validatingFields,le,Z):Gt(r.validatingFields,le))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ns(r.validatingFields)}))},y=(W,Z=[],le,ke,ge=!0,pe=!0)=>{if(ke&&le&&!t.disabled){if(i.action=!0,pe&&Array.isArray(Le(s,W))){const Ae=le(Le(s,W),ke.argA,ke.argB);ge&&_t(s,W,Ae)}if(pe&&Array.isArray(Le(r.errors,W))){const Ae=le(Le(r.errors,W),ke.argA,ke.argB);ge&&_t(r.errors,W,Ae),QM(r.errors,W)}if((u.touchedFields||f.touchedFields)&&pe&&Array.isArray(Le(r.touchedFields,W))){const Ae=le(Le(r.touchedFields,W),ke.argA,ke.argB);ge&&_t(r.touchedFields,W,Ae)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Dc(n,a)),h.state.next({name:W,isDirty:A(W,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _t(a,W,Z)},v=(W,Z)=>{_t(r.errors,W,Z),h.state.next({errors:r.errors})},b=W=>{r.errors=W,h.state.next({errors:r.errors,isValid:!1})},_=(W,Z,le,ke)=>{const ge=Le(s,W);if(ge){const pe=Le(a,W,Yt(le)?Le(n,W):le);Yt(pe)||ke&&ke.defaultChecked||Z?_t(a,W,Z?pe:ib(ge._f)):Y(W,pe),i.mount&&p()}},j=(W,Z,le,ke,ge)=>{let pe=!1,Ae=!1;const Ye={name:W};if(!t.disabled){if(!le||ke){(u.isDirty||f.isDirty)&&(Ae=r.isDirty,r.isDirty=Ye.isDirty=A(),pe=Ae!==Ye.isDirty);const $e=Ia(Le(n,W),Z);Ae=!!Le(r.dirtyFields,W),$e?Gt(r.dirtyFields,W):_t(r.dirtyFields,W,!0),Ye.dirtyFields=r.dirtyFields,pe=pe||(u.dirtyFields||f.dirtyFields)&&Ae!==!$e}if(le){const $e=Le(r.touchedFields,W);$e||(_t(r.touchedFields,W,le),Ye.touchedFields=r.touchedFields,pe=pe||(u.touchedFields||f.touchedFields)&&$e!==le)}pe&&ge&&h.state.next(Ye)}return pe?Ye:{}},S=(W,Z,le,ke)=>{const ge=Le(r.errors,W),pe=(u.isValid||f.isValid)&&Cn(Z)&&r.isValid!==Z;if(t.delayError&&le?(c=x(()=>v(W,le)),c(t.delayError)):(clearTimeout(d),c=null,le?_t(r.errors,W,le):Gt(r.errors,W)),(le?!Ia(ge,le):ge)||!ns(ke)||pe){const Ae={...ke,...pe&&Cn(Z)?{isValid:Z}:{},errors:r.errors,name:W};r={...r,...Ae},h.state.next(Ae)}},N=async W=>{g(W,!0);const Z=await t.resolver(a,t.context,WM(W||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(W),Z},k=async W=>{const{errors:Z}=await N(W);if(W)for(const le of W){const ke=Le(Z,le);ke?_t(r.errors,le,ke):Gt(r.errors,le)}else r.errors=Z;return Z},E=async(W,Z,le={valid:!0})=>{for(const ke in W){const ge=W[ke];if(ge){const{_f:pe,...Ae}=ge;if(pe){const Ye=l.array.has(pe.name),$e=ge._f&&qM(ge._f);$e&&u.validatingFields&&g([ke],!0);const ht=await fb(ge,l.disabled,a,m,t.shouldUseNativeValidation&&!Z,Ye);if($e&&u.validatingFields&&g([ke]),ht[pe.name]&&(le.valid=!1,Z))break;!Z&&(Le(ht,pe.name)?Ye?ZM(r.errors,ht,pe.name):_t(r.errors,pe.name,ht[pe.name]):Gt(r.errors,pe.name))}!ns(Ae)&&await E(Ae,Z,le)}}return le.valid},C=()=>{for(const W of l.unMount){const Z=Le(s,W);Z&&(Z._f.refs?Z._f.refs.every(le=>!dx(le)):!dx(Z._f.ref))&&de(W)}l.unMount=new Set},A=(W,Z)=>!t.disabled&&(W&&Z&&_t(a,W,Z),!Ia(X(),n)),F=(W,Z,le)=>UM(W,l,{...i.mount?a:Yt(Z)?n:Mn(W)?{[W]:Z}:Z},le,Z),M=W=>ry(Le(i.mount?a:n,W,t.shouldUnregister?Le(n,W,[]):[])),Y=(W,Z,le={})=>{const ke=Le(s,W);let ge=Z;if(ke){const pe=ke._f;pe&&(!pe.disabled&&_t(a,W,P5(Z,pe)),ge=ch(pe.ref)&&Wr(Z)?"":Z,T5(pe.ref)?[...pe.ref.options].forEach(Ae=>Ae.selected=ge.includes(Ae.value)):pe.refs?Wu(pe.ref)?pe.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ge)?Ae.checked=!!ge.find(Ye=>Ye===Ae.value):Ae.checked=ge===Ae.value||!!ge)}):pe.refs.forEach(Ae=>Ae.checked=Ae.value===ge):ny(pe.ref)?pe.ref.value="":(pe.ref.value=ge,pe.ref.type||h.state.next({name:W,values:or(a)})))}(le.shouldDirty||le.shouldTouch)&&j(W,ge,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&V(W)},L=(W,Z,le)=>{for(const ke in Z){if(!Z.hasOwnProperty(ke))return;const ge=Z[ke],pe=W+"."+ke,Ae=Le(s,pe);(l.array.has(W)||Vt(ge)||Ae&&!Ae._f)&&!Qi(ge)?L(pe,ge,le):Y(pe,ge,le)}},G=(W,Z,le={})=>{const ke=Le(s,W),ge=l.array.has(W),pe=or(Z);_t(a,W,pe),ge?(h.array.next({name:W,values:or(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&le.shouldDirty&&h.state.next({name:W,dirtyFields:Dc(n,a),isDirty:A(W,pe)})):ke&&!ke._f&&!Wr(pe)?L(W,pe,le):Y(W,pe,le),cb(W,l)&&h.state.next({...r,name:W}),h.state.next({name:i.mount?W:void 0,values:or(a)})},oe=async W=>{i.mount=!0;const Z=W.target;let le=Z.name,ke=!0;const ge=Le(s,le),pe=$e=>{ke=Number.isNaN($e)||Qi($e)&&isNaN($e.getTime())||Ia($e,Le(a,le,$e))},Ae=ob(t.mode),Ye=ob(t.reValidateMode);if(ge){let $e,ht;const J=Z.type?ib(ge._f):PM(W),Oe=W.type===tb.BLUR||W.type===tb.FOCUS_OUT,ut=!GM(ge._f)&&!t.resolver&&!Le(r.errors,le)&&!ge._f.deps||YM(Oe,Le(r.touchedFields,le),r.isSubmitted,Ye,Ae),ft=cb(le,l,Oe);_t(a,le,J),Oe?(!Z||!Z.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(W),c&&c(0)):ge._f.onChange&&ge._f.onChange(W);const Xs=j(le,J,Oe),s0=!ns(Xs)||ft;if(!Oe&&h.state.next({name:le,type:W.type,values:or(a)}),ut)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Oe&&p():Oe||p()),s0&&h.state.next({name:le,...ft?{}:Xs});if(!Oe&&ft&&h.state.next({...r}),t.resolver){const{errors:n0}=await N([le]);if(pe(J),ke){const Cm=db(r.errors,s,le),Nc=db(n0,s,Cm.name||le);$e=Nc.error,le=Nc.name,ht=ns(n0)}}else g([le],!0),$e=(await fb(ge,l.disabled,a,m,t.shouldUseNativeValidation))[le],g([le]),pe(J),ke&&($e?ht=!1:(u.isValid||f.isValid)&&(ht=await E(s,!0)));ke&&(ge._f.deps&&V(ge._f.deps),S(le,ht,$e,Xs))}},ne=(W,Z)=>{if(Le(r.errors,Z)&&W.focus)return W.focus(),1},V=async(W,Z={})=>{let le,ke;const ge=kd(W);if(t.resolver){const pe=await k(Yt(W)?W:ge);le=ns(pe),ke=W?!ge.some(Ae=>Le(pe,Ae)):le}else W?(ke=(await Promise.all(ge.map(async pe=>{const Ae=Le(s,pe);return await E(Ae&&Ae._f?{[pe]:Ae}:Ae)}))).every(Boolean),!(!ke&&!r.isValid)&&p()):ke=le=await E(s);return h.state.next({...!Mn(W)||(u.isValid||f.isValid)&&le!==r.isValid?{}:{name:W},...t.resolver||!W?{isValid:le}:{},errors:r.errors}),Z.shouldFocus&&!ke&&_d(s,ne,W?ge:l.mount),ke},X=W=>{const Z={...i.mount?a:n};return Yt(W)?Z:Mn(W)?Le(Z,W):W.map(le=>Le(Z,le))},ee=(W,Z)=>({invalid:!!Le((Z||r).errors,W),isDirty:!!Le((Z||r).dirtyFields,W),error:Le((Z||r).errors,W),isValidating:!!Le(r.validatingFields,W),isTouched:!!Le((Z||r).touchedFields,W)}),R=W=>{W&&kd(W).forEach(Z=>Gt(r.errors,Z)),h.state.next({errors:W?r.errors:{}})},K=(W,Z,le)=>{const ke=(Le(s,W,{_f:{}})._f||{}).ref,ge=Le(r.errors,W)||{},{ref:pe,message:Ae,type:Ye,...$e}=ge;_t(r.errors,W,{...$e,...Z,ref:ke}),h.state.next({name:W,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&ke&&ke.focus&&ke.focus()},z=(W,Z)=>an(W)?h.state.subscribe({next:le=>"values"in le&&W(F(void 0,Z),le)}):F(W,Z,!0),H=W=>h.state.subscribe({next:Z=>{XM(W.name,Z.name,W.exact)&&KM(Z,W.formState||u,be,W.reRenderRoot)&&W.callback({values:{...a},...r,...Z,defaultValues:n})}}).unsubscribe,Q=W=>(i.mount=!0,f={...f,...W.formState},H({...W,formState:f})),de=(W,Z={})=>{for(const le of W?kd(W):l.mount)l.mount.delete(le),l.array.delete(le),Z.keepValue||(Gt(s,le),Gt(a,le)),!Z.keepError&&Gt(r.errors,le),!Z.keepDirty&&Gt(r.dirtyFields,le),!Z.keepTouched&&Gt(r.touchedFields,le),!Z.keepIsValidating&&Gt(r.validatingFields,le),!t.shouldUnregister&&!Z.keepDefaultValue&&Gt(n,le);h.state.next({values:or(a)}),h.state.next({...r,...Z.keepDirty?{isDirty:A()}:{}}),!Z.keepIsValid&&p()},xe=({disabled:W,name:Z})=>{(Cn(W)&&i.mount||W||l.disabled.has(Z))&&(W?l.disabled.add(Z):l.disabled.delete(Z))},me=(W,Z={})=>{let le=Le(s,W);const ke=Cn(Z.disabled)||Cn(t.disabled);return _t(s,W,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:W}},name:W,mount:!0,...Z}}),l.mount.add(W),le?xe({disabled:Cn(Z.disabled)?Z.disabled:t.disabled,name:W}):_(W,!0,Z.value),{...ke?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:Ic(Z.min),max:Ic(Z.max),minLength:Ic(Z.minLength),maxLength:Ic(Z.maxLength),pattern:Ic(Z.pattern)}:{},name:W,onChange:oe,onBlur:oe,ref:ge=>{if(ge){me(W,Z),le=Le(s,W);const pe=Yt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Ae=zM(pe),Ye=le._f.refs||[];if(Ae?Ye.find($e=>$e===pe):pe===le._f.ref)return;_t(s,W,{_f:{...le._f,...Ae?{refs:[...Ye.filter(dx),pe,...Array.isArray(Le(n,W))?[{}]:[]],ref:{type:pe.type,name:W}}:{ref:pe}}}),_(W,!1,void 0,pe)}else le=Le(s,W,{}),le._f&&(le._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(OM(l.array,W)&&i.action)&&l.unMount.add(W)}}},ue=()=>t.shouldFocusError&&_d(s,ne,l.mount),Ce=W=>{Cn(W)&&(h.state.next({disabled:W}),_d(s,(Z,le)=>{const ke=Le(s,le);ke&&(Z.disabled=ke._f.disabled||W,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(ge=>{ge.disabled=ke._f.disabled||W}))},0,!1))},B=(W,Z)=>async le=>{let ke;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let ge=or(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:pe,values:Ae}=await N();r.errors=pe,ge=or(Ae)}else await E(s);if(l.disabled.size)for(const pe of l.disabled)Gt(ge,pe);if(Gt(r.errors,"root"),ns(r.errors)){h.state.next({errors:{}});try{await W(ge,le)}catch(pe){ke=pe}}else Z&&await Z({...r.errors},le),ue(),setTimeout(ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ns(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},fe=(W,Z={})=>{Le(s,W)&&(Yt(Z.defaultValue)?G(W,or(Le(n,W))):(G(W,Z.defaultValue),_t(n,W,or(Z.defaultValue))),Z.keepTouched||Gt(r.touchedFields,W),Z.keepDirty||(Gt(r.dirtyFields,W),r.isDirty=Z.defaultValue?A(W,or(Le(n,W))):A()),Z.keepError||(Gt(r.errors,W),u.isValid&&p()),h.state.next({...r}))},_e=(W,Z={})=>{const le=W?or(W):n,ke=or(le),ge=ns(W),pe=ge?n:ke;if(Z.keepDefaultValues||(n=le),!Z.keepValues){if(Z.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(Dc(n,a))]);for(const Ye of Array.from(Ae))Le(r.dirtyFields,Ye)?_t(pe,Ye,Le(a,Ye)):G(Ye,Le(pe,Ye))}else{if(ty&&Yt(W))for(const Ae of l.mount){const Ye=Le(s,Ae);if(Ye&&Ye._f){const $e=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(ch($e)){const ht=$e.closest("form");if(ht){ht.reset();break}}}}if(Z.keepFieldsRef)for(const Ae of l.mount)G(Ae,Le(pe,Ae));else s={}}a=t.shouldUnregister?Z.keepDefaultValues?or(n):{}:or(pe),h.array.next({values:{...pe}}),h.state.next({values:{...pe}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ia(W,n)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:Z.keepDirtyValues?Z.keepDefaultValues&&a?Dc(n,a):r.dirtyFields:Z.keepDefaultValues&&W?Dc(n,W):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Me=(W,Z)=>_e(an(W)?W(a):W,Z),Re=(W,Z={})=>{const le=Le(s,W),ke=le&&le._f;if(ke){const ge=ke.refs?ke.refs[0]:ke.ref;ge.focus&&(ge.focus(),Z.shouldSelect&&an(ge.select)&&ge.select())}},be=W=>{r={...r,...W}},Ht={control:{register:me,unregister:de,getFieldState:ee,handleSubmit:B,setError:K,_subscribe:H,_runSchema:N,_focusError:ue,_getWatch:F,_getDirty:A,_setValid:p,_setFieldArray:y,_setDisabledField:xe,_setErrors:b,_getFieldArray:M,_reset:_e,_resetDefaultValues:()=>an(t.defaultValues)&&t.defaultValues().then(W=>{Me(W,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:Ce,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return a},get _state(){return i},set _state(W){i=W},get _defaultValues(){return n},get _names(){return l},set _names(W){l=W},get _formState(){return r},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:Q,trigger:V,register:me,handleSubmit:B,watch:z,setValue:G,getValues:X,reset:Me,resetField:fe,clearErrors:R,unregister:de,setError:K,setFocus:Re,getFieldState:ee};return{...Ht,formControl:Ht}}function O5(e={}){const t=Ie.useRef(void 0),r=Ie.useRef(void 0),[s,n]=Ie.useState({isDirty:!1,isValidating:!1,isLoading:an(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:an(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!an(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=eO(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,BM(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),Ie.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ie.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Ie.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Ie.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Ie.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==s.isDirty&&a._subjects.state.next({isDirty:i})}},[a,s.isDirty]),Ie.useEffect(()=>{e.values&&!Ia(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,n(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),Ie.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=IM(s,a),t.current}function L5(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=L5(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function tO(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=L5(e))&&(s&&(s+=" "),s+=t);return s}const iy="-",rO=e=>{const t=nO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(iy);return l[0]===""&&l.length!==1&&l.shift(),D5(l,t)||sO(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&s[i]?[...c,...s[i]]:c}}},D5=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?D5(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(iy);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},hb=/^\[(.+)\]$/,sO=e=>{if(hb.test(e)){const t=hb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},nO=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return iO(Object.entries(e.classGroups),r).forEach(([a,i])=>{dg(i,s,a,t)}),s},dg=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:mb(t,n);a.classGroupId=r;return}if(typeof n=="function"){if(aO(n)){dg(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,i])=>{dg(i,mb(t,a),r,s)})})},mb=(e,t)=>{let r=e;return t.split(iy).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},aO=e=>e.isThemeGetter,iO=(e,t)=>t?e.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,n]}):e,oO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,s=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=s.get(a))!==void 0)return n(a,i),i},set(a,i){r.has(a)?r.set(a,i):n(a,i)}}},I5="!",lO=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,n=t[0],a=t.length,i=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===n&&(s||l.slice(g,g+a)===t)){c.push(l.slice(u,g)),u=g+a;continue}if(y==="/"){f=g;continue}}y==="["?d++:y==="]"&&d--}const h=c.length===0?l:l.substring(u),m=h.startsWith(I5),x=m?h.substring(1):h,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},cO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},dO=e=>({cache:oO(e.cacheSize),parseClassName:lO(e),...rO(e)}),uO=/\s+/,fO=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=t,a=[],i=e.trim().split(uO);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(d);let x=!!m,p=s(x?h.substring(0,m):h);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(h),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=cO(u).join(":"),y=f?g+I5:g,v=y+p;if(a.includes(v))continue;a.push(v);const b=n(p,x);for(let _=0;_<b.length;++_){const j=b[_];a.push(y+j)}l=d+(l.length>0?" "+l:l)}return l};function hO(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=B5(t))&&(s&&(s+=" "),s+=r);return s}const B5=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=B5(e[s]))&&(r&&(r+=" "),r+=t);return r};function mO(e,...t){let r,s,n,a=i;function i(c){const d=t.reduce((u,f)=>f(u),e());return r=dO(d),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=fO(c,r);return n(c,u),u}return function(){return a(hO.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},U5=/^\[(?:([a-z-]+):)?(.+)\]$/i,xO=/^\d+\/\d+$/,pO=new Set(["px","full","screen"]),gO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qn=e=>Sl(e)||pO.has(e)||xO.test(e),Ea=e=>yc(e,"length",TO),Sl=e=>!!e&&!Number.isNaN(Number(e)),ux=e=>yc(e,"number",Sl),Bc=e=>!!e&&Number.isInteger(Number(e)),kO=e=>e.endsWith("%")&&Sl(e.slice(0,-1)),Ge=e=>U5.test(e),Sa=e=>gO.test(e),_O=new Set(["length","size","percentage"]),NO=e=>yc(e,_O,$5),jO=e=>yc(e,"position",$5),EO=new Set(["image","url"]),SO=e=>yc(e,EO,FO),CO=e=>yc(e,"",AO),Uc=()=>!0,yc=(e,t,r)=>{const s=U5.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},TO=e=>yO.test(e)&&!vO.test(e),$5=()=>!1,AO=e=>bO.test(e),FO=e=>wO.test(e),RO=()=>{const e=yt("colors"),t=yt("spacing"),r=yt("blur"),s=yt("brightness"),n=yt("borderColor"),a=yt("borderRadius"),i=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),d=yt("grayscale"),u=yt("hueRotate"),f=yt("invert"),h=yt("gap"),m=yt("gradientColorStops"),x=yt("gradientColorStopPositions"),p=yt("inset"),g=yt("margin"),y=yt("opacity"),v=yt("padding"),b=yt("saturate"),_=yt("scale"),j=yt("sepia"),S=yt("skew"),N=yt("space"),k=yt("translate"),E=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ge,t],F=()=>[Ge,t],M=()=>["",qn,Ea],Y=()=>["auto",Sl,Ge],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ge],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Sl,Ge];return{cacheSize:500,separator:":",theme:{colors:[Uc],spacing:[qn,Ea],blur:["none","",Sa,Ge],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Sa,Ge],borderSpacing:F(),borderWidth:M(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[kO,Ea],inset:A(),margin:A(),opacity:ee(),padding:F(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Sa]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ge]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bc,Ge]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Bc,Ge]}],"grid-cols":[{"grid-cols":[Uc]}],"col-start-end":[{col:["auto",{span:["full",Bc,Ge]},Ge]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Uc]}],"row-start-end":[{row:["auto",{span:[Bc,Ge]},Ge]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Sa]},Sa]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sa,Ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ux]}],"font-family":[{font:[Uc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Sl,ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qn,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qn,Ea]}],"underline-offset":[{"underline-offset":["auto",qn,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),jO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[qn,Ge]}],"outline-w":[{outline:[qn,Ea]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[qn,Ea]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sa,CO]}],"shadow-color":[{shadow:[Uc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sa,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Bc,Ge]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qn,Ea,ux]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PO=mO(RO);function Be(...e){return PO(tO(e))}const MO={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},OO={primary:"border-primary-600",secondary:"border-secondary-600",white:"border-white"};function Ut({size:e="md",className:t,color:r="primary"}){return o.jsx("div",{className:Be("loading-spinner border-2 border-secondary-200 border-t-transparent rounded-full",MO[e],OO[r],t),role:"status","aria-label":"Cargando...",children:o.jsx("span",{className:"sr-only",children:"Cargando..."})})}function LO(){var h,m;const[e,t]=w.useState(!1),[r,s]=w.useState(!1),{login:n}=pc(),a=fc(),l=((m=(h=Uo().state)==null?void 0:h.from)==null?void 0:m.pathname)||"/dashboard";w.useEffect(()=>{const x=window.location.hostname;(x==="localhost"||x==="127.0.0.1")&&(window.location.href="https://spin2pay.com/auth/login")},[]);const{register:c,handleSubmit:d,formState:{errors:u}}=O5({defaultValues:{username:"",password:"",remember:!1}}),f=async x=>{s(!0);try{await n(x.username,x.password,x.remember)&&a(l,{replace:!0})}catch(p){console.error("Login error:",p)}finally{s(!1)}};return o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:"Iniciar Sesin"}),o.jsx("p",{className:"mt-2 text-sm text-secondary-600 dark:text-secondary-400",children:"Accede a tu cuenta para gestionar tu CRM"})]}),o.jsxs("form",{onSubmit:d(f),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"label",children:"Usuario"}),o.jsx("input",{...c("username",{required:"El usuario es requerido",minLength:{value:3,message:"El usuario debe tener al menos 3 caracteres"}}),type:"text",id:"username",className:"input",placeholder:"Ingresa tu usuario",disabled:r}),u.username&&o.jsx("p",{className:"mt-1 text-sm text-danger-600 dark:text-danger-400",children:u.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"label",children:"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{...c("password",{required:"La contrasea es requerida",minLength:{value:6,message:"La contrasea debe tener al menos 6 caracteres"}}),type:e?"text":"password",id:"password",className:"input pr-10",placeholder:"Ingresa tu contrasea",disabled:r}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),disabled:r,children:e?o.jsx(N5,{className:"h-5 w-5 text-secondary-400"}):o.jsx($o,{className:"h-5 w-5 text-secondary-400"})})]}),u.password&&o.jsx("p",{className:"mt-1 text-sm text-danger-600 dark:text-danger-400",children:u.password.message})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{...c("remember"),id:"remember",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded",disabled:r}),o.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-secondary-700 dark:text-secondary-300",children:"Recordar sesin"})]}),o.jsx("div",{className:"text-sm",children:o.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Olvidaste tu contrasea?"})})]}),o.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary py-3 text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:r?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(Ut,{size:"sm",color:"white",className:"mr-2"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]}),o.jsxs("div",{className:"mt-8 p-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg border border-primary-200 dark:border-primary-800",children:[o.jsx("h3",{className:"text-sm font-medium text-primary-800 dark:text-primary-200 mb-2",children:"Credenciales de Demo"}),o.jsxs("div",{className:"text-sm text-primary-700 dark:text-primary-300 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Usuario:"})," admin"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Contrasea:"})," password"]})]})]})]})}function DO(){const[e,t]=w.useState(null),[r,s]=w.useState(!1),n=fc(),{register:a,handleSubmit:i,watch:l,formState:{errors:c,isValid:d}}=O5({mode:"onChange"}),u=l("email");w.useEffect(()=>{if(u&&u.includes("@")&&u.includes(".")){const m=setTimeout(()=>{f(u)},800);return()=>clearTimeout(m)}else t(null)},[u]);const f=async m=>{s(!0);try{const x=await Yr.getByEmail(m);x.data.exists?(t(x.data.lead),he.success(`Bienvenido de vuelta, ${x.data.lead.first_name}!`,{icon:"",duration:3e3})):t(null)}catch{t(null)}finally{s(!1)}},h=m=>{he.success("Registro procesado. Contina iniciando sesin."),n("/auth/login")};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-4",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mb-6 shadow-2xl",children:o.jsx(oh,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"nete a iaTrade"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Comienza tu viaje en el trading profesional"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-8",children:[o.jsxs("form",{onSubmit:i(h),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-white",children:"Correo Electrnico"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(gc,{className:"h-5 w-5 text-slate-400"})}),o.jsx("input",{...a("email",{required:"El email es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invlido"}}),type:"email",placeholder:"tu@email.com",className:"w-full pl-12 pr-12 py-4 bg-white/5 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:r?o.jsx(Ut,{size:"sm"}):e?o.jsx(_s,{className:"h-5 w-5 text-emerald-400"}):u&&u.includes("@")&&!c.email?o.jsx(_s,{className:"h-5 w-5 text-slate-400"}):null})]}),c.email&&o.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-1",children:[o.jsx(ba,{className:"w-4 h-4"}),c.email.message]})]}),e&&o.jsx("div",{className:"bg-emerald-500/20 border border-emerald-500/30 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(pr,{className:"w-6 h-6 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-emerald-300 font-medium",children:"Cuenta encontrada!"}),o.jsxs("p",{className:"text-emerald-200 text-sm",children:["Hola ",e.first_name," ",e.last_name,", contina con tu configuracin"]})]})]})}),o.jsx("button",{type:"submit",disabled:!d||r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-slate-600 disabled:to-slate-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl disabled:cursor-not-allowed group",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Ut,{size:"sm"}),o.jsx("span",{children:"Verificando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(eb,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),o.jsx("span",{children:e?"Continuar":"Comenzar"}),o.jsx(da,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),o.jsx("div",{className:"text-center mt-6 pt-6 border-t border-white/10",children:o.jsxs("p",{className:"text-slate-400",children:["Ya tienes cuenta?"," ",o.jsx(ei,{to:"/auth/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Inicia sesin"})]})})]}),o.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:o.jsx(oh,{className:"w-5 h-5 text-blue-400"})}),o.jsx("p",{className:"text-xs text-slate-300 font-medium",children:"Tecnologa IA"})]}),o.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:o.jsx(eb,{className:"w-5 h-5 text-emerald-400"})}),o.jsx("p",{className:"text-xs text-slate-300 font-medium",children:"Rpido & Seguro"})]}),o.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:o.jsx(pr,{className:"w-5 h-5 text-purple-400"})}),o.jsx("p",{className:"text-xs text-slate-300 font-medium",children:"Soporte 24/7"})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-slate-500 text-xs",children:"Ms de 10,000 traders confan en nosotros"})})]})]})}const xb={primary:"from-primary-500 to-primary-600",success:"from-success-500 to-success-600",warning:"from-warning-500 to-warning-600",danger:"from-danger-500 to-danger-600",secondary:"from-secondary-500 to-secondary-600"};function IO({title:e,value:t,change:r,icon:s,color:n,format:a,className:i,style:l}){const c=u=>{switch(a){case"currency":return new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u);case"percentage":return`${u.toFixed(1)}%`;default:return new Intl.NumberFormat("es-ES").format(u)}},d=r>=0;return o.jsx("div",{className:Be("card hover:shadow-medium transition-all duration-300 group cursor-pointer",i),style:l,children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400 mb-1",children:e}),o.jsx("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:c(t)}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsxs("div",{className:Be("flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium",d?"bg-success-100 text-success-700 dark:bg-success-900 dark:text-success-200":"bg-danger-100 text-danger-700 dark:bg-danger-900 dark:text-danger-200"),children:[d?o.jsx(k5,{className:"w-3 h-3"}):o.jsx(w5,{className:"w-3 h-3"}),o.jsxs("span",{children:[Math.abs(r).toFixed(1),"%"]})]}),o.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"vs mes anterior"})]})]}),o.jsx("div",{className:Be("w-12 h-12 rounded-xl bg-gradient-to-br flex items-center justify-center group-hover:scale-110 transition-transform duration-300",xb[n]),children:o.jsx(s,{className:"w-6 h-6 text-white"})})]}),o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-1.5",children:o.jsx("div",{className:Be("h-1.5 rounded-full bg-gradient-to-r transition-all duration-1000 ease-out",xb[n]),style:{width:`${Math.min(Math.max(t/(t+Math.abs(t*.3))*100,10),100)}%`}})})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qu(e){return e+.5|0}const ri=(e,t,r)=>Math.max(Math.min(e,r),t);function rd(e){return ri(qu(e*2.55),0,255)}function vi(e){return ri(qu(e*255),0,255)}function Jn(e){return ri(qu(e/2.55)/100,0,1)}function pb(e){return ri(qu(e*100),0,100)}const Ts={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ug=[..."0123456789ABCDEF"],BO=e=>ug[e&15],UO=e=>ug[(e&240)>>4]+ug[e&15],T0=e=>(e&240)>>4===(e&15),$O=e=>T0(e.r)&&T0(e.g)&&T0(e.b)&&T0(e.a);function zO(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Ts[e[1]]*17,g:255&Ts[e[2]]*17,b:255&Ts[e[3]]*17,a:t===5?Ts[e[4]]*17:255}:(t===7||t===9)&&(r={r:Ts[e[1]]<<4|Ts[e[2]],g:Ts[e[3]]<<4|Ts[e[4]],b:Ts[e[5]]<<4|Ts[e[6]],a:t===9?Ts[e[7]]<<4|Ts[e[8]]:255})),r}const VO=(e,t)=>e<255?t(e):"";function HO(e){var t=$O(e)?BO:UO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+VO(e.a,t):void 0}const WO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function z5(e,t,r){const s=t*Math.min(r,1-r),n=(a,i=(a+e/30)%12)=>r-s*Math.max(Math.min(i-3,9-i,1),-1);return[n(0),n(8),n(4)]}function qO(e,t,r){const s=(n,a=(n+e/60)%6)=>r-r*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function GO(e,t,r){const s=z5(e,1,.5);let n;for(t+r>1&&(n=1/(t+r),t*=n,r*=n),n=0;n<3;n++)s[n]*=1-t-r,s[n]+=t;return s}function KO(e,t,r,s,n){return e===n?(t-r)/s+(t<r?6:0):t===n?(r-e)/s+2:(e-t)/s+4}function oy(e){const r=e.r/255,s=e.g/255,n=e.b/255,a=Math.max(r,s,n),i=Math.min(r,s,n),l=(a+i)/2;let c,d,u;return a!==i&&(u=a-i,d=l>.5?u/(2-a-i):u/(a+i),c=KO(r,s,n,u,a),c=c*60+.5),[c|0,d||0,l]}function ly(e,t,r,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,s)).map(vi)}function cy(e,t,r){return ly(z5,e,t,r)}function XO(e,t,r){return ly(GO,e,t,r)}function YO(e,t,r){return ly(qO,e,t,r)}function V5(e){return(e%360+360)%360}function QO(e){const t=WO.exec(e);let r=255,s;if(!t)return;t[5]!==s&&(r=t[6]?rd(+t[5]):vi(+t[5]));const n=V5(+t[2]),a=+t[3]/100,i=+t[4]/100;return t[1]==="hwb"?s=XO(n,a,i):t[1]==="hsv"?s=YO(n,a,i):s=cy(n,a,i),{r:s[0],g:s[1],b:s[2],a:r}}function ZO(e,t){var r=oy(e);r[0]=V5(r[0]+t),r=cy(r),e.r=r[0],e.g=r[1],e.b=r[2]}function JO(e){if(!e)return;const t=oy(e),r=t[0],s=pb(t[1]),n=pb(t[2]);return e.a<255?`hsla(${r}, ${s}%, ${n}%, ${Jn(e.a)})`:`hsl(${r}, ${s}%, ${n}%)`}const gb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eL(){const e={},t=Object.keys(yb),r=Object.keys(gb);let s,n,a,i,l;for(s=0;s<t.length;s++){for(i=l=t[s],n=0;n<r.length;n++)a=r[n],l=l.replace(a,gb[a]);a=parseInt(yb[i],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let A0;function tL(e){A0||(A0=eL(),A0.transparent=[0,0,0,0]);const t=A0[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const rL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sL(e){const t=rL.exec(e);let r=255,s,n,a;if(t){if(t[7]!==s){const i=+t[7];r=t[8]?rd(i):ri(i*255,0,255)}return s=+t[1],n=+t[3],a=+t[5],s=255&(t[2]?rd(s):ri(s,0,255)),n=255&(t[4]?rd(n):ri(n,0,255)),a=255&(t[6]?rd(a):ri(a,0,255)),{r:s,g:n,b:a,a:r}}}function nL(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const fx=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Zo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function aL(e,t,r){const s=Zo(Jn(e.r)),n=Zo(Jn(e.g)),a=Zo(Jn(e.b));return{r:vi(fx(s+r*(Zo(Jn(t.r))-s))),g:vi(fx(n+r*(Zo(Jn(t.g))-n))),b:vi(fx(a+r*(Zo(Jn(t.b))-a))),a:e.a+r*(t.a-e.a)}}function F0(e,t,r){if(e){let s=oy(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*r,t===0?360:1)),s=cy(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function H5(e,t){return e&&Object.assign(t||{},e)}function vb(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vi(e[3]))):(t=H5(e,{r:0,g:0,b:0,a:1}),t.a=vi(t.a)),t}function iL(e){return e.charAt(0)==="r"?sL(e):QO(e)}class iu{constructor(t){if(t instanceof iu)return t;const r=typeof t;let s;r==="object"?s=vb(t):r==="string"&&(s=zO(t)||tL(t)||iL(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=H5(this._rgb);return t&&(t.a=Jn(t.a)),t}set rgb(t){this._rgb=vb(t)}rgbString(){return this._valid?nL(this._rgb):void 0}hexString(){return this._valid?HO(this._rgb):void 0}hslString(){return this._valid?JO(this._rgb):void 0}mix(t,r){if(t){const s=this.rgb,n=t.rgb;let a;const i=r===a?.5:r,l=2*i-1,c=s.a-n.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,s.r=255&d*s.r+a*n.r+.5,s.g=255&d*s.g+a*n.g+.5,s.b=255&d*s.b+a*n.b+.5,s.a=i*s.a+(1-i)*n.a,this.rgb=s}return this}interpolate(t,r){return t&&(this._rgb=aL(this._rgb,t._rgb,r)),this}clone(){return new iu(this.rgb)}alpha(t){return this._rgb.a=vi(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=qu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return F0(this._rgb,2,t),this}darken(t){return F0(this._rgb,2,-t),this}saturate(t){return F0(this._rgb,1,t),this}desaturate(t){return F0(this._rgb,1,-t),this}rotate(t){return ZO(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const oL=(()=>{let e=0;return()=>e++})();function it(e){return e==null}function bt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ze(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ot(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function xs(e,t){return Ot(e)?e:t}function Ke(e,t){return typeof e>"u"?t:e}const lL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,W5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mt(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function ct(e,t,r,s){let n,a,i;if(bt(e))if(a=e.length,s)for(n=a-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<a;n++)t.call(r,e[n],n);else if(Ze(e))for(i=Object.keys(e),a=i.length,n=0;n<a;n++)t.call(r,e[i[n]],i[n])}function fh(e,t){let r,s,n,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,s=e.length;r<s;++r)if(n=e[r],a=t[r],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function hh(e){if(bt(e))return e.map(hh);if(Ze(e)){const t=Object.create(null),r=Object.keys(e),s=r.length;let n=0;for(;n<s;++n)t[r[n]]=hh(e[r[n]]);return t}return e}function q5(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function cL(e,t,r,s){if(!q5(e))return;const n=t[e],a=r[e];Ze(n)&&Ze(a)?ou(n,a,s):t[e]=hh(a)}function ou(e,t,r){const s=bt(t)?t:[t],n=s.length;if(!Ze(e))return e;r=r||{};const a=r.merger||cL;let i;for(let l=0;l<n;++l){if(i=s[l],!Ze(i))continue;const c=Object.keys(i);for(let d=0,u=c.length;d<u;++d)a(c[d],e,i,r)}return e}function Nd(e,t){return ou(e,t,{merger:dL})}function dL(e,t,r){if(!q5(e))return;const s=t[e],n=r[e];Ze(s)&&Ze(n)?Nd(s,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hh(n))}const bb={"":e=>e,x:e=>e.x,y:e=>e.y};function uL(e){const t=e.split("."),r=[];let s="";for(const n of t)s+=n,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function fL(e){const t=uL(e);return r=>{for(const s of t){if(s==="")break;r=r&&r[s]}return r}}function Ro(e,t){return(bb[t]||(bb[t]=fL(t)))(e)}function dy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const lu=e=>typeof e<"u",ji=e=>typeof e=="function",wb=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function hL(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const lt=Math.PI,kt=2*lt,mL=kt+lt,mh=Number.POSITIVE_INFINITY,xL=lt/180,$t=lt/2,Li=lt/4,kb=lt*2/3,si=Math.log10,In=Math.sign;function jd(e,t,r){return Math.abs(e-t)<r}function _b(e){const t=Math.round(e);e=jd(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(si(e))),s=e/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function pL(e){const t=[],r=Math.sqrt(e);let s;for(s=1;s<r;s++)e%s===0&&(t.push(s),t.push(e/s));return r===(r|0)&&t.push(r),t.sort((n,a)=>n-a).pop(),t}function gL(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function cu(e){return!gL(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function yL(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function G5(e,t,r){let s,n,a;for(s=0,n=e.length;s<n;s++)a=e[s][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function On(e){return e*(lt/180)}function uy(e){return e*(180/lt)}function Nb(e){if(!Ot(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function K5(e,t){const r=t.x-e.x,s=t.y-e.y,n=Math.sqrt(r*r+s*s);let a=Math.atan2(s,r);return a<-.5*lt&&(a+=kt),{angle:a,distance:n}}function fg(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vL(e,t){return(e-t+mL)%kt-lt}function Er(e){return(e%kt+kt)%kt}function du(e,t,r,s){const n=Er(e),a=Er(t),i=Er(r),l=Er(a-n),c=Er(i-n),d=Er(n-a),u=Er(n-i);return n===a||n===i||s&&a===i||l>c&&d<u}function Pr(e,t,r){return Math.max(t,Math.min(r,e))}function bL(e){return Pr(e,-32768,32767)}function ia(e,t,r,s=1e-6){return e>=Math.min(t,r)-s&&e<=Math.max(t,r)+s}function fy(e,t,r){r=r||(i=>e[i]<t);let s=e.length-1,n=0,a;for(;s-n>1;)a=n+s>>1,r(a)?n=a:s=a;return{lo:n,hi:s}}const Zi=(e,t,r,s)=>fy(e,r,s?n=>{const a=e[n][t];return a<r||a===r&&e[n+1][t]===r}:n=>e[n][t]<r),wL=(e,t,r)=>fy(e,r,s=>e[s][t]>=r);function kL(e,t,r){let s=0,n=e.length;for(;s<n&&e[s]<t;)s++;for(;n>s&&e[n-1]>r;)n--;return s>0||n<e.length?e.slice(s,n):e}const X5=["push","pop","shift","splice","unshift"];function _L(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),X5.forEach(r=>{const s="_onData"+dy(r),n=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...a){const i=n.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...a)}),i}})})}function jb(e,t){const r=e._chartjs;if(!r)return;const s=r.listeners,n=s.indexOf(t);n!==-1&&s.splice(n,1),!(s.length>0)&&(X5.forEach(a=>{delete e[a]}),delete e._chartjs)}function Y5(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Q5=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Z5(e,t){let r=[],s=!1;return function(...n){r=n,s||(s=!0,Q5.call(window,()=>{s=!1,e.apply(t,r)}))}}function NL(e,t){let r;return function(...s){return t?(clearTimeout(r),r=setTimeout(e,t,s)):e.apply(this,s),t}}const hy=e=>e==="start"?"left":e==="end"?"right":"center",jr=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,jL=(e,t,r,s)=>e===(s?"left":"right")?r:e==="center"?(t+r)/2:t;function EL(e,t,r){const s=t.length;let n=0,a=s;if(e._sorted){const{iScale:i,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=i.axis,{min:f,max:h,minDefined:m,maxDefined:x}=i.getUserBounds();if(m){if(n=Math.min(Zi(c,u,f).lo,r?s:Zi(t,u,i.getPixelForValue(f)).lo),d){const p=c.slice(0,n+1).reverse().findIndex(g=>!it(g[l.axis]));n-=Math.max(0,p)}n=Pr(n,0,s-1)}if(x){let p=Math.max(Zi(c,i.axis,h,!0).hi+1,r?0:Zi(t,u,i.getPixelForValue(h),!0).hi+1);if(d){const g=c.slice(p-1).findIndex(y=>!it(y[l.axis]));p+=Math.max(0,g)}a=Pr(p,n,s)-n}else a=s-n}return{start:n,count:a}}function SL(e){const{xScale:t,yScale:r,_scaleRanges:s}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!s)return e._scaleRanges=n,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,n),a}const R0=e=>e===0||e===1,Eb=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*kt/r)),Sb=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*kt/r)+1,Ed={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*$t)+1,easeOutSine:e=>Math.sin(e*$t),easeInOutSine:e=>-.5*(Math.cos(lt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>R0(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>R0(e)?e:Eb(e,.075,.3),easeOutElastic:e=>R0(e)?e:Sb(e,.075,.3),easeInOutElastic(e){return R0(e)?e:e<.5?.5*Eb(e*2,.1125,.45):.5+.5*Sb(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ed.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ed.easeInBounce(e*2)*.5:Ed.easeOutBounce(e*2-1)*.5+.5};function my(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Cb(e){return my(e)?e:new iu(e)}function hx(e){return my(e)?e:new iu(e).saturate(.5).darken(.1).hexString()}const CL=["x","y","borderWidth","radius","tension"],TL=["color","borderColor","backgroundColor"];function AL(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:TL},numbers:{type:"number",properties:CL}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function FL(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Tb=new Map;function RL(e,t){t=t||{};const r=e+JSON.stringify(t);let s=Tb.get(r);return s||(s=new Intl.NumberFormat(e,t),Tb.set(r,s)),s}function fm(e,t,r){return RL(t,r).format(e)}const J5={values(e){return bt(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const s=this.chart.options.locale;let n,a=e;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),a=PL(e,r)}const i=si(Math.abs(a)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),fm(e,s,c)},logarithmic(e,t,r){if(e===0)return"0";const s=r[t].significand||e/Math.pow(10,Math.floor(si(e)));return[1,2,3,5,10,15].includes(s)||t>.8*r.length?J5.numeric.call(this,e,t,r):""}};function PL(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var hm={formatters:J5};function ML(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Po=Object.create(null),hg=Object.create(null);function Sd(e,t){if(!t)return e;const r=t.split(".");for(let s=0,n=r.length;s<n;++s){const a=r[s];e=e[a]||(e[a]=Object.create(null))}return e}function mx(e,t,r){return typeof t=="string"?ou(Sd(e,t),r):ou(Sd(e,""),t)}class OL{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,n)=>hx(n.backgroundColor),this.hoverBorderColor=(s,n)=>hx(n.borderColor),this.hoverColor=(s,n)=>hx(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return mx(this,t,r)}get(t){return Sd(this,t)}describe(t,r){return mx(hg,t,r)}override(t,r){return mx(Po,t,r)}route(t,r,s,n){const a=Sd(this,t),i=Sd(this,s),l="_"+r;Object.defineProperties(a,{[l]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=i[n];return Ze(c)?Object.assign({},d,c):Ke(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(r=>r(this))}}var Lt=new OL({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AL,FL,ML]);function LL(e){return!e||it(e.size)||it(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function xh(e,t,r,s,n){let a=t[n];return a||(a=t[n]=e.measureText(n).width,r.push(n)),a>s&&(s=a),s}function DL(e,t,r,s){s=s||{};let n=s.data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(n=s.data={},a=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let i=0;const l=r.length;let c,d,u,f,h;for(c=0;c<l;c++)if(f=r[c],f!=null&&!bt(f))i=xh(e,n,a,i,f);else if(bt(f))for(d=0,u=f.length;d<u;d++)h=f[d],h!=null&&!bt(h)&&(i=xh(e,n,a,i,h));e.restore();const m=a.length/2;if(m>r.length){for(c=0;c<m;c++)delete n[a[c]];a.splice(0,m)}return i}function Di(e,t,r){const s=e.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((t-n)*s)/s+n}function Ab(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function mg(e,t,r,s){ej(e,t,r,s,null)}function ej(e,t,r,s,n){let a,i,l,c,d,u,f,h;const m=t.pointStyle,x=t.rotation,p=t.radius;let g=(x||0)*xL;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(r,s),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),m){default:n?e.ellipse(r,s,n/2,p,0,0,kt):e.arc(r,s,p,0,kt),e.closePath();break;case"triangle":u=n?n/2:p,e.moveTo(r+Math.sin(g)*u,s-Math.cos(g)*p),g+=kb,e.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*p),g+=kb,e.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*p),e.closePath();break;case"rectRounded":d=p*.516,c=p-d,i=Math.cos(g+Li)*c,f=Math.cos(g+Li)*(n?n/2-d:c),l=Math.sin(g+Li)*c,h=Math.sin(g+Li)*(n?n/2-d:c),e.arc(r-f,s-l,d,g-lt,g-$t),e.arc(r+h,s-i,d,g-$t,g),e.arc(r+f,s+l,d,g,g+$t),e.arc(r-h,s+i,d,g+$t,g+lt),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*p,u=n?n/2:c,e.rect(r-u,s-c,2*u,2*c);break}g+=Li;case"rectRot":f=Math.cos(g)*(n?n/2:p),i=Math.cos(g)*p,l=Math.sin(g)*p,h=Math.sin(g)*(n?n/2:p),e.moveTo(r-f,s-l),e.lineTo(r+h,s-i),e.lineTo(r+f,s+l),e.lineTo(r-h,s+i),e.closePath();break;case"crossRot":g+=Li;case"cross":f=Math.cos(g)*(n?n/2:p),i=Math.cos(g)*p,l=Math.sin(g)*p,h=Math.sin(g)*(n?n/2:p),e.moveTo(r-f,s-l),e.lineTo(r+f,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i);break;case"star":f=Math.cos(g)*(n?n/2:p),i=Math.cos(g)*p,l=Math.sin(g)*p,h=Math.sin(g)*(n?n/2:p),e.moveTo(r-f,s-l),e.lineTo(r+f,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i),g+=Li,f=Math.cos(g)*(n?n/2:p),i=Math.cos(g)*p,l=Math.sin(g)*p,h=Math.sin(g)*(n?n/2:p),e.moveTo(r-f,s-l),e.lineTo(r+f,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i);break;case"line":i=n?n/2:Math.cos(g)*p,l=Math.sin(g)*p,e.moveTo(r-i,s-l),e.lineTo(r+i,s+l);break;case"dash":e.moveTo(r,s),e.lineTo(r+Math.cos(g)*(n?n/2:p),s+Math.sin(g)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function oa(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function mm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xm(e){e.restore()}function IL(e,t,r,s,n){if(!t)return e.lineTo(r.x,r.y);if(n==="middle"){const a=(t.x+r.x)/2;e.lineTo(a,t.y),e.lineTo(a,r.y)}else n==="after"!=!!s?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function BL(e,t,r,s){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function UL(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),it(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function $L(e,t,r,s,n){if(n.strikethrough||n.underline){const a=e.measureText(s),i=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,c=r-a.actualBoundingBoxAscent,d=r+a.actualBoundingBoxDescent,u=n.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(i,u),e.lineTo(l,u),e.stroke()}}function zL(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Mo(e,t,r,s,n,a={}){const i=bt(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=n.string,UL(e,a),c=0;c<i.length;++c)d=i[c],a.backdrop&&zL(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),it(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,r,s,a.maxWidth)),e.fillText(d,r,s,a.maxWidth),$L(e,r,s,d,a),s+=Number(n.lineHeight);e.restore()}function uu(e,t){const{x:r,y:s,w:n,h:a,radius:i}=t;e.arc(r+i.topLeft,s+i.topLeft,i.topLeft,1.5*lt,lt,!0),e.lineTo(r,s+a-i.bottomLeft),e.arc(r+i.bottomLeft,s+a-i.bottomLeft,i.bottomLeft,lt,$t,!0),e.lineTo(r+n-i.bottomRight,s+a),e.arc(r+n-i.bottomRight,s+a-i.bottomRight,i.bottomRight,$t,0,!0),e.lineTo(r+n,s+i.topRight),e.arc(r+n-i.topRight,s+i.topRight,i.topRight,0,-$t,!0),e.lineTo(r+i.topLeft,s)}const VL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,HL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WL(e,t){const r=(""+e).match(VL);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const qL=e=>+e||0;function xy(e,t){const r={},s=Ze(t),n=s?Object.keys(t):t,a=Ze(e)?s?i=>Ke(e[i],e[t[i]]):i=>e[i]:()=>e;for(const i of n)r[i]=qL(a(i));return r}function tj(e){return xy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function xo(e){return xy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ir(e){const t=tj(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nr(e,t){e=e||{},t=t||Lt.font;let r=Ke(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let s=Ke(e.style,t.style);s&&!(""+s).match(HL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:Ke(e.family,t.family),lineHeight:WL(Ke(e.lineHeight,t.lineHeight),r),size:r,style:s,weight:Ke(e.weight,t.weight),string:""};return n.string=LL(n),n}function P0(e,t,r,s){let n=!0,a,i,l;for(a=0,i=e.length;a<i;++a)if(l=e[a],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),n=!1),r!==void 0&&bt(l)&&(l=l[r%l.length],n=!1),l!==void 0))return s&&!n&&(s.cacheable=!1),l}function GL(e,t,r){const{min:s,max:n}=e,a=W5(t,(n-s)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(s,-Math.abs(a)),max:i(n,a)}}function Pi(e,t){return Object.assign(Object.create(e),t)}function py(e,t=[""],r,s,n=()=>e[0]){const a=r||e;typeof s>"u"&&(s=aj("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:s,_getTarget:n,override:l=>py([l,...e],t,a,s)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return sj(l,c,()=>t7(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return Rb(l).includes(c)},ownKeys(l){return Rb(l)},set(l,c,d){const u=l._storage||(l._storage=n());return l[c]=u[c]=d,delete l._keys,!0}})}function sc(e,t,r,s){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:rj(e,s),setContext:a=>sc(e,a,r,s),override:a=>sc(e.override(a),t,r,s)};return new Proxy(n,{deleteProperty(a,i){return delete a[i],delete e[i],!0},get(a,i,l){return sj(a,i,()=>XL(a,i,l))},getOwnPropertyDescriptor(a,i){return a._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,i){return Reflect.has(e,i)},ownKeys(){return Reflect.ownKeys(e)},set(a,i,l){return e[i]=l,delete a[i],!0}})}function rj(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:s,isScriptable:ji(r)?r:()=>r,isIndexable:ji(s)?s:()=>s}}const KL=(e,t)=>e?e+dy(t):t,gy=(e,t)=>Ze(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sj(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=r();return e[t]=s,s}function XL(e,t,r){const{_proxy:s,_context:n,_subProxy:a,_descriptors:i}=e;let l=s[t];return ji(l)&&i.isScriptable(t)&&(l=YL(t,l,e,r)),bt(l)&&l.length&&(l=QL(t,l,e,i.isIndexable)),gy(t,l)&&(l=sc(l,n,a&&a[t],i)),l}function YL(e,t,r,s){const{_proxy:n,_context:a,_subProxy:i,_stack:l}=r;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(a,i||s);return l.delete(e),gy(e,c)&&(c=yy(n._scopes,n,e,c)),c}function QL(e,t,r,s){const{_proxy:n,_context:a,_subProxy:i,_descriptors:l}=r;if(typeof a.index<"u"&&s(e))return t[a.index%t.length];if(Ze(t[0])){const c=t,d=n._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=yy(d,n,e,u);t.push(sc(f,a,i&&i[e],l))}}return t}function nj(e,t,r){return ji(e)?e(t,r):e}const ZL=(e,t)=>e===!0?t:typeof e=="string"?Ro(t,e):void 0;function JL(e,t,r,s,n){for(const a of t){const i=ZL(r,a);if(i){e.add(i);const l=nj(i._fallback,r,n);if(typeof l<"u"&&l!==r&&l!==s)return l}else if(i===!1&&typeof s<"u"&&r!==s)return null}return!1}function yy(e,t,r,s){const n=t._rootScopes,a=nj(t._fallback,r,s),i=[...e,...n],l=new Set;l.add(s);let c=Fb(l,i,r,a||r,s);return c===null||typeof a<"u"&&a!==r&&(c=Fb(l,i,a,c,s),c===null)?!1:py(Array.from(l),[""],n,a,()=>e7(t,r,s))}function Fb(e,t,r,s,n){for(;r;)r=JL(e,t,r,s,n);return r}function e7(e,t,r){const s=e._getTarget();t in s||(s[t]={});const n=s[t];return bt(n)&&Ze(r)?r:n||{}}function t7(e,t,r,s){let n;for(const a of t)if(n=aj(KL(a,e),r),typeof n<"u")return gy(e,n)?yy(r,s,e,n):n}function aj(e,t){for(const r of t){if(!r)continue;const s=r[e];if(typeof s<"u")return s}}function Rb(e){let t=e._keys;return t||(t=e._keys=r7(e._scopes)),t}function r7(e){const t=new Set;for(const r of e)for(const s of Object.keys(r).filter(n=>!n.startsWith("_")))t.add(s);return Array.from(t)}const s7=Number.EPSILON||1e-14,nc=(e,t)=>t<e.length&&!e[t].skip&&e[t],ij=e=>e==="x"?"y":"x";function n7(e,t,r,s){const n=e.skip?t:e,a=t,i=r.skip?t:r,l=fg(a,n),c=fg(i,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=s*d,h=s*u;return{previous:{x:a.x-f*(i.x-n.x),y:a.y-f*(i.y-n.y)},next:{x:a.x+h*(i.x-n.x),y:a.y+h*(i.y-n.y)}}}function a7(e,t,r){const s=e.length;let n,a,i,l,c,d=nc(e,0);for(let u=0;u<s-1;++u)if(c=d,d=nc(e,u+1),!(!c||!d)){if(jd(t[u],0,s7)){r[u]=r[u+1]=0;continue}n=r[u]/t[u],a=r[u+1]/t[u],l=Math.pow(n,2)+Math.pow(a,2),!(l<=9)&&(i=3/Math.sqrt(l),r[u]=n*i*t[u],r[u+1]=a*i*t[u])}}function i7(e,t,r="x"){const s=ij(r),n=e.length;let a,i,l,c=nc(e,0);for(let d=0;d<n;++d){if(i=l,l=c,c=nc(e,d+1),!l)continue;const u=l[r],f=l[s];i&&(a=(u-i[r])/3,l[`cp1${r}`]=u-a,l[`cp1${s}`]=f-a*t[d]),c&&(a=(c[r]-u)/3,l[`cp2${r}`]=u+a,l[`cp2${s}`]=f+a*t[d])}}function o7(e,t="x"){const r=ij(t),s=e.length,n=Array(s).fill(0),a=Array(s);let i,l,c,d=nc(e,0);for(i=0;i<s;++i)if(l=c,c=d,d=nc(e,i+1),!!c){if(d){const u=d[t]-c[t];n[i]=u!==0?(d[r]-c[r])/u:0}a[i]=l?d?In(n[i-1])!==In(n[i])?0:(n[i-1]+n[i])/2:n[i-1]:n[i]}a7(e,n,a),i7(e,a,t)}function M0(e,t,r){return Math.max(Math.min(e,r),t)}function l7(e,t){let r,s,n,a,i,l=oa(e[0],t);for(r=0,s=e.length;r<s;++r)i=a,a=l,l=r<s-1&&oa(e[r+1],t),a&&(n=e[r],i&&(n.cp1x=M0(n.cp1x,t.left,t.right),n.cp1y=M0(n.cp1y,t.top,t.bottom)),l&&(n.cp2x=M0(n.cp2x,t.left,t.right),n.cp2y=M0(n.cp2y,t.top,t.bottom)))}function c7(e,t,r,s,n){let a,i,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")o7(e,n);else{let d=s?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)l=e[a],c=n7(d,l,e[Math.min(a+1,i-(s?0:1))%i],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&l7(e,r)}function vy(){return typeof window<"u"&&typeof document<"u"}function by(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ph(e,t,r){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[r])):s=e,s}const pm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function d7(e,t){return pm(e).getPropertyValue(t)}const u7=["top","right","bottom","left"];function po(e,t,r){const s={};r=r?"-"+r:"";for(let n=0;n<4;n++){const a=u7[n];s[a]=parseFloat(e[t+"-"+a+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const f7=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function h7(e,t){const r=e.touches,s=r&&r.length?r[0]:e,{offsetX:n,offsetY:a}=s;let i=!1,l,c;if(f7(n,a,e.target))l=n,c=a;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,i=!0}return{x:l,y:c,box:i}}function zi(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:s}=t,n=pm(r),a=n.boxSizing==="border-box",i=po(n,"padding"),l=po(n,"border","width"),{x:c,y:d,box:u}=h7(e,r),f=i.left+(u&&l.left),h=i.top+(u&&l.top);let{width:m,height:x}=t;return a&&(m-=i.width+l.width,x-=i.height+l.height),{x:Math.round((c-f)/m*r.width/s),y:Math.round((d-h)/x*r.height/s)}}function m7(e,t,r){let s,n;if(t===void 0||r===void 0){const a=e&&by(e);if(!a)t=e.clientWidth,r=e.clientHeight;else{const i=a.getBoundingClientRect(),l=pm(a),c=po(l,"border","width"),d=po(l,"padding");t=i.width-d.width-c.width,r=i.height-d.height-c.height,s=ph(l.maxWidth,a,"clientWidth"),n=ph(l.maxHeight,a,"clientHeight")}}return{width:t,height:r,maxWidth:s||mh,maxHeight:n||mh}}const O0=e=>Math.round(e*10)/10;function x7(e,t,r,s){const n=pm(e),a=po(n,"margin"),i=ph(n.maxWidth,e,"clientWidth")||mh,l=ph(n.maxHeight,e,"clientHeight")||mh,c=m7(e,t,r);let{width:d,height:u}=c;if(n.boxSizing==="content-box"){const h=po(n,"border","width"),m=po(n,"padding");d-=m.width+h.width,u-=m.height+h.height}return d=Math.max(0,d-a.width),u=Math.max(0,s?d/s:u-a.height),d=O0(Math.min(d,i,c.maxWidth)),u=O0(Math.min(u,l,c.maxHeight)),d&&!u&&(u=O0(d/2)),(t!==void 0||r!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=O0(Math.floor(u*s))),{width:d,height:u}}function Pb(e,t,r){const s=t||1,n=Math.floor(e.height*s),a=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||i.height!==n||i.width!==a?(e.currentDevicePixelRatio=s,i.height=n,i.width=a,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const p7=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};vy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Mb(e,t){const r=d7(e,t),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Vi(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function g7(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:s==="middle"?r<.5?e.y:t.y:s==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function y7(e,t,r,s){const n={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=Vi(e,n,r),l=Vi(n,a,r),c=Vi(a,t,r),d=Vi(i,l,r),u=Vi(l,c,r);return Vi(d,u,r)}const v7=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},b7=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Cl(e,t,r){return e?v7(t,r):b7()}function oj(e,t){let r,s;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=s)}function lj(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function cj(e){return e==="angle"?{between:du,compare:vL,normalize:Er}:{between:ia,compare:(t,r)=>t-r,normalize:t=>t}}function Ob({start:e,end:t,count:r,loop:s,style:n}){return{start:e%r,end:t%r,loop:s&&(t-e+1)%r===0,style:n}}function w7(e,t,r){const{property:s,start:n,end:a}=r,{between:i,normalize:l}=cj(s),c=t.length;let{start:d,end:u,loop:f}=e,h,m;if(f){for(d+=c,u+=c,h=0,m=c;h<m&&i(l(t[d%c][s]),n,a);++h)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function dj(e,t,r){if(!r)return[e];const{property:s,start:n,end:a}=r,i=t.length,{compare:l,between:c,normalize:d}=cj(s),{start:u,end:f,loop:h,style:m}=w7(e,t,r),x=[];let p=!1,g=null,y,v,b;const _=()=>c(n,b,y)&&l(n,b)!==0,j=()=>l(a,y)===0||c(a,b,y),S=()=>p||_(),N=()=>!p||j();for(let k=u,E=u;k<=f;++k)v=t[k%i],!v.skip&&(y=d(v[s]),y!==b&&(p=c(y,n,a),g===null&&S()&&(g=l(y,n)===0?k:E),g!==null&&N()&&(x.push(Ob({start:g,end:k,loop:h,count:i,style:m})),g=null),E=k,b=y));return g!==null&&x.push(Ob({start:g,end:f,loop:h,count:i,style:m})),x}function uj(e,t){const r=[],s=e.segments;for(let n=0;n<s.length;n++){const a=dj(s[n],e.points,t);a.length&&r.push(...a)}return r}function k7(e,t,r,s){let n=0,a=t-1;if(r&&!s)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(a+=n);a>n&&e[a%t].skip;)a--;return a%=t,{start:n,end:a}}function _7(e,t,r,s){const n=e.length,a=[];let i=t,l=e[t],c;for(c=t+1;c<=r;++c){const d=e[c%n];d.skip||d.stop?l.skip||(s=!1,a.push({start:t%n,end:(c-1)%n,loop:s}),t=i=d.stop?c:null):(i=c,l.skip&&(t=c)),l=d}return i!==null&&a.push({start:t%n,end:i%n,loop:s}),a}function N7(e,t){const r=e.points,s=e.options.spanGaps,n=r.length;if(!n)return[];const a=!!e._loop,{start:i,end:l}=k7(r,n,a,s);if(s===!0)return Lb(e,[{start:i,end:l,loop:a}],r,t);const c=l<i?l+n:l,d=!!e._fullLoop&&i===0&&l===n-1;return Lb(e,_7(r,i,c,d),r,t)}function Lb(e,t,r,s){return!s||!s.setContext||!r?t:j7(e,t,r,s)}function j7(e,t,r,s){const n=e._chart.getContext(),a=Db(e.options),{_datasetIndex:i,options:{spanGaps:l}}=e,c=r.length,d=[];let u=a,f=t[0].start,h=f;function m(x,p,g,y){const v=l?-1:1;if(x!==p){for(x+=c;r[x%c].skip;)x-=v;for(;r[p%c].skip;)p+=v;x%c!==p%c&&(d.push({start:x%c,end:p%c,loop:g,style:y}),u=y,f=p%c)}}for(const x of t){f=l?f:x.start;let p=r[f%c],g;for(h=f+1;h<=x.end;h++){const y=r[h%c];g=Db(s.setContext(Pi(n,{type:"segment",p0:p,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:i}))),E7(g,u)&&m(f,h-1,x.loop,u),p=y,u=g}f<h-1&&m(f,h-1,x.loop,u)}return d}function Db(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function E7(e,t){if(!t)return!1;const r=[],s=function(n,a){return my(a)?(r.includes(a)||r.push(a),r.indexOf(a)):a};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function L0(e,t,r){return e.options.clip?e[r]:t[r]}function S7(e,t){const{xScale:r,yScale:s}=e;return r&&s?{left:L0(r,t,"left"),right:L0(r,t,"right"),top:L0(s,t,"top"),bottom:L0(s,t,"bottom")}:t}function fj(e,t){const r=t._clip;if(r.disabled)return!1;const s=S7(t,e.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:s.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class C7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,s,n){const a=r.listeners[n],i=r.duration;a.forEach(l=>l({chart:t,initial:r.initial,numSteps:i,currentStep:Math.min(s-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=Q5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const a=s.items;let i=a.length-1,l=!1,c;for(;i>=0;--i)c=a[i],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),l=!0):(a[i]=a[a.length-1],a.pop());l&&(n.draw(),this._notify(n,s,t,"progress")),a.length||(s.running=!1,this._notify(n,s,t,"complete"),s.initial=!1),r+=a.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let s=r.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,s)),s}listen(t,r,s){this._getAnims(t).listeners[r].push(s)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,n)=>Math.max(s,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const s=r.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Xn=new C7;const Ib="transparent",T7={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const s=Cb(e||Ib),n=s.valid&&Cb(t||Ib);return n&&n.valid?n.mix(s,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class A7{constructor(t,r,s,n){const a=r[s];n=P0([t.to,n,a,t.from]);const i=P0([t.from,a,n]);this._active=!0,this._fn=t.fn||T7[t.type||typeof i],this._easing=Ed[t.easing]||Ed.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=s,this._from=i,this._to=n,this._promises=void 0}active(){return this._active}update(t,r,s){if(this._active){this._notify(!1);const n=this._target[this._prop],a=s-this._start,i=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(i,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=P0([t.to,r,n,t.from]),this._from=P0([t.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,s=this._duration,n=this._prop,a=this._from,i=this._loop,l=this._to;let c;if(this._active=a!==l&&(i||r<s),!this._active){this._target[n]=l,this._notify(!0);return}if(r<0){this._target[n]=a;return}c=r/s%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(a,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,s)=>{t.push({res:r,rej:s})})}_notify(t){const r=t?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][r]()}}class hj{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Ze(t))return;const r=Object.keys(Lt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const a=t[n];if(!Ze(a))return;const i={};for(const l of r)i[l]=a[l];(bt(a.properties)&&a.properties||[n]).forEach(l=>{(l===n||!s.has(l))&&s.set(l,i)})})}_animateOptions(t,r){const s=r.options,n=R7(t,s);if(!n)return[];const a=this._createAnimations(n,s);return s.$shared&&F7(t.options.$animations,s).then(()=>{t.options=s},()=>{}),a}_createAnimations(t,r){const s=this._properties,n=[],a=t.$animations||(t.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const d=i[c];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(t,r));continue}const u=r[d];let f=a[d];const h=s.get(d);if(f)if(h&&f.active()){f.update(h,u,l);continue}else f.cancel();if(!h||!h.duration){t[d]=u;continue}a[d]=f=new A7(h,t,d,u),n.push(f)}return n}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const s=this._createAnimations(t,r);if(s.length)return Xn.add(this._chart,s),!0}}function F7(e,t){const r=[],s=Object.keys(t);for(let n=0;n<s.length;n++){const a=e[s[n]];a&&a.active()&&r.push(a.wait())}return Promise.all(r)}function R7(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Bb(e,t){const r=e&&e.options||{},s=r.reverse,n=r.min===void 0?t:0,a=r.max===void 0?t:0;return{start:s?a:n,end:s?n:a}}function P7(e,t,r){if(r===!1)return!1;const s=Bb(e,r),n=Bb(t,r);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function M7(e){let t,r,s,n;return Ze(e)?(t=e.top,r=e.right,s=e.bottom,n=e.left):t=r=s=n=e,{top:t,right:r,bottom:s,left:n,disabled:e===!1}}function mj(e,t){const r=[],s=e._getSortedDatasetMetas(t);let n,a;for(n=0,a=s.length;n<a;++n)r.push(s[n].index);return r}function Ub(e,t,r,s={}){const n=e.keys,a=s.mode==="single";let i,l,c,d;if(t===null)return;let u=!1;for(i=0,l=n.length;i<l;++i){if(c=+n[i],c===r){if(u=!0,s.all)continue;break}d=e.values[c],Ot(d)&&(a||t===0||In(t)===In(d))&&(t+=d)}return!u&&!s.all?0:t}function O7(e,t){const{iScale:r,vScale:s}=t,n=r.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",i=Object.keys(e),l=new Array(i.length);let c,d,u;for(c=0,d=i.length;c<d;++c)u=i[c],l[c]={[n]:u,[a]:e[u]};return l}function xx(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function L7(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function D7(e){const{min:t,max:r,minDefined:s,maxDefined:n}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function I7(e,t,r){const s=e[t]||(e[t]={});return s[r]||(s[r]={})}function $b(e,t,r,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const a=e[n.index];if(r&&a>0||!r&&a<0)return n.index}return null}function zb(e,t){const{chart:r,_cachedMeta:s}=e,n=r._stacks||(r._stacks={}),{iScale:a,vScale:i,index:l}=s,c=a.axis,d=i.axis,u=L7(a,i,s),f=t.length;let h;for(let m=0;m<f;++m){const x=t[m],{[c]:p,[d]:g}=x,y=x._stacks||(x._stacks={});h=y[d]=I7(n,u,p),h[l]=g,h._top=$b(h,i,!0,s.type),h._bottom=$b(h,i,!1,s.type);const v=h._visualValues||(h._visualValues={});v[l]=g}}function px(e,t){const r=e.scales;return Object.keys(r).filter(s=>r[s].axis===t).shift()}function B7(e,t){return Pi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function U7(e,t,r){return Pi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function $c(e,t){const r=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const n of t){const a=n._stacks;if(!a||a[s]===void 0||a[s][r]===void 0)return;delete a[s][r],a[s]._visualValues!==void 0&&a[s]._visualValues[r]!==void 0&&delete a[s]._visualValues[r]}}}const gx=e=>e==="reset"||e==="none",Vb=(e,t)=>t?e:Object.assign({},e),$7=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:mj(r,!0),values:null};class go{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&$c(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,s=this.getDataset(),n=(f,h,m,x)=>f==="x"?h:f==="r"?x:m,a=r.xAxisID=Ke(s.xAxisID,px(t,"x")),i=r.yAxisID=Ke(s.yAxisID,px(t,"y")),l=r.rAxisID=Ke(s.rAxisID,px(t,"r")),c=r.indexAxis,d=r.iAxisID=n(c,a,i,l),u=r.vAxisID=n(c,i,a,l);r.xScale=this.getScaleForId(a),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&jb(this._data,this),t._stacked&&$c(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),s=this._data;if(Ze(r)){const n=this._cachedMeta;this._data=O7(r,n)}else if(s!==r){if(s){jb(s,this);const n=this._cachedMeta;$c(n),n._parsed=[]}r&&Object.isExtensible(r)&&_L(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const a=r._stacked;r._stacked=xx(r.vScale,r),r.stack!==s.stack&&(n=!0,$c(r),r.stack=s.stack),this._resyncElements(t),(n||a!==r._stacked)&&(zb(this,r._parsed),r._stacked=xx(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:s,_data:n}=this,{iScale:a,_stacked:i}=s,l=a.axis;let c=t===0&&r===n.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,f,h;if(this._parsing===!1)s._parsed=n,s._sorted=!0,h=n;else{bt(n[t])?h=this.parseArrayData(s,n,t,r):Ze(n[t])?h=this.parseObjectData(s,n,t,r):h=this.parsePrimitiveData(s,n,t,r);const m=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<r;++u)s._parsed[u+t]=f=h[u],c&&(m()&&(c=!1),d=f);s._sorted=c}i&&zb(this,h)}parsePrimitiveData(t,r,s,n){const{iScale:a,vScale:i}=t,l=a.axis,c=i.axis,d=a.getLabels(),u=a===i,f=new Array(n);let h,m,x;for(h=0,m=n;h<m;++h)x=h+s,f[h]={[l]:u||a.parse(d[x],x),[c]:i.parse(r[x],x)};return f}parseArrayData(t,r,s,n){const{xScale:a,yScale:i}=t,l=new Array(n);let c,d,u,f;for(c=0,d=n;c<d;++c)u=c+s,f=r[u],l[c]={x:a.parse(f[0],u),y:i.parse(f[1],u)};return l}parseObjectData(t,r,s,n){const{xScale:a,yScale:i}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(n);let u,f,h,m;for(u=0,f=n;u<f;++u)h=u+s,m=r[h],d[u]={x:a.parse(Ro(m,l),h),y:i.parse(Ro(m,c),h)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,s){const n=this.chart,a=this._cachedMeta,i=r[t.axis],l={keys:mj(n,!0),values:r._stacks[t.axis]._visualValues};return Ub(l,i,a.index,{mode:s})}updateRangeFromParsed(t,r,s,n){const a=s[r.axis];let i=a===null?NaN:a;const l=n&&s._stacks[r.axis];n&&l&&(n.values=l,i=Ub(n,a,this._cachedMeta.index)),t.min=Math.min(t.min,i),t.max=Math.max(t.max,i)}getMinMax(t,r){const s=this._cachedMeta,n=s._parsed,a=s._sorted&&t===s.iScale,i=n.length,l=this._getOtherScale(t),c=$7(r,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=D7(l);let h,m;function x(){m=n[h];const p=m[l.axis];return!Ot(m[t.axis])||u>p||f<p}for(h=0;h<i&&!(!x()&&(this.updateRangeFromParsed(d,t,m,c),a));++h);if(a){for(h=i-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const r=this._cachedMeta._parsed,s=[];let n,a,i;for(n=0,a=r.length;n<a;++n)i=r[n][t.axis],Ot(i)&&s.push(i);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,s=r.iScale,n=r.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=M7(Ke(this.options.clip,P7(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,s=this._cachedMeta,n=s.data||[],a=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||n.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,a,l,c),u=l;u<l+c;++u){const f=n[u];f.hidden||(f.active&&d?i.push(f):f.draw(t,a))}for(u=0;u<i.length;++u)i[u].draw(t,a)}getStyle(t,r){const s=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,r,s){const n=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const i=this._cachedMeta.data[t];a=i.$context||(i.$context=U7(this.getContext(),t,i)),a.parsed=this.getParsed(t),a.raw=n.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=B7(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!r,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",s){const n=r==="active",a=this._cachedDataOpts,i=t+"-"+r,l=a[i],c=this.enableOptionSharing&&lu(s);if(l)return Vb(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=n?[`${t}Hover`,"hover",t,""]:[t,""],h=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Lt.elements[t]),x=()=>this.getContext(s,n,r),p=d.resolveNamedOptions(h,m,x,f);return p.$shared&&(p.$shared=c,a[i]=Object.freeze(Vb(p,c))),p}_resolveAnimations(t,r,s){const n=this.chart,a=this._cachedDataOpts,i=`animation-${r}`,l=a[i];if(l)return l;let c;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(h,this.getContext(t,s,r))}const d=new hj(n,c&&c.animations);return c&&c._cacheable&&(a[i]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||gx(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const s=this.resolveDataElementOptions(t,r),n=this._sharedOptions,a=this.getSharedOptions(s),i=this.includeOptions(r,a)||a!==n;return this.updateSharedOptions(a,r,s),{sharedOptions:a,includeOptions:i}}updateElement(t,r,s,n){gx(n)?Object.assign(t,s):this._resolveAnimations(r,n).update(t,s)}updateSharedOptions(t,r,s){t&&!gx(r)&&this._resolveAnimations(void 0,r).update(t,s)}_setStyle(t,r,s,n){t.active=n;const a=this.getStyle(r,n);this._resolveAnimations(r,s,n).update(t,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(t,r,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,r,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const n=s.length,a=r.length,i=Math.min(a,n);i&&this.parse(0,i),a>n?this._insertElements(n,a-n,t):a<n&&this._removeElements(a,n-a)}_insertElements(t,r,s=!0){const n=this._cachedMeta,a=n.data,i=t+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=i;l--)d[l]=d[l-r]};for(c(a),l=t;l<i;++l)a[l]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(t,r),s&&this.updateElements(a,t,r,"reset")}updateElements(t,r,s,n){}_removeElements(t,r){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,r);s._stacked&&$c(s,n)}s.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,s,n]=t;this[r](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Se(go,"defaults",{}),Se(go,"datasetElementType",null),Se(go,"dataElementType",null);function z7(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let s=[];for(let n=0,a=r.length;n<a;n++)s=s.concat(r[n].controller.getAllParsedValues(e));e._cache.$bar=Y5(s.sort((n,a)=>n-a))}return e._cache.$bar}function V7(e){const t=e.iScale,r=z7(t,e.type);let s=t._length,n,a,i,l;const c=()=>{i===32767||i===-32768||(lu(l)&&(s=Math.min(s,Math.abs(i-l)||s)),l=i)};for(n=0,a=r.length;n<a;++n)i=t.getPixelForValue(r[n]),c();for(l=void 0,n=0,a=t.ticks.length;n<a;++n)i=t.getPixelForTick(n),c();return s}function H7(e,t,r,s){const n=r.barThickness;let a,i;return it(n)?(a=t.min*r.categoryPercentage,i=r.barPercentage):(a=n*s,i=1),{chunk:a/s,ratio:i,start:t.pixels[e]-a/2}}function W7(e,t,r,s){const n=t.pixels,a=n[e];let i=e>0?n[e-1]:null,l=e<n.length-1?n[e+1]:null;const c=r.categoryPercentage;i===null&&(i=a-(l===null?t.end-t.start:l-a)),l===null&&(l=a+a-i);const d=a-(a-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/s,ratio:r.barPercentage,start:d}}function q7(e,t,r,s){const n=r.parse(e[0],s),a=r.parse(e[1],s),i=Math.min(n,a),l=Math.max(n,a);let c=i,d=l;Math.abs(i)>Math.abs(l)&&(c=l,d=i),t[r.axis]=d,t._custom={barStart:c,barEnd:d,start:n,end:a,min:i,max:l}}function xj(e,t,r,s){return bt(e)?q7(e,t,r,s):t[r.axis]=r.parse(e,s),t}function Hb(e,t,r,s){const n=e.iScale,a=e.vScale,i=n.getLabels(),l=n===a,c=[];let d,u,f,h;for(d=r,u=r+s;d<u;++d)h=t[d],f={},f[n.axis]=l||n.parse(i[d],d),c.push(xj(h,f,a,d));return c}function yx(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function G7(e,t,r){return e!==0?In(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function K7(e){let t,r,s,n,a;return e.horizontal?(t=e.base>e.x,r="left",s="right"):(t=e.base<e.y,r="bottom",s="top"),t?(n="end",a="start"):(n="start",a="end"),{start:r,end:s,reverse:t,top:n,bottom:a}}function X7(e,t,r,s){let n=t.borderSkipped;const a={};if(!n){e.borderSkipped=a;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:d,bottom:u}=K7(e);n==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===s?n=d:(r._bottom||0)===s?n=u:(a[Wb(u,i,l,c)]=!0,n=d)),a[Wb(n,i,l,c)]=!0,e.borderSkipped=a}function Wb(e,t,r,s){return s?(e=Y7(e,t,r),e=qb(e,r,t)):e=qb(e,t,r),e}function Y7(e,t,r){return e===t?r:e===r?t:e}function qb(e,t,r){return e==="start"?t:e==="end"?r:e}function Q7(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class kf extends go{parsePrimitiveData(t,r,s,n){return Hb(t,r,s,n)}parseArrayData(t,r,s,n){return Hb(t,r,s,n)}parseObjectData(t,r,s,n){const{iScale:a,vScale:i}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?l:c,u=i.axis==="x"?l:c,f=[];let h,m,x,p;for(h=s,m=s+n;h<m;++h)p=r[h],x={},x[a.axis]=a.parse(Ro(p,d),h),f.push(xj(Ro(p,u),x,i,h));return f}updateRangeFromParsed(t,r,s,n){super.updateRangeFromParsed(t,r,s,n);const a=s._custom;a&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:s,vScale:n}=r,a=this.getParsed(t),i=a._custom,l=yx(i)?"["+i.start+", "+i.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,s,n){const a=n==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,n);for(let m=r;m<r+s;m++){const x=this.getParsed(m),p=a||it(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),g=this._calculateBarIndexPixels(m,u),y=(x._stacks||{})[l.axis],v={horizontal:d,base:p.base,enableBorderRadius:!y||yx(x._custom)||i===y._top||i===y._bottom,x:d?p.head:g.center,y:d?g.center:p.head,height:d?g.size:Math.abs(p.size),width:d?Math.abs(p.size):g.size};h&&(v.options=f||this.resolveDataElementOptions(m,t[m].active?"active":n));const b=v.options||t[m].options;X7(v,b,y,i),Q7(v,b,u.ratio),this.updateElement(t[m],m,v,n)}}_getStacks(t,r){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=s.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[s.axis],d=u=>{const f=u._parsed.find(m=>m[s.axis]===c),h=f&&f[u.vScale.axis];if(it(h)||isNaN(h))return!0};for(const u of n)if(!(r!==void 0&&d(u))&&((a===!1||i.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&i.push(u.stack),u.index===t))break;return i.length||i.push(void 0),i}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Ke(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,s){const n=this._getStacks(t,s),a=r!==void 0?n.indexOf(r):-1;return a===-1?n.length-1:a}_getRuler(){const t=this.options,r=this._cachedMeta,s=r.iScale,n=[];let a,i;for(a=0,i=r.data.length;a<i;++a)n.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const l=t.barThickness;return{min:l||V7(r),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:s,index:n},options:{base:a,minBarLength:i}}=this,l=a||0,c=this.getParsed(t),d=c._custom,u=yx(d);let f=c[r.axis],h=0,m=s?this.applyStack(r,c,s):f,x,p;m!==f&&(h=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&In(f)!==In(d.barEnd)&&(h=0),h+=f);const g=!it(a)&&!u?a:h;let y=r.getPixelForValue(g);if(this.chart.getDataVisibility(t)?x=r.getPixelForValue(h+m):x=y,p=x-y,Math.abs(p)<i){p=G7(p,r,l)*i,f===l&&(y-=p/2);const v=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),_=Math.min(v,b),j=Math.max(v,b);y=Math.max(Math.min(y,j),_),x=y+p,s&&!u&&(c._stacks[r.axis]._visualValues[n]=r.getValueForPixel(x)-r.getValueForPixel(y))}if(y===r.getPixelForValue(l)){const v=In(p)*r.getLineWidthForValue(l)/2;y+=v,p-=v}return{size:p,base:y,head:x,center:x+p/2}}_calculateBarIndexPixels(t,r){const s=r.scale,n=this.options,a=n.skipNull,i=Ke(n.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=a?this._getStackCount(t):r.stackCount,f=n.barThickness==="flex"?W7(t,r,n,u*d):H7(t,r,n,u*d),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Ke(h,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+m;l=f.start+f.chunk*x+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,s=t.data,n=s.length;let a=0;for(;a<n;++a)this.getParsed(a)[r.axis]!==null&&!s[a].hidden&&s[a].draw(this._ctx)}}Se(kf,"id","bar"),Se(kf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Se(kf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Z7(e,t,r){let s=1,n=1,a=0,i=0;if(t<kt){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),f=Math.cos(c),h=Math.sin(c),m=(b,_,j)=>du(b,l,c,!0)?1:Math.max(_,_*r,j,j*r),x=(b,_,j)=>du(b,l,c,!0)?-1:Math.min(_,_*r,j,j*r),p=m(0,d,f),g=m($t,u,h),y=x(lt,d,f),v=x(lt+$t,u,h);s=(p-y)/2,n=(g-v)/2,a=-(p+y)/2,i=-(g+v)/2}return{ratioX:s,ratioY:n,offsetX:a,offsetY:i}}class sd extends go{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const s=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=s;else{let a=c=>+s[c];if(Ze(s[t])){const{key:c="value"}=this._parsing;a=d=>+Ro(s[d],c)}let i,l;for(i=t,l=t+r;i<l;++i)n._parsed[i]=a(i)}}_getRotation(){return On(this.options.rotation-90)}_getCircumference(){return On(this.options.circumference)}_getRotationExtents(){let t=kt,r=-kt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,a=n._getRotation(),i=n._getCircumference();t=Math.min(t,a),r=Math.max(r,a+i)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:s}=r,n=this._cachedMeta,a=n.data,i=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-i)/2,0),c=Math.min(lL(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:x,offsetY:p}=Z7(f,u,c),g=(s.width-i)/h,y=(s.height-i)/m,v=Math.max(Math.min(g,y)/2,0),b=W5(this.options.radius,v),_=Math.max(b*c,0),j=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=x*b,this.offsetY=p*b,n.total=this.calculateTotal(),this.outerRadius=b-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,r){const s=this.options,n=this._cachedMeta,a=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*a/kt)}updateElements(t,r,s,n){const a=n==="reset",i=this.chart,l=i.chartArea,d=i.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=a&&d.animateScale,m=h?0:this.innerRadius,x=h?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(r,n);let y=this._getRotation(),v;for(v=0;v<r;++v)y+=this._circumference(v,a);for(v=r;v<r+s;++v){const b=this._circumference(v,a),_=t[v],j={x:u+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:x,innerRadius:m};g&&(j.options=p||this.resolveDataElementOptions(v,_.active?"active":n)),y+=b,this.updateElement(_,v,j,n)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let s=0,n;for(n=0;n<r.length;n++){const a=t._parsed[n];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(s+=Math.abs(a))}return s}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?kt*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=fm(r._parsed[t],s.options.locale);return{label:n[t]||"",value:a}}getMaxBorderWidth(t){let r=0;const s=this.chart;let n,a,i,l,c;if(!t){for(n=0,a=s.data.datasets.length;n<a;++n)if(s.isDatasetVisible(n)){i=s.getDatasetMeta(n),t=i.data,l=i.controller;break}}if(!t)return 0;for(n=0,a=t.length;n<a;++n)c=l.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let s=0,n=t.length;s<n;++s){const a=this.resolveDataElementOptions(s);r=Math.max(r,a.offset||0,a.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(t){return Math.max(Ke(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Se(sd,"id","doughnut"),Se(sd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Se(sd,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Se(sd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:s,color:n}}=t.legend.options;return r.labels.map((a,i)=>{const c=t.getDatasetMeta(0).controller.getStyle(i);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}});class _f extends go{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:s,data:n=[],_dataset:a}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=EL(r,n,i);this._drawStart=l,this._drawCount=c,SL(r)&&(l=0,c=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:d},t),this.updateElements(n,l,c,t)}updateElements(t,r,s,n){const a=n==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(r,n),h=i.axis,m=l.axis,{spanGaps:x,segment:p}=this.options,g=cu(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||n==="none",v=r+s,b=t.length;let _=r>0&&this.getParsed(r-1);for(let j=0;j<b;++j){const S=t[j],N=y?S:{};if(j<r||j>=v){N.skip=!0;continue}const k=this.getParsed(j),E=it(k[m]),C=N[h]=i.getPixelForValue(k[h],j),A=N[m]=a||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[m],j);N.skip=isNaN(C)||isNaN(A)||E,N.stop=j>0&&Math.abs(k[h]-_[h])>g,p&&(N.parsed=k,N.raw=d.data[j]),f&&(N.options=u||this.resolveDataElementOptions(j,S.active?"active":n)),y||this.updateElement(S,j,N,n),_=k}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,s=r.options&&r.options.borderWidth||0,n=t.data||[];if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,i)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Se(_f,"id","line"),Se(_f,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Se(_f,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ii(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wy{constructor(t){Se(this,"options");this.options=t||{}}static override(t){Object.assign(wy.prototype,t)}init(){}formats(){return Ii()}parse(){return Ii()}format(){return Ii()}add(){return Ii()}diff(){return Ii()}startOf(){return Ii()}endOf(){return Ii()}}var J7={_date:wy};function eD(e,t,r,s){const{controller:n,data:a,_sorted:i}=e,l=n._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&i&&a.length){const d=l._reversePixels?wL:Zi;if(s){if(n._sharedOptions){const u=a[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=d(a,t,r-f),m=d(a,t,r+f);return{lo:h.lo,hi:m.hi}}}}else{const u=d(a,t,r);if(c){const{vScale:f}=n._cachedMeta,{_parsed:h}=e,m=h.slice(0,u.lo+1).reverse().findIndex(p=>!it(p[f.axis]));u.lo-=Math.max(0,m);const x=h.slice(u.hi).findIndex(p=>!it(p[f.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:a.length-1}}function Gu(e,t,r,s,n){const a=e.getSortedVisibleDatasetMetas(),i=r[t];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:f,hi:h}=eD(a[l],t,i,n);for(let m=f;m<=h;++m){const x=u[m];x.skip||s(x,d,m)}}}function tD(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(s,n){const a=t?Math.abs(s.x-n.x):0,i=r?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(i,2))}}function vx(e,t,r,s,n){const a=[];return!n&&!e.isPointInArea(t)||Gu(e,r,t,function(l,c,d){!n&&!oa(l,e.chartArea,0)||l.inRange(t.x,t.y,s)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function rD(e,t,r,s){let n=[];function a(i,l,c){const{startAngle:d,endAngle:u}=i.getProps(["startAngle","endAngle"],s),{angle:f}=K5(i,{x:t.x,y:t.y});du(f,d,u)&&n.push({element:i,datasetIndex:l,index:c})}return Gu(e,r,t,a),n}function sD(e,t,r,s,n,a){let i=[];const l=tD(r);let c=Number.POSITIVE_INFINITY;function d(u,f,h){const m=u.inRange(t.x,t.y,n);if(s&&!m)return;const x=u.getCenterPoint(n);if(!(!!a||e.isPointInArea(x))&&!m)return;const g=l(t,x);g<c?(i=[{element:u,datasetIndex:f,index:h}],c=g):g===c&&i.push({element:u,datasetIndex:f,index:h})}return Gu(e,r,t,d),i}function bx(e,t,r,s,n,a){return!a&&!e.isPointInArea(t)?[]:r==="r"&&!s?rD(e,t,r,n):sD(e,t,r,s,n,a)}function Gb(e,t,r,s,n){const a=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return Gu(e,r,t,(c,d,u)=>{c[i]&&c[i](t[r],n)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,n))}),s&&!l?[]:a}var nD={evaluateInteractionItems:Gu,modes:{index(e,t,r,s){const n=zi(t,e),a=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?vx(e,n,a,s,i):bx(e,n,a,!1,s,i),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,r,s){const n=zi(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?vx(e,n,a,s,i):bx(e,n,a,!1,s,i);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,r,s){const n=zi(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;return vx(e,n,a,s,i)},nearest(e,t,r,s){const n=zi(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;return bx(e,n,a,r.intersect,s,i)},x(e,t,r,s){const n=zi(t,e);return Gb(e,n,"x",r.intersect,s)},y(e,t,r,s){const n=zi(t,e);return Gb(e,n,"y",r.intersect,s)}}};const pj=["left","top","right","bottom"];function zc(e,t){return e.filter(r=>r.pos===t)}function Kb(e,t){return e.filter(r=>pj.indexOf(r.pos)===-1&&r.box.axis===t)}function Vc(e,t){return e.sort((r,s)=>{const n=t?s:r,a=t?r:s;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function aD(e){const t=[];let r,s,n,a,i,l;for(r=0,s=(e||[]).length;r<s;++r)n=e[r],{position:a,options:{stack:i,stackWeight:l=1}}=n,t.push({index:r,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:i&&a+i,stackWeight:l});return t}function iD(e){const t={};for(const r of e){const{stack:s,pos:n,stackWeight:a}=r;if(!s||!pj.includes(n))continue;const i=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=a}return t}function oD(e,t){const r=iD(e),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let a,i,l;for(a=0,i=e.length;a<i;++a){l=e[a];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&t.availableWidth,l.height=n):(l.width=s,l.height=u?u*n:c&&t.availableHeight)}return r}function lD(e){const t=aD(e),r=Vc(t.filter(d=>d.box.fullSize),!0),s=Vc(zc(t,"left"),!0),n=Vc(zc(t,"right")),a=Vc(zc(t,"top"),!0),i=Vc(zc(t,"bottom")),l=Kb(t,"x"),c=Kb(t,"y");return{fullSize:r,leftAndTop:s.concat(a),rightAndBottom:n.concat(c).concat(i).concat(l),chartArea:zc(t,"chartArea"),vertical:s.concat(n).concat(c),horizontal:a.concat(i).concat(l)}}function Xb(e,t,r,s){return Math.max(e[r],t[r])+Math.max(e[s],t[s])}function gj(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function cD(e,t,r,s){const{pos:n,box:a}=r,i=e.maxPadding;if(!Ze(n)){r.size&&(e[n]-=r.size);const f=s[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?a.height:a.width),r.size=f.size/f.count,e[n]+=r.size}a.getPadding&&gj(i,a.getPadding());const l=Math.max(0,t.outerWidth-Xb(i,e,"left","right")),c=Math.max(0,t.outerHeight-Xb(i,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function dD(e){const t=e.maxPadding;function r(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function uD(e,t){const r=t.maxPadding;function s(n){const a={left:0,top:0,right:0,bottom:0};return n.forEach(i=>{a[i]=Math.max(t[i],r[i])}),a}return s(e?["left","right"]:["top","bottom"])}function nd(e,t,r,s){const n=[];let a,i,l,c,d,u;for(a=0,i=e.length,d=0;a<i;++a){l=e[a],c=l.box,c.update(l.width||t.w,l.height||t.h,uD(l.horizontal,t));const{same:f,other:h}=cD(t,r,l,s);d|=f&&n.length,u=u||h,c.fullSize||n.push(l)}return d&&nd(n,t,r,s)||u}function D0(e,t,r,s,n){e.top=r,e.left=t,e.right=t+s,e.bottom=r+n,e.width=s,e.height=n}function Yb(e,t,r,s){const n=r.padding;let{x:a,y:i}=t;for(const l of e){const c=l.box,d=s[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const f=t.w*u,h=d.size||c.height;lu(d.start)&&(i=d.start),c.fullSize?D0(c,n.left,i,r.outerWidth-n.right-n.left,h):D0(c,t.left+d.placed,i,f,h),d.start=i,d.placed+=f,i=c.bottom}else{const f=t.h*u,h=d.size||c.width;lu(d.start)&&(a=d.start),c.fullSize?D0(c,a,n.top,h,r.outerHeight-n.bottom-n.top):D0(c,a,t.top+d.placed,h,f),d.start=a,d.placed+=f,a=c.right}}t.x=a,t.y=i}var Bs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,s){if(!e)return;const n=Ir(e.options.layout.padding),a=Math.max(t-n.width,0),i=Math.max(r-n.height,0),l=lD(e.boxes),c=l.vertical,d=l.horizontal;ct(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/u,hBoxMaxHeight:i/2}),h=Object.assign({},n);gj(h,Ir(s));const m=Object.assign({maxPadding:h,w:a,h:i,x:n.left,y:n.top},n),x=oD(c.concat(d),f);nd(l.fullSize,m,f,x),nd(c,m,f,x),nd(d,m,f,x)&&nd(c,m,f,x),dD(m),Yb(l.leftAndTop,m,f,x),m.x+=m.w,m.y+=m.h,Yb(l.rightAndBottom,m,f,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ct(l.chartArea,p=>{const g=p.box;Object.assign(g,e.chartArea),g.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class yj{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,s){}removeEventListener(t,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,s,n){return r=Math.max(0,r||t.width),s=s||t.height,{width:r,height:Math.max(0,n?Math.floor(r/n):s)}}isAttached(t){return!0}updateConfig(t){}}class fD extends yj{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nf="$chartjs",hD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qb=e=>e===null||e==="";function mD(e,t){const r=e.style,s=e.getAttribute("height"),n=e.getAttribute("width");if(e[Nf]={initial:{height:s,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Qb(n)){const a=Mb(e,"width");a!==void 0&&(e.width=a)}if(Qb(s))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Mb(e,"height");a!==void 0&&(e.height=a)}return e}const vj=p7?{passive:!0}:!1;function xD(e,t,r){e&&e.addEventListener(t,r,vj)}function pD(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,vj)}function gD(e,t){const r=hD[e.type]||e.type,{x:s,y:n}=zi(e,t);return{type:r,chart:t,native:e,x:s!==void 0?s:null,y:n!==void 0?n:null}}function gh(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function yD(e,t,r){const s=e.canvas,n=new MutationObserver(a=>{let i=!1;for(const l of a)i=i||gh(l.addedNodes,s),i=i&&!gh(l.removedNodes,s);i&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function vD(e,t,r){const s=e.canvas,n=new MutationObserver(a=>{let i=!1;for(const l of a)i=i||gh(l.removedNodes,s),i=i&&!gh(l.addedNodes,s);i&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const fu=new Map;let Zb=0;function bj(){const e=window.devicePixelRatio;e!==Zb&&(Zb=e,fu.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function bD(e,t){fu.size||window.addEventListener("resize",bj),fu.set(e,t)}function wD(e){fu.delete(e),fu.size||window.removeEventListener("resize",bj)}function kD(e,t,r){const s=e.canvas,n=s&&by(s);if(!n)return;const a=Z5((l,c)=>{const d=n.clientWidth;r(l,c),d<n.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return i.observe(n),bD(e,a),i}function wx(e,t,r){r&&r.disconnect(),t==="resize"&&wD(e)}function _D(e,t,r){const s=e.canvas,n=Z5(a=>{e.ctx!==null&&r(gD(a,e))},e);return xD(s,t,n),n}class ND extends yj{acquireContext(t,r){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(mD(t,r),s):null}releaseContext(t){const r=t.canvas;if(!r[Nf])return!1;const s=r[Nf].initial;["height","width"].forEach(a=>{const i=s[a];it(i)?r.removeAttribute(a):r.setAttribute(a,i)});const n=s.style||{};return Object.keys(n).forEach(a=>{r.style[a]=n[a]}),r.width=r.width,delete r[Nf],!0}addEventListener(t,r,s){this.removeEventListener(t,r);const n=t.$proxies||(t.$proxies={}),i={attach:yD,detach:vD,resize:kD}[r]||_D;n[r]=i(t,r,s)}removeEventListener(t,r){const s=t.$proxies||(t.$proxies={}),n=s[r];if(!n)return;({attach:wx,detach:wx,resize:wx}[r]||pD)(t,r,n),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,s,n){return x7(t,r,s,n)}isAttached(t){const r=t&&by(t);return!!(r&&r.isConnected)}}function jD(e){return!vy()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?fD:ND}class yn{constructor(){Se(this,"x");Se(this,"y");Se(this,"active",!1);Se(this,"options");Se(this,"$animations")}tooltipPosition(t){const{x:r,y:s}=this.getProps(["x","y"],t);return{x:r,y:s}}hasValue(){return cu(this.x)&&cu(this.y)}getProps(t,r){const s=this.$animations;if(!r||!s)return this;const n={};return t.forEach(a=>{n[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),n}}Se(yn,"defaults",{}),Se(yn,"defaultRoutes");function ED(e,t){const r=e.options.ticks,s=SD(e),n=Math.min(r.maxTicksLimit||s,s),a=r.major.enabled?TD(t):[],i=a.length,l=a[0],c=a[i-1],d=[];if(i>n)return AD(t,d,a,i/n),d;const u=CD(a,t,n);if(i>0){let f,h;const m=i>1?Math.round((c-l)/(i-1)):null;for(I0(t,d,u,it(m)?0:l-m,l),f=0,h=i-1;f<h;f++)I0(t,d,u,a[f],a[f+1]);return I0(t,d,u,c,it(m)?t.length:c+m),d}return I0(t,d,u),d}function SD(e){const t=e.options.offset,r=e._tickSize(),s=e._length/r+(t?0:1),n=e._maxLength/r;return Math.floor(Math.min(s,n))}function CD(e,t,r){const s=FD(e),n=t.length/r;if(!s)return Math.max(n,1);const a=pL(s);for(let i=0,l=a.length-1;i<l;i++){const c=a[i];if(c>n)return c}return Math.max(n,1)}function TD(e){const t=[];let r,s;for(r=0,s=e.length;r<s;r++)e[r].major&&t.push(r);return t}function AD(e,t,r,s){let n=0,a=r[0],i;for(s=Math.ceil(s),i=0;i<e.length;i++)i===a&&(t.push(e[i]),n++,a=r[n*s])}function I0(e,t,r,s,n){const a=Ke(s,0),i=Math.min(Ke(n,e.length),e.length);let l=0,c,d,u;for(r=Math.ceil(r),n&&(c=n-s,r=c/Math.floor(c/r)),u=a;u<0;)l++,u=Math.round(a+l*r);for(d=Math.max(a,0);d<i;d++)d===u&&(t.push(e[d]),l++,u=Math.round(a+l*r))}function FD(e){const t=e.length;let r,s;if(t<2)return!1;for(s=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==s)return!1;return s}const RD=e=>e==="left"?"right":e==="right"?"left":e,Jb=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,ew=(e,t)=>Math.min(t||e,e);function tw(e,t){const r=[],s=e.length/t,n=e.length;let a=0;for(;a<n;a+=s)r.push(e[Math.floor(a)]);return r}function PD(e,t,r){const s=e.ticks.length,n=Math.min(t,s-1),a=e._startPixel,i=e._endPixel,l=1e-6;let c=e.getPixelForTick(n),d;if(!(r&&(s===1?d=Math.max(c-a,i-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(n-1))/2,c+=n<t?d:-d,c<a-l||c>i+l)))return c}function MD(e,t){ct(e,r=>{const s=r.gc,n=s.length/2;let a;if(n>t){for(a=0;a<n;++a)delete r.data[s[a]];s.splice(0,n)}})}function Hc(e){return e.drawTicks?e.tickLength:0}function rw(e,t){if(!e.display)return 0;const r=nr(e.font,t),s=Ir(e.padding);return(bt(e.text)?e.text.length:1)*r.lineHeight+s.height}function OD(e,t){return Pi(e,{scale:t,type:"scale"})}function LD(e,t,r){return Pi(e,{tick:r,index:t,type:"tick"})}function DD(e,t,r){let s=hy(e);return(r&&t!=="right"||!r&&t==="right")&&(s=RD(s)),s}function ID(e,t,r,s){const{top:n,left:a,bottom:i,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,h,m,x;const p=i-n,g=l-a;if(e.isHorizontal()){if(m=jr(s,a,l),Ze(r)){const y=Object.keys(r)[0],v=r[y];x=u[y].getPixelForValue(v)+p-t}else r==="center"?x=(d.bottom+d.top)/2+p-t:x=Jb(e,r,t);h=l-a}else{if(Ze(r)){const y=Object.keys(r)[0],v=r[y];m=u[y].getPixelForValue(v)-g+t}else r==="center"?m=(d.left+d.right)/2-g+t:m=Jb(e,r,t);x=jr(s,i,n),f=r==="left"?-$t:$t}return{titleX:m,titleY:x,maxWidth:h,rotation:f}}class zo extends yn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:s,_suggestedMax:n}=this;return t=xs(t,Number.POSITIVE_INFINITY),r=xs(r,Number.NEGATIVE_INFINITY),s=xs(s,Number.POSITIVE_INFINITY),n=xs(n,Number.NEGATIVE_INFINITY),{min:xs(t,s),max:xs(r,n),minDefined:Ot(t),maxDefined:Ot(r)}}getMinMax(t){let{min:r,max:s,minDefined:n,maxDefined:a}=this.getUserBounds(),i;if(n&&a)return{min:r,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)i=l[c].controller.getMinMax(this,t),n||(r=Math.min(r,i.min)),a||(s=Math.max(s,i.max));return r=a&&r>s?s:r,s=n&&r>s?r:s,{min:xs(r,xs(s,r)),max:xs(s,xs(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(t,r,s){const{beginAtZero:n,grace:a,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GL(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?tw(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=ED(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,t=!t),this._startPixel=r,this._endPixel=s,this._reversePixels=t,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let s,n,a;for(s=0,n=t.length;s<n;s++)a=t[s],a.label=mt(r.callback,[a.value,s,t],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,s=ew(this.ticks.length,t.ticks.maxTicksLimit),n=r.minRotation||0,a=r.maxRotation;let i=n,l,c,d;if(!this._isVisible()||!r.display||n>=a||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=Pr(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/s:m/(s-1),f+6>l&&(l=m/(s-(t.offset?.5:1)),c=this.maxHeight-Hc(t.grid)-r.padding-rw(t.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),i=uy(Math.min(Math.asin(Pr((u.highest.height+6)/l,-1,1)),Math.asin(Pr(c/d,-1,1))-Math.asin(Pr(h/d,-1,1)))),i=Math.max(n,Math.min(a,i))),this.labelRotation=i}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:s,title:n,grid:a}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=rw(n,r.options.font);if(l?(t.width=this.maxWidth,t.height=Hc(a)+c):(t.height=this.maxHeight,t.width=Hc(a)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,x=On(this.labelRotation),p=Math.cos(x),g=Math.sin(x);if(l){const y=s.mirror?0:g*f.width+p*h.height;t.height=Math.min(this.maxHeight,t.height+y+m)}else{const y=s.mirror?0:p*f.width+g*h.height;t.width=Math.min(this.maxWidth,t.width+y+m)}this._calculatePadding(d,u,g,p)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,s,n){const{ticks:{align:a,padding:i},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?d?(h=n*t.width,m=s*r.height):(h=s*t.height,m=n*r.width):a==="start"?m=r.width:a==="end"?h=t.width:a!=="inner"&&(h=t.width/2,m=r.width/2),this.paddingLeft=Math.max((h-u+i)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+i)*this.width/(this.width-f),0)}else{let u=r.height/2,f=t.height/2;a==="start"?(u=0,f=t.height):a==="end"&&(u=r.height,f=0),this.paddingTop=u+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,s;for(r=0,s=t.length;r<s;r++)it(t[r].label)&&(t.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=tw(s,r)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,s){const{ctx:n,_longestTextCache:a}=this,i=[],l=[],c=Math.floor(r/ew(r,s));let d=0,u=0,f,h,m,x,p,g,y,v,b,_,j;for(f=0;f<r;f+=c){if(x=t[f].label,p=this._resolveTickFontOptions(f),n.font=g=p.string,y=a[g]=a[g]||{data:{},gc:[]},v=p.lineHeight,b=_=0,!it(x)&&!bt(x))b=xh(n,y.data,y.gc,b,x),_=v;else if(bt(x))for(h=0,m=x.length;h<m;++h)j=x[h],!it(j)&&!bt(j)&&(b=xh(n,y.data,y.gc,b,j),_+=v);i.push(b),l.push(_),d=Math.max(b,d),u=Math.max(_,u)}MD(a,r);const S=i.indexOf(d),N=l.indexOf(u),k=E=>({width:i[E]||0,height:l[E]||0});return{first:k(0),last:k(r-1),widest:k(S),highest:k(N),widths:i,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return bL(this._alignToPixels?Di(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const s=r[t];return s.$context||(s.$context=LD(this.getContext(),t,s))}return this.$context||(this.$context=OD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=On(this.labelRotation),s=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),a=this._getLabelSizes(),i=t.autoSkipPadding||0,l=a?a.widest.width+i:0,c=a?a.highest.height+i:0;return this.isHorizontal()?c*s>l*n?l/s:c/n:c*n<l*s?c/s:l/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,s=this.chart,n=this.options,{grid:a,position:i,border:l}=n,c=a.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=Hc(a),m=[],x=l.setContext(this.getContext()),p=x.display?x.width:0,g=p/2,y=function(G){return Di(s,G,p)};let v,b,_,j,S,N,k,E,C,A,F,M;if(i==="top")v=y(this.bottom),N=this.bottom-h,E=v-g,A=y(t.top)+g,M=t.bottom;else if(i==="bottom")v=y(this.top),A=t.top,M=y(t.bottom)-g,N=v+g,E=this.top+h;else if(i==="left")v=y(this.right),S=this.right-h,k=v-g,C=y(t.left)+g,F=t.right;else if(i==="right")v=y(this.left),C=t.left,F=y(t.right)-g,S=v+g,k=this.left+h;else if(r==="x"){if(i==="center")v=y((t.top+t.bottom)/2+.5);else if(Ze(i)){const G=Object.keys(i)[0],oe=i[G];v=y(this.chart.scales[G].getPixelForValue(oe))}A=t.top,M=t.bottom,N=v+g,E=N+h}else if(r==="y"){if(i==="center")v=y((t.left+t.right)/2);else if(Ze(i)){const G=Object.keys(i)[0],oe=i[G];v=y(this.chart.scales[G].getPixelForValue(oe))}S=v-g,k=S-h,C=t.left,F=t.right}const Y=Ke(n.ticks.maxTicksLimit,f),L=Math.max(1,Math.ceil(f/Y));for(b=0;b<f;b+=L){const G=this.getContext(b),oe=a.setContext(G),ne=l.setContext(G),V=oe.lineWidth,X=oe.color,ee=ne.dash||[],R=ne.dashOffset,K=oe.tickWidth,z=oe.tickColor,H=oe.tickBorderDash||[],Q=oe.tickBorderDashOffset;_=PD(this,b,c),_!==void 0&&(j=Di(s,_,V),d?S=k=C=F=j:N=E=A=M=j,m.push({tx1:S,ty1:N,tx2:k,ty2:E,x1:C,y1:A,x2:F,y2:M,width:V,color:X,borderDash:ee,borderDashOffset:R,tickWidth:K,tickColor:z,tickBorderDash:H,tickBorderDashOffset:Q}))}return this._ticksLength=f,this._borderValue=v,m}_computeLabelItems(t){const r=this.axis,s=this.options,{position:n,ticks:a}=s,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=a,h=Hc(s.grid),m=h+u,x=f?-u:m,p=-On(this.labelRotation),g=[];let y,v,b,_,j,S,N,k,E,C,A,F,M="middle";if(n==="top")S=this.bottom-x,N=this._getXAxisLabelAlignment();else if(n==="bottom")S=this.top+x,N=this._getXAxisLabelAlignment();else if(n==="left"){const L=this._getYAxisLabelAlignment(h);N=L.textAlign,j=L.x}else if(n==="right"){const L=this._getYAxisLabelAlignment(h);N=L.textAlign,j=L.x}else if(r==="x"){if(n==="center")S=(t.top+t.bottom)/2+m;else if(Ze(n)){const L=Object.keys(n)[0],G=n[L];S=this.chart.scales[L].getPixelForValue(G)+m}N=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")j=(t.left+t.right)/2-m;else if(Ze(n)){const L=Object.keys(n)[0],G=n[L];j=this.chart.scales[L].getPixelForValue(G)}N=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const Y=this._getLabelSizes();for(y=0,v=l.length;y<v;++y){b=l[y],_=b.label;const L=a.setContext(this.getContext(y));k=this.getPixelForTick(y)+a.labelOffset,E=this._resolveTickFontOptions(y),C=E.lineHeight,A=bt(_)?_.length:1;const G=A/2,oe=L.color,ne=L.textStrokeColor,V=L.textStrokeWidth;let X=N;i?(j=k,N==="inner"&&(y===v-1?X=this.options.reverse?"left":"right":y===0?X=this.options.reverse?"right":"left":X="center"),n==="top"?d==="near"||p!==0?F=-A*C+C/2:d==="center"?F=-Y.highest.height/2-G*C+C:F=-Y.highest.height+C/2:d==="near"||p!==0?F=C/2:d==="center"?F=Y.highest.height/2-G*C:F=Y.highest.height-A*C,f&&(F*=-1),p!==0&&!L.showLabelBackdrop&&(j+=C/2*Math.sin(p))):(S=k,F=(1-A)*C/2);let ee;if(L.showLabelBackdrop){const R=Ir(L.backdropPadding),K=Y.heights[y],z=Y.widths[y];let H=F-R.top,Q=0-R.left;switch(M){case"middle":H-=K/2;break;case"bottom":H-=K;break}switch(N){case"center":Q-=z/2;break;case"right":Q-=z;break;case"inner":y===v-1?Q-=z:y>0&&(Q-=z/2);break}ee={left:Q,top:H,width:z+R.width,height:K+R.height,color:L.backdropColor}}g.push({label:_,font:E,textOffset:F,options:{rotation:p,color:oe,strokeColor:ne,strokeWidth:V,textAlign:X,textBaseline:M,translation:[j,S],backdrop:ee}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-On(this.labelRotation))return t==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:s,mirror:n,padding:a}}=this.options,i=this._getLabelSizes(),l=t+a,c=i.widest.width;let d,u;return r==="left"?n?(u=this.right+a,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?n?(u=this.left+a,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:s,top:n,width:a,height:i}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(s,n,a,i),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(a=>a.value===t);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const r=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,i;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(r.display)for(a=0,i=n.length;a<i;++a){const c=n[a];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:s,grid:n}}=this,a=s.setContext(this.getContext()),i=s.display?a.width:0;if(!i)return;const l=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,h;this.isHorizontal()?(d=Di(t,this.left,i)-i/2,u=Di(t,this.right,l)+l/2,f=h=c):(f=Di(t,this.top,i)-i/2,h=Di(t,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=a.width,r.strokeStyle=a.color,r.beginPath(),r.moveTo(d,f),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,n=this._computeLabelArea();n&&mm(s,n);const a=this.getLabelItems(t);for(const i of a){const l=i.options,c=i.font,d=i.label,u=i.textOffset;Mo(s,d,0,u,c,l)}n&&xm(s)}drawTitle(){const{ctx:t,options:{position:r,title:s,reverse:n}}=this;if(!s.display)return;const a=nr(s.font),i=Ir(s.padding),l=s.align;let c=a.lineHeight/2;r==="bottom"||r==="center"||Ze(r)?(c+=i.bottom,bt(s.text)&&(c+=a.lineHeight*(s.text.length-1))):c+=i.top;const{titleX:d,titleY:u,maxWidth:f,rotation:h}=ID(this,c,r,l);Mo(t,s.text,0,0,a,{color:s.color,maxWidth:f,rotation:h,textAlign:DD(l,r,n),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,s=Ke(t.grid&&t.grid.z,-1),n=Ke(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zo.prototype.draw?[{z:r,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let a,i;for(a=0,i=r.length;a<i;++a){const l=r[a];l[s]===this.id&&(!t||l.type===t)&&n.push(l)}return n}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return nr(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class B0{constructor(t,r,s){this.type=t,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let s;$D(r)&&(s=this.register(r));const n=this.items,a=t.id,i=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in n||(n[a]=t,BD(t,i,s),this.override&&Lt.override(t.id,t.overrides)),i}get(t){return this.items[t]}unregister(t){const r=this.items,s=t.id,n=this.scope;s in r&&delete r[s],n&&s in Lt[n]&&(delete Lt[n][s],this.override&&delete Po[s])}}function BD(e,t,r){const s=ou(Object.create(null),[r?Lt.get(r):{},Lt.get(t),e.defaults]);Lt.set(t,s),e.defaultRoutes&&UD(t,e.defaultRoutes),e.descriptors&&Lt.describe(t,e.descriptors)}function UD(e,t){Object.keys(t).forEach(r=>{const s=r.split("."),n=s.pop(),a=[e].concat(s).join("."),i=t[r].split("."),l=i.pop(),c=i.join(".");Lt.route(a,n,c,l)})}function $D(e){return"id"in e&&"defaults"in e}class zD{constructor(){this.controllers=new B0(go,"datasets",!0),this.elements=new B0(yn,"elements"),this.plugins=new B0(Object,"plugins"),this.scales=new B0(zo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,s){[...r].forEach(n=>{const a=s||this._getRegistryForType(n);s||a.isForType(n)||a===this.plugins&&n.id?this._exec(t,a,n):ct(n,i=>{const l=s||this._getRegistryForType(i);this._exec(t,l,i)})})}_exec(t,r,s){const n=dy(t);mt(s["before"+n],[],s),r[t](s),mt(s["after"+n],[],s)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(t))return s}return this.plugins}_get(t,r,s){const n=r.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return n}}var Sn=new zD;class VD{constructor(){this._init=[]}notify(t,r,s,n){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=n?this._descriptors(t).filter(n):this._descriptors(t),i=this._notify(a,t,r,s);return r==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),i}_notify(t,r,s,n){n=n||{};for(const a of t){const i=a.plugin,l=i[s],c=[r,n,a.options];if(mt(l,c,i)===!1&&n.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const s=t&&t.config,n=Ke(s.options&&s.options.plugins,{}),a=HD(s);return n===!1&&!r?[]:qD(t,a,n,r)}_notifyStateChanges(t){const r=this._oldCache||[],s=this._cache,n=(a,i)=>a.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(n(r,s),t,"stop"),this._notify(n(s,r),t,"start")}}function HD(e){const t={},r=[],s=Object.keys(Sn.plugins.items);for(let a=0;a<s.length;a++)r.push(Sn.getPlugin(s[a]));const n=e.plugins||[];for(let a=0;a<n.length;a++){const i=n[a];r.indexOf(i)===-1&&(r.push(i),t[i.id]=!0)}return{plugins:r,localIds:t}}function WD(e,t){return!t&&e===!1?null:e===!0?{}:e}function qD(e,{plugins:t,localIds:r},s,n){const a=[],i=e.getContext();for(const l of t){const c=l.id,d=WD(s[c],n);d!==null&&a.push({plugin:l,options:GD(e.config,{plugin:l,local:r[c]},d,i)})}return a}function GD(e,{plugin:t,local:r},s,n){const a=e.pluginScopeKeys(t),i=e.getOptionScopes(s,a);return r&&t.defaults&&i.push(t.defaults),e.createResolver(i,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xg(e,t){const r=Lt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function KD(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function XD(e,t){return e===t?"_index_":"_value_"}function sw(e){if(e==="x"||e==="y"||e==="r")return e}function YD(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function pg(e,...t){if(sw(e))return e;for(const r of t){const s=r.axis||YD(r.position)||e.length>1&&sw(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function nw(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function QD(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(r.length)return nw(e,"x",r[0])||nw(e,"y",r[0])}return{}}function ZD(e,t){const r=Po[e.type]||{scales:{}},s=t.scales||{},n=xg(e.type,t),a=Object.create(null);return Object.keys(s).forEach(i=>{const l=s[i];if(!Ze(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=pg(i,l,QD(i,e),Lt.scales[l.type]),d=XD(c,n),u=r.scales||{};a[i]=Nd(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(i=>{const l=i.type||e.type,c=i.indexAxis||xg(l,t),u=(Po[l]||{}).scales||{};Object.keys(u).forEach(f=>{const h=KD(f,c),m=i[h+"AxisID"]||h;a[m]=a[m]||Object.create(null),Nd(a[m],[{axis:h},s[m],u[f]])})}),Object.keys(a).forEach(i=>{const l=a[i];Nd(l,[Lt.scales[l.type],Lt.scale])}),a}function wj(e){const t=e.options||(e.options={});t.plugins=Ke(t.plugins,{}),t.scales=ZD(e,t)}function kj(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function JD(e){return e=e||{},e.data=kj(e.data),wj(e),e}const aw=new Map,_j=new Set;function U0(e,t){let r=aw.get(e);return r||(r=t(),aw.set(e,r),_j.add(r)),r}const Wc=(e,t,r)=>{const s=Ro(t,r);s!==void 0&&e.add(s)};class e9{constructor(t){this._config=JD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=kj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wj(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return U0(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return U0(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return U0(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,s=this.type;return U0(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const s=this._scopeCache;let n=s.get(t);return(!n||r)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,r,s){const{options:n,type:a}=this,i=this._cachedScopes(t,s),l=i.get(r);if(l)return l;const c=new Set;r.forEach(u=>{t&&(c.add(t),u.forEach(f=>Wc(c,t,f))),u.forEach(f=>Wc(c,n,f)),u.forEach(f=>Wc(c,Po[a]||{},f)),u.forEach(f=>Wc(c,Lt,f)),u.forEach(f=>Wc(c,hg,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),_j.has(r)&&i.set(r,d),d}chartOptionScopes(){const{options:t,type:r}=this;return[t,Po[r]||{},Lt.datasets[r]||{},{type:r},Lt,hg]}resolveNamedOptions(t,r,s,n=[""]){const a={$shared:!0},{resolver:i,subPrefixes:l}=iw(this._resolverCache,t,n);let c=i;if(r9(i,r)){a.$shared=!1,s=ji(s)?s():s;const d=this.createResolver(t,s,l);c=sc(i,s,d)}for(const d of r)a[d]=c[d];return a}createResolver(t,r,s=[""],n){const{resolver:a}=iw(this._resolverCache,t,s);return Ze(r)?sc(a,r,void 0,n):a}}function iw(e,t,r){let s=e.get(t);s||(s=new Map,e.set(t,s));const n=r.join();let a=s.get(n);return a||(a={resolver:py(t,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},s.set(n,a)),a}const t9=e=>Ze(e)&&Object.getOwnPropertyNames(e).some(t=>ji(e[t]));function r9(e,t){const{isScriptable:r,isIndexable:s}=rj(e);for(const n of t){const a=r(n),i=s(n),l=(i||a)&&e[n];if(a&&(ji(l)||t9(l))||i&&bt(l))return!0}return!1}var s9="4.5.0";const n9=["top","bottom","left","right","chartArea"];function ow(e,t){return e==="top"||e==="bottom"||n9.indexOf(e)===-1&&t==="x"}function lw(e,t){return function(r,s){return r[e]===s[e]?r[t]-s[t]:r[e]-s[e]}}function cw(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),mt(r&&r.onComplete,[e],t)}function a9(e){const t=e.chart,r=t.options.animation;mt(r&&r.onProgress,[e],t)}function Nj(e){return vy()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const jf={},dw=e=>{const t=Nj(e);return Object.values(jf).filter(r=>r.canvas===t).pop()};function i9(e,t,r){const s=Object.keys(e);for(const n of s){const a=+n;if(a>=t){const i=e[n];delete e[n],(r>0||a>t)&&(e[a+r]=i)}}}function o9(e,t,r,s){return!r||e.type==="mouseout"?null:s?t:e}var Fa;let gm=(Fa=class{static register(...t){Sn.add(...t),uw()}static unregister(...t){Sn.remove(...t),uw()}constructor(t,r){const s=this.config=new e9(r),n=Nj(t),a=dw(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const i=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||jD(n)),this.platform.updateConfig(s);const l=this.platform.acquireContext(n,i.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=oL(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NL(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],jf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Xn.listen(this,"complete",cw),Xn.listen(this,"progress",a9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:s,height:n,_aspectRatio:a}=this;return it(t)?r&&a?a:n?s/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Sn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ab(this.canvas,this.ctx),this}stop(){return Xn.stop(this),this}resize(t,r){Xn.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const s=this.options,n=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(n,t,r,a),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Pb(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),mt(s.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ct(r,(s,n)=>{s.id=n})}buildOrUpdateScales(){const t=this.options,r=t.scales,s=this.scales,n=Object.keys(s).reduce((i,l)=>(i[l]=!1,i),{});let a=[];r&&(a=a.concat(Object.keys(r).map(i=>{const l=r[i],c=pg(i,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ct(a,i=>{const l=i.options,c=l.id,d=pg(c,l),u=Ke(l.type,i.dtype);(l.position===void 0||ow(l.position,d)!==ow(i.dposition))&&(l.position=i.dposition),n[c]=!0;let f=null;if(c in s&&s[c].type===u)f=s[c];else{const h=Sn.getScale(u);f=new h({id:c,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(l,t)}),ct(n,(i,l)=>{i||delete s[l]}),ct(s,i=>{Bs.configure(this,i,i.options),Bs.addBox(this,i)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,s=t.length;if(t.sort((n,a)=>n.index-a.index),s>r){for(let n=r;n<s;++n)this._destroyDatasetMeta(n);t.splice(r,s-r)}this._sortedMetasets=t.slice(0).sort(lw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((s,n)=>{r.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=r.length;s<n;s++){const a=r[s];let i=this.getDatasetMeta(s);const l=a.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(s),i=this.getDatasetMeta(s)),i.type=l,i.indexAxis=a.indexAxis||xg(l,this.options),i.order=a.order||0,i.index=s,i.label=""+a.label,i.visible=this.isDatasetVisible(s),i.controller)i.controller.updateIndex(s),i.controller.linkScales();else{const c=Sn.getController(l),{datasetElementType:d,dataElementType:u}=Lt.datasets[l];Object.assign(c,{dataElementType:Sn.getElement(u),datasetElementType:d&&Sn.getElement(d)}),i.controller=new c(this,s),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){ct(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),h=!n&&a.indexOf(f)===-1;f.buildOrUpdateElements(h),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=s.layout.autoPadding?i:0,this._updateLayout(i),n||ct(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(lw("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ct(this.scales,t=>{Bs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!wb(r,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:a}of r){const i=s==="_removeElements"?-a:a;i9(t,n,i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=a=>new Set(t.filter(i=>i[0]===a).map((i,l)=>l+","+i.splice(1).join(","))),n=s(0);for(let a=1;a<r;a++)if(!wb(n,s(a)))return;return Array.from(n).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bs.update(this,this.width,this.height,t);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],ct(this.boxes,n=>{s&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,a)=>{n._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,ji(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const s=this.getDatasetMeta(t),n={meta:s,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(s.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xn.has(this)?this.attached&&!Xn.running(this)&&Xn.start(this):(this.draw(),cw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,s=[];let n,a;for(n=0,a=r.length;n<a;++n){const i=r[n];(!t||i.visible)&&s.push(i)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,s={meta:t,index:t.index,cancelable:!0},n=fj(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(n&&mm(r,n),t.controller.draw(),n&&xm(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return oa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,s,n){const a=nD.modes[r];return typeof a=="function"?a(this,t,s,n):[]}getDatasetMeta(t){const r=this.data.datasets[t],s=this._metasets;let n=s.filter(a=>a&&a._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(t,r){const s=this.getDatasetMeta(t);s.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,s){const n=s?"show":"hide",a=this.getDatasetMeta(t),i=a.controller._resolveAnimations(void 0,n);lu(r)?(a.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),i.update(a,{visible:s}),this.update(l=>l.datasetIndex===t?n:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Xn.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ab(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete jf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,s=(a,i)=>{r.addEventListener(this,a,i),t[a]=i},n=(a,i,l)=>{a.offsetX=i,a.offsetY=l,this._eventHandler(a)};ct(this.options.events,a=>s(a,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,s=(c,d)=>{r.addEventListener(this,c,d),t[c]=d},n=(c,d)=>{t[c]&&(r.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let i;const l=()=>{n("attach",l),this.attached=!0,this.resize(),s("resize",a),s("detach",i)};i=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),s("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ct(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ct(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,s){const n=s?"set":"remove";let a,i,l,c;for(r==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){i=t[l];const d=i&&this.getDatasetMeta(i.datasetIndex).controller;d&&d[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],s=t.map(({datasetIndex:a,index:i})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[i],index:i}});!fh(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(t,r,s){return this._plugins.notify(this,t,r,s)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,s){const n=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),i=a(r,t),l=s?t:a(t,r);i.length&&this.updateHoverStyle(i,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(t,r){const s={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},n=i=>(i.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===!1)return;const a=this._handleEvent(t,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(a||s.changed)&&this.render(),this}_handleEvent(t,r,s){const{_active:n=[],options:a}=this,i=r,l=this._getActiveElements(t,n,s,i),c=hL(t),d=o9(t,this._lastEvent,s,c);s&&(this._lastEvent=null,mt(a.onHover,[t,l,this],this),c&&mt(a.onClick,[t,l,this],this));const u=!fh(l,n);return(u||r)&&(this._active=l,this._updateHoverStyles(l,n,r)),this._lastEvent=d,u}_getActiveElements(t,r,s,n){if(t.type==="mouseout")return[];if(!s)return r;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,n)}},Se(Fa,"defaults",Lt),Se(Fa,"instances",jf),Se(Fa,"overrides",Po),Se(Fa,"registry",Sn),Se(Fa,"version",s9),Se(Fa,"getChart",dw),Fa);function uw(){return ct(gm.instances,e=>e._plugins.invalidate())}function l9(e,t,r){const{startAngle:s,x:n,y:a,outerRadius:i,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,f=Math.min(d/i,Er(s-r));if(e.beginPath(),e.arc(n,a,i-d/2,s+f/2,r-f/2),l>0){const h=Math.min(d/l,Er(s-r));e.arc(n,a,l+d/2,r-h/2,s+h/2,!0)}else{const h=Math.min(d/2,i*Er(s-r));if(u==="round")e.arc(n,a,h,r-lt/2,s+lt/2,!0);else if(u==="bevel"){const m=2*h*h,x=-m*Math.cos(r+lt/2)+n,p=-m*Math.sin(r+lt/2)+a,g=m*Math.cos(s+lt/2)+n,y=m*Math.sin(s+lt/2)+a;e.lineTo(x,p),e.lineTo(g,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function c9(e,t,r){const{startAngle:s,pixelMargin:n,x:a,y:i,outerRadius:l,innerRadius:c}=t;let d=n/l;e.beginPath(),e.arc(a,i,l,s-d,r+d),c>n?(d=n/c,e.arc(a,i,c,r+d,s-d,!0)):e.arc(a,i,n,r+$t,s-$t),e.closePath(),e.clip()}function d9(e){return xy(e,["outerStart","outerEnd","innerStart","innerEnd"])}function u9(e,t,r,s){const n=d9(e.options.borderRadius),a=(r-t)/2,i=Math.min(a,s*t/2),l=c=>{const d=(r-Math.min(a,c))*s/2;return Pr(c,0,Math.min(a,d))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:Pr(n.innerStart,0,i),innerEnd:Pr(n.innerEnd,0,i)}}function Jo(e,t,r,s){return{x:r+e*Math.cos(t),y:s+e*Math.sin(t)}}function yh(e,t,r,s,n,a){const{x:i,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,f=Math.max(t.outerRadius+s+r-d,0),h=u>0?u+s+r+d:0;let m=0;const x=n-c;if(s){const L=u>0?u-s:0,G=f>0?f-s:0,oe=(L+G)/2,ne=oe!==0?x*oe/(oe+s):x;m=(x-ne)/2}const p=Math.max(.001,x*f-r/lt)/f,g=(x-p)/2,y=c+g+m,v=n-g-m,{outerStart:b,outerEnd:_,innerStart:j,innerEnd:S}=u9(t,h,f,v-y),N=f-b,k=f-_,E=y+b/N,C=v-_/k,A=h+j,F=h+S,M=y+j/A,Y=v-S/F;if(e.beginPath(),a){const L=(E+C)/2;if(e.arc(i,l,f,E,L),e.arc(i,l,f,L,C),_>0){const V=Jo(k,C,i,l);e.arc(V.x,V.y,_,C,v+$t)}const G=Jo(F,v,i,l);if(e.lineTo(G.x,G.y),S>0){const V=Jo(F,Y,i,l);e.arc(V.x,V.y,S,v+$t,Y+Math.PI)}const oe=(v-S/h+(y+j/h))/2;if(e.arc(i,l,h,v-S/h,oe,!0),e.arc(i,l,h,oe,y+j/h,!0),j>0){const V=Jo(A,M,i,l);e.arc(V.x,V.y,j,M+Math.PI,y-$t)}const ne=Jo(N,y,i,l);if(e.lineTo(ne.x,ne.y),b>0){const V=Jo(N,E,i,l);e.arc(V.x,V.y,b,y-$t,E)}}else{e.moveTo(i,l);const L=Math.cos(E)*f+i,G=Math.sin(E)*f+l;e.lineTo(L,G);const oe=Math.cos(C)*f+i,ne=Math.sin(C)*f+l;e.lineTo(oe,ne)}e.closePath()}function f9(e,t,r,s,n){const{fullCircles:a,startAngle:i,circumference:l}=t;let c=t.endAngle;if(a){yh(e,t,r,s,c,n);for(let d=0;d<a;++d)e.fill();isNaN(l)||(c=i+(l%kt||kt))}return yh(e,t,r,s,c,n),e.fill(),c}function h9(e,t,r,s,n){const{fullCircles:a,startAngle:i,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:m}=c,x=c.borderAlign==="inner";if(!d)return;e.setLineDash(f||[]),e.lineDashOffset=h,x?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let p=t.endAngle;if(a){yh(e,t,r,s,p,n);for(let g=0;g<a;++g)e.stroke();isNaN(l)||(p=i+(l%kt||kt))}x&&c9(e,t,p),c.selfJoin&&p-i>=lt&&m===0&&u!=="miter"&&l9(e,t,p),a||(yh(e,t,r,s,p,n),e.stroke())}class ad extends yn{constructor(r){super();Se(this,"circumference");Se(this,"endAngle");Se(this,"fullCircles");Se(this,"innerRadius");Se(this,"outerRadius");Se(this,"pixelMargin");Se(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,s,n){const a=this.getProps(["x","y"],n),{angle:i,distance:l}=K5(a,{x:r,y:s}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),m=(this.options.spacing+this.options.borderWidth)/2,x=Ke(h,d-c),p=du(i,c,d)&&c!==d,g=x>=kt||p,y=ia(l,u+m,f+m);return g&&y}getCenterPoint(r){const{x:s,y:n,startAngle:a,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,f=(a+i)/2,h=(l+c+u+d)/2;return{x:s+Math.cos(f)*h,y:n+Math.sin(f)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:s,circumference:n}=this,a=(s.offset||0)/4,i=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>kt?Math.floor(n/kt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(lt,n||0)),u=a*d;r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,f9(r,this,u,i,l),h9(r,this,u,i,l),r.restore()}}Se(ad,"id","arc"),Se(ad,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Se(ad,"defaultRoutes",{backgroundColor:"backgroundColor"}),Se(ad,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function jj(e,t,r=t){e.lineCap=Ke(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Ke(r.borderDash,t.borderDash)),e.lineDashOffset=Ke(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Ke(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ke(r.borderWidth,t.borderWidth),e.strokeStyle=Ke(r.borderColor,t.borderColor)}function m9(e,t,r){e.lineTo(r.x,r.y)}function x9(e){return e.stepped?IL:e.tension||e.cubicInterpolationMode==="monotone"?BL:m9}function Ej(e,t,r={}){const s=e.length,{start:n=0,end:a=s-1}=r,{start:i,end:l}=t,c=Math.max(n,i),d=Math.min(a,l),u=n<i&&a<i||n>l&&a>l;return{count:s,start:c,loop:t.loop,ilen:d<c&&!u?s+d-c:d-c}}function p9(e,t,r,s){const{points:n,options:a}=t,{count:i,start:l,loop:c,ilen:d}=Ej(n,r,s),u=x9(a);let{move:f=!0,reverse:h}=s||{},m,x,p;for(m=0;m<=d;++m)x=n[(l+(h?d-m:m))%i],!x.skip&&(f?(e.moveTo(x.x,x.y),f=!1):u(e,p,x,h,a.stepped),p=x);return c&&(x=n[(l+(h?d:0))%i],u(e,p,x,h,a.stepped)),!!c}function g9(e,t,r,s){const n=t.points,{count:a,start:i,ilen:l}=Ej(n,r,s),{move:c=!0,reverse:d}=s||{};let u=0,f=0,h,m,x,p,g,y;const v=_=>(i+(d?l-_:_))%a,b=()=>{p!==g&&(e.lineTo(u,g),e.lineTo(u,p),e.lineTo(u,y))};for(c&&(m=n[v(0)],e.moveTo(m.x,m.y)),h=0;h<=l;++h){if(m=n[v(h)],m.skip)continue;const _=m.x,j=m.y,S=_|0;S===x?(j<p?p=j:j>g&&(g=j),u=(f*u+_)/++f):(b(),e.lineTo(_,j),x=S,f=0,p=g=j),y=j}b()}function gg(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?g9:p9}function y9(e){return e.stepped?g7:e.tension||e.cubicInterpolationMode==="monotone"?y7:Vi}function v9(e,t,r,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,r,s)&&n.closePath()),jj(e,t.options),e.stroke(n)}function b9(e,t,r,s){const{segments:n,options:a}=t,i=gg(t);for(const l of n)jj(e,a,l.style),e.beginPath(),i(e,t,l,{start:r,end:r+s-1})&&e.closePath(),e.stroke()}const w9=typeof Path2D=="function";function k9(e,t,r,s){w9&&!t.options.segment?v9(e,t,r,s):b9(e,t,r,s)}class ni extends yn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;c7(this._points,s,t,n,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=N7(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,s=t.length;return s&&r[t[s-1].end]}interpolate(t,r){const s=this.options,n=t[r],a=this.points,i=uj(this,{property:r,start:n,end:n});if(!i.length)return;const l=[],c=y9(s);let d,u;for(d=0,u=i.length;d<u;++d){const{start:f,end:h}=i[d],m=a[f],x=a[h];if(m===x){l.push(m);continue}const p=Math.abs((n-m[r])/(x[r]-m[r])),g=c(m,x,p,s.stepped);g[r]=t[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(t,r,s){return gg(this)(t,this,r,s)}path(t,r,s){const n=this.segments,a=gg(this);let i=this._loop;r=r||0,s=s||this.points.length-r;for(const l of n)i&=a(t,this,l,{start:r,end:r+s-1});return!!i}draw(t,r,s,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),k9(t,this,s,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Se(ni,"id","line"),Se(ni,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Se(ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Se(ni,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function fw(e,t,r,s){const n=e.options,{[r]:a}=e.getProps([r],s);return Math.abs(t-a)<n.radius+n.hitRadius}class Ef extends yn{constructor(r){super();Se(this,"parsed");Se(this,"skip");Se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,s,n){const a=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(r-i,2)+Math.pow(s-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(r,s){return fw(this,r,"x",s)}inYRange(r,s){return fw(this,r,"y",s)}getCenterPoint(r){const{x:s,y:n}=this.getProps(["x","y"],r);return{x:s,y:n}}size(r){r=r||this.options||{};let s=r.radius||0;s=Math.max(s,s&&r.hoverRadius||0);const n=s&&r.borderWidth||0;return(s+n)*2}draw(r,s){const n=this.options;this.skip||n.radius<.1||!oa(this,s,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,mg(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Se(Ef,"id","point"),Se(Ef,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Se(Ef,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sj(e,t){const{x:r,y:s,base:n,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,f;return e.horizontal?(f=i/2,l=Math.min(r,n),c=Math.max(r,n),d=s-f,u=s+f):(f=a/2,l=r-f,c=r+f,d=Math.min(s,n),u=Math.max(s,n)),{left:l,top:d,right:c,bottom:u}}function ai(e,t,r,s){return e?0:Pr(t,r,s)}function _9(e,t,r){const s=e.options.borderWidth,n=e.borderSkipped,a=tj(s);return{t:ai(n.top,a.top,0,r),r:ai(n.right,a.right,0,t),b:ai(n.bottom,a.bottom,0,r),l:ai(n.left,a.left,0,t)}}function N9(e,t,r){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,a=xo(n),i=Math.min(t,r),l=e.borderSkipped,c=s||Ze(n);return{topLeft:ai(!c||l.top||l.left,a.topLeft,0,i),topRight:ai(!c||l.top||l.right,a.topRight,0,i),bottomLeft:ai(!c||l.bottom||l.left,a.bottomLeft,0,i),bottomRight:ai(!c||l.bottom||l.right,a.bottomRight,0,i)}}function j9(e){const t=Sj(e),r=t.right-t.left,s=t.bottom-t.top,n=_9(e,r/2,s/2),a=N9(e,r/2,s/2);return{outer:{x:t.left,y:t.top,w:r,h:s,radius:a},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function kx(e,t,r,s){const n=t===null,a=r===null,l=e&&!(n&&a)&&Sj(e,s);return l&&(n||ia(t,l.left,l.right))&&(a||ia(r,l.top,l.bottom))}function E9(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function S9(e,t){e.rect(t.x,t.y,t.w,t.h)}function _x(e,t,r={}){const s=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-s,i=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+s,y:e.y+n,w:e.w+a,h:e.h+i,radius:e.radius}}class Sf extends yn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:s,backgroundColor:n}}=this,{inner:a,outer:i}=j9(this),l=E9(i.radius)?uu:S9;t.save(),(i.w!==a.w||i.h!==a.h)&&(t.beginPath(),l(t,_x(i,r,a)),t.clip(),l(t,_x(a,-r,i)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),l(t,_x(a,r)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,r,s){return kx(this,t,r,s)}inXRange(t,r){return kx(this,t,null,r)}inYRange(t,r){return kx(this,null,t,r)}getCenterPoint(t){const{x:r,y:s,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(r+n)/2:r,y:a?s:(s+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Se(Sf,"id","bar"),Se(Sf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Se(Sf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function C9(e,t,r){const s=e.segments,n=e.points,a=t.points,i=[];for(const l of s){let{start:c,end:d}=l;d=ym(c,d,n);const u=yg(r,n[c],n[d],l.loop);if(!t.segments){i.push({source:l,target:u,start:n[c],end:n[d]});continue}const f=uj(t,u);for(const h of f){const m=yg(r,a[h.start],a[h.end],h.loop),x=dj(l,n,m);for(const p of x)i.push({source:p,target:h,start:{[r]:hw(u,m,"start",Math.max)},end:{[r]:hw(u,m,"end",Math.min)}})}}return i}function yg(e,t,r,s){if(s)return;let n=t[e],a=r[e];return e==="angle"&&(n=Er(n),a=Er(a)),{property:e,start:n,end:a}}function T9(e,t){const{x:r=null,y:s=null}=e||{},n=t.points,a=[];return t.segments.forEach(({start:i,end:l})=>{l=ym(i,l,n);const c=n[i],d=n[l];s!==null?(a.push({x:c.x,y:s}),a.push({x:d.x,y:s})):r!==null&&(a.push({x:r,y:c.y}),a.push({x:r,y:d.y}))}),a}function ym(e,t,r){for(;t>e;t--){const s=r[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function hw(e,t,r,s){return e&&t?s(e[r],t[r]):e?e[r]:t?t[r]:0}function Cj(e,t){let r=[],s=!1;return bt(e)?(s=!0,r=e):r=T9(e,t),r.length?new ni({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function mw(e){return e&&e.fill!==!1}function A9(e,t,r){let n=e[t].fill;const a=[t];let i;if(!r)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!Ot(n))return n;if(i=e[n],!i)return!1;if(i.visible)return n;a.push(n),n=i.fill}return!1}function F9(e,t,r){const s=O9(e);if(Ze(s))return isNaN(s.value)?!1:s;let n=parseFloat(s);return Ot(n)&&Math.floor(n)===n?R9(s[0],t,n,r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function R9(e,t,r,s){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=s?!1:r}function P9(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Ze(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function M9(e,t,r){let s;return e==="start"?s=r:e==="end"?s=t.options.reverse?t.min:t.max:Ze(e)?s=e.value:s=t.getBaseValue(),s}function O9(e){const t=e.options,r=t.fill;let s=Ke(r&&r.target,r);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function L9(e){const{scale:t,index:r,line:s}=e,n=[],a=s.segments,i=s.points,l=D9(t,r);l.push(Cj({x:null,y:t.bottom},s));for(let c=0;c<a.length;c++){const d=a[c];for(let u=d.start;u<=d.end;u++)I9(n,i[u],l)}return new ni({points:n,options:{}})}function D9(e,t){const r=[],s=e.getMatchingVisibleMetas("line");for(let n=0;n<s.length;n++){const a=s[n];if(a.index===t)break;a.hidden||r.unshift(a.dataset)}return r}function I9(e,t,r){const s=[];for(let n=0;n<r.length;n++){const a=r[n],{first:i,last:l,point:c}=B9(a,t,"x");if(!(!c||i&&l)){if(i)s.unshift(c);else if(e.push(c),!l)break}}e.push(...s)}function B9(e,t,r){const s=e.interpolate(t,r);if(!s)return{};const n=s[r],a=e.segments,i=e.points;let l=!1,c=!1;for(let d=0;d<a.length;d++){const u=a[d],f=i[u.start][r],h=i[u.end][r];if(ia(n,f,h)){l=n===f,c=n===h;break}}return{first:l,last:c,point:s}}class Tj{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,s){const{x:n,y:a,radius:i}=this;return r=r||{start:0,end:kt},t.arc(n,a,i,r.end,r.start,!0),!s.bounds}interpolate(t){const{x:r,y:s,radius:n}=this,a=t.angle;return{x:r+Math.cos(a)*n,y:s+Math.sin(a)*n,angle:a}}}function U9(e){const{chart:t,fill:r,line:s}=e;if(Ot(r))return $9(t,r);if(r==="stack")return L9(e);if(r==="shape")return!0;const n=z9(e);return n instanceof Tj?n:Cj(n,s)}function $9(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function z9(e){return(e.scale||{}).getPointPositionForValue?H9(e):V9(e)}function V9(e){const{scale:t={},fill:r}=e,s=P9(r,t);if(Ot(s)){const n=t.isHorizontal();return{x:n?s:null,y:n?null:s}}return null}function H9(e){const{scale:t,fill:r}=e,s=t.options,n=t.getLabels().length,a=s.reverse?t.max:t.min,i=M9(r,t,a),l=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,a);return new Tj({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(i)})}for(let c=0;c<n;++c)l.push(t.getPointPositionForValue(c,i));return l}function Nx(e,t,r){const s=U9(t),{chart:n,index:a,line:i,scale:l,axis:c}=t,d=i.options,u=d.fill,f=d.backgroundColor,{above:h=f,below:m=f}=u||{},x=n.getDatasetMeta(a),p=fj(n,x);s&&i.points.length&&(mm(e,r),W9(e,{line:i,target:s,above:h,below:m,area:r,scale:l,axis:c,clip:p}),xm(e))}function W9(e,t){const{line:r,target:s,above:n,below:a,area:i,scale:l,clip:c}=t,d=r._loop?"angle":t.axis;e.save();let u=a;a!==n&&(d==="x"?(xw(e,s,i.top),jx(e,{line:r,target:s,color:n,scale:l,property:d,clip:c}),e.restore(),e.save(),xw(e,s,i.bottom)):d==="y"&&(pw(e,s,i.left),jx(e,{line:r,target:s,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),pw(e,s,i.right),u=n)),jx(e,{line:r,target:s,color:u,scale:l,property:d,clip:c}),e.restore()}function xw(e,t,r){const{segments:s,points:n}=t;let a=!0,i=!1;e.beginPath();for(const l of s){const{start:c,end:d}=l,u=n[c],f=n[ym(c,d,n)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(f.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function pw(e,t,r){const{segments:s,points:n}=t;let a=!0,i=!1;e.beginPath();for(const l of s){const{start:c,end:d}=l,u=n[c],f=n[ym(c,d,n)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(r,u.y),e.lineTo(u.x,u.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(r,f.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function jx(e,t){const{line:r,target:s,property:n,color:a,scale:i,clip:l}=t,c=C9(r,s,n);for(const{source:d,target:u,start:f,end:h}of c){const{style:{backgroundColor:m=a}={}}=d,x=s!==!0;e.save(),e.fillStyle=m,q9(e,i,l,x&&yg(n,f,h)),e.beginPath();const p=!!r.pathSegment(e,d);let g;if(x){p?e.closePath():gw(e,s,h,n);const y=!!s.pathSegment(e,u,{move:p,reverse:!0});g=p&&y,g||gw(e,s,f,n)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function q9(e,t,r,s){const n=t.chart.chartArea,{property:a,start:i,end:l}=s||{};if(a==="x"||a==="y"){let c,d,u,f;a==="x"?(c=i,d=n.top,u=l,f=n.bottom):(c=n.left,d=i,u=n.right,f=l),e.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),f=Math.min(f,r.bottom)),e.rect(c,d,u-c,f-d),e.clip()}}function gw(e,t,r,s){const n=t.interpolate(r,s);n&&e.lineTo(n.x,n.y)}var G9={id:"filler",afterDatasetsUpdate(e,t,r){const s=(e.data.datasets||[]).length,n=[];let a,i,l,c;for(i=0;i<s;++i)a=e.getDatasetMeta(i),l=a.dataset,c=null,l&&l.options&&l instanceof ni&&(c={visible:e.isDatasetVisible(i),index:i,fill:F9(l,i,s),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,n.push(c);for(i=0;i<s;++i)c=n[i],!(!c||c.fill===!1)&&(c.fill=A9(n,i,r.propagate))},beforeDraw(e,t,r){const s=r.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=n.length-1;i>=0;--i){const l=n[i].$filler;l&&(l.line.updateControlPoints(a,l.axis),s&&l.fill&&Nx(e.ctx,l,a))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let n=s.length-1;n>=0;--n){const a=s[n].$filler;mw(a)&&Nx(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,r){const s=t.meta.$filler;!mw(s)||r.drawTime!=="beforeDatasetDraw"||Nx(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yw=(e,t)=>{let{boxHeight:r=t,boxWidth:s=t}=e;return e.usePointStyle&&(r=Math.min(r,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(t,r)}},K9=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class vw extends yn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,s){this.maxWidth=t,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=mt(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(s=>t.filter(s,this.chart.data))),t.sort&&(r=r.sort((s,n)=>t.sort(s,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,n=nr(s.font),a=n.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=yw(s,a);let d,u;r.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(i,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(i,n,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,s,n){const{ctx:a,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+l;let f=t;a.textAlign="left",a.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((x,p)=>{const g=s+r/2+a.measureText(x.text).width;(p===0||d[d.length-1]+g+2*l>i)&&(f+=u,d[d.length-(p>0?0:1)]=0,m+=u,h++),c[p]={left:0,top:m,row:h,width:g,height:n},d[d.length-1]+=g+l}),f}_fitCols(t,r,s,n){const{ctx:a,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=i-t;let f=l,h=0,m=0,x=0,p=0;return this.legendItems.forEach((g,y)=>{const{itemWidth:v,itemHeight:b}=X9(s,r,a,g,n);y>0&&m+b+2*l>u&&(f+=h+l,d.push({width:h,height:m}),x+=h+l,p++,h=m=0),c[y]={left:x,top:m,col:p,width:v,height:b},h=Math.max(h,v),m+=b+l}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:n},rtl:a}}=this,i=Cl(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=jr(s,this.left+n,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=jr(s,this.left+n,this.right-this.lineWidths[l])),d.top+=this.top+t+n,d.left=i.leftForLtr(i.x(c),d.width),c+=d.width+n}else{let l=0,c=jr(s,this.top+t+n,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=jr(s,this.top+t+n,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+n,d.left=i.leftForLtr(i.x(d.left),d.width),c+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;mm(t,this),this._draw(),xm(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:s,ctx:n}=this,{align:a,labels:i}=t,l=Lt.color,c=Cl(t.rtl,this.left,this.width),d=nr(i.font),{padding:u}=i,f=d.size,h=f/2;let m;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:x,boxHeight:p,itemHeight:g}=yw(i,f),y=function(S,N,k){if(isNaN(x)||x<=0||isNaN(p)||p<0)return;n.save();const E=Ke(k.lineWidth,1);if(n.fillStyle=Ke(k.fillStyle,l),n.lineCap=Ke(k.lineCap,"butt"),n.lineDashOffset=Ke(k.lineDashOffset,0),n.lineJoin=Ke(k.lineJoin,"miter"),n.lineWidth=E,n.strokeStyle=Ke(k.strokeStyle,l),n.setLineDash(Ke(k.lineDash,[])),i.usePointStyle){const C={radius:p*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:E},A=c.xPlus(S,x/2),F=N+h;ej(n,C,A,F,i.pointStyleWidth&&x)}else{const C=N+Math.max((f-p)/2,0),A=c.leftForLtr(S,x),F=xo(k.borderRadius);n.beginPath(),Object.values(F).some(M=>M!==0)?uu(n,{x:A,y:C,w:x,h:p,radius:F}):n.rect(A,C,x,p),n.fill(),E!==0&&n.stroke()}n.restore()},v=function(S,N,k){Mo(n,k.text,S,N+g/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?m={x:jr(a,this.left+u,this.right-s[0]),y:this.top+u+_,line:0}:m={x:this.left+u,y:jr(a,this.top+_+u,this.bottom-r[0].height),line:0},oj(this.ctx,t.textDirection);const j=g+u;this.legendItems.forEach((S,N)=>{n.strokeStyle=S.fontColor,n.fillStyle=S.fontColor;const k=n.measureText(S.text).width,E=c.textAlign(S.textAlign||(S.textAlign=i.textAlign)),C=x+h+k;let A=m.x,F=m.y;c.setWidth(this.width),b?N>0&&A+C+u>this.right&&(F=m.y+=j,m.line++,A=m.x=jr(a,this.left+u,this.right-s[m.line])):N>0&&F+j>this.bottom&&(A=m.x=A+r[m.line].width+u,m.line++,F=m.y=jr(a,this.top+_+u,this.bottom-r[m.line].height));const M=c.x(A);if(y(M,F,S),A=jL(E,A+x+h,b?A+C:this.right,t.rtl),v(c.x(A),F,S),b)m.x+=C+u;else if(typeof S.text!="string"){const Y=d.lineHeight;m.y+=Aj(S,Y)+u}else m.y+=j}),lj(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,s=nr(r.font),n=Ir(r.padding);if(!r.display)return;const a=Cl(t.rtl,this.left,this.width),i=this.ctx,l=r.position,c=s.size/2,d=n.top+c;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,f=jr(t.align,f,this.right-h);else{const x=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);u=d+jr(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const m=jr(l,f,f+h);i.textAlign=a.textAlign(hy(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=s.string,Mo(i,r.text,m,u,s)}_computeTitleHeight(){const t=this.options.title,r=nr(t.font),s=Ir(t.padding);return t.display?r.lineHeight+s.height:0}_getLegendItemAt(t,r){let s,n,a;if(ia(t,this.left,this.right)&&ia(r,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(n=a[s],ia(t,n.left,n.left+n.width)&&ia(r,n.top,n.top+n.height))return this.legendItems[s]}return null}handleEvent(t){const r=this.options;if(!Z9(t.type,r))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,a=K9(n,s);n&&!a&&mt(r.onLeave,[t,n,this],this),this._hoveredItem=s,s&&!a&&mt(r.onHover,[t,s,this],this)}else s&&mt(r.onClick,[t,s,this],this)}}function X9(e,t,r,s,n){const a=Y9(s,e,t,r),i=Q9(n,s,t.lineHeight);return{itemWidth:a,itemHeight:i}}function Y9(e,t,r,s){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((a,i)=>a.length>i.length?a:i)),t+r.size/2+s.measureText(n).width}function Q9(e,t,r){let s=e;return typeof t.text!="string"&&(s=Aj(t,r)),s}function Aj(e,t){const r=e.text?e.text.length:0;return t*r}function Z9(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var J9={id:"legend",_element:vw,start(e,t,r){const s=e.legend=new vw({ctx:e.ctx,options:r,chart:e});Bs.configure(e,s,r),Bs.addBox(e,s)},stop(e){Bs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const s=e.legend;Bs.configure(e,s,r),s.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const s=t.datasetIndex,n=r.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:n,color:a,useBorderRadius:i,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=Ir(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:i&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fj extends yn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const n=bt(s.text)?s.text.length:1;this._padding=Ir(s.padding);const a=n*nr(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:s,bottom:n,right:a,options:i}=this,l=i.align;let c=0,d,u,f;return this.isHorizontal()?(u=jr(l,s,a),f=r+t,d=a-s):(i.position==="left"?(u=s+t,f=jr(l,n,r),c=lt*-.5):(u=a-t,f=jr(l,r,n),c=lt*.5),d=n-r),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const s=nr(r.font),a=s.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);Mo(t,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:hy(r.align),textBaseline:"middle",translation:[i,l]})}}function eI(e,t){const r=new Fj({ctx:e.ctx,options:t,chart:e});Bs.configure(e,r,t),Bs.addBox(e,r),e.titleBlock=r}var tI={id:"title",_element:Fj,start(e,t,r){eI(e,r)},stop(e){const t=e.titleBlock;Bs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const s=e.titleBlock;Bs.configure(e,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id={average(e){if(!e.length)return!1;let t,r,s=new Set,n=0,a=0;for(t=0,r=e.length;t<r;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),n+=c.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:n/a}},nearest(e,t){if(!e.length)return!1;let r=t.x,s=t.y,n=Number.POSITIVE_INFINITY,a,i,l;for(a=0,i=e.length;a<i;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=fg(t,d);u<n&&(n=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,s=c.y}return{x:r,y:s}}};function Nn(e,t){return t&&(bt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Yn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function rI(e,t){const{element:r,datasetIndex:s,index:n}=t,a=e.getDatasetMeta(s).controller,{label:i,value:l}=a.getLabelAndValue(n);return{chart:e,label:i,parsed:a.getParsed(n),raw:e.data.datasets[s].data[n],formattedValue:l,dataset:a.getDataset(),dataIndex:n,datasetIndex:s,element:r}}function bw(e,t){const r=e.chart.ctx,{body:s,footer:n,title:a}=e,{boxWidth:i,boxHeight:l}=t,c=nr(t.bodyFont),d=nr(t.titleFont),u=nr(t.footerFont),f=a.length,h=n.length,m=s.length,x=Ir(t.padding);let p=x.height,g=0,y=s.reduce((_,j)=>_+j.before.length+j.lines.length+j.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(p+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const _=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=m*_+(y-m)*c.lineHeight+(y-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(_){g=Math.max(g,r.measureText(_).width+v)};return r.save(),r.font=d.string,ct(e.title,b),r.font=c.string,ct(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?i+2+t.boxPadding:0,ct(s,_=>{ct(_.before,b),ct(_.lines,b),ct(_.after,b)}),v=0,r.font=u.string,ct(e.footer,b),r.restore(),g+=x.width,{width:g,height:p}}function sI(e,t){const{y:r,height:s}=t;return r<s/2?"top":r>e.height-s/2?"bottom":"center"}function nI(e,t,r,s){const{x:n,width:a}=s,i=r.caretSize+r.caretPadding;if(e==="left"&&n+a+i>t.width||e==="right"&&n-a-i<0)return!0}function aI(e,t,r,s){const{x:n,width:a}=r,{width:i,chartArea:{left:l,right:c}}=e;let d="center";return s==="center"?d=n<=(l+c)/2?"left":"right":n<=a/2?d="left":n>=i-a/2&&(d="right"),nI(d,e,t,r)&&(d="center"),d}function ww(e,t,r){const s=r.yAlign||t.yAlign||sI(e,r);return{xAlign:r.xAlign||t.xAlign||aI(e,t,r,s),yAlign:s}}function iI(e,t){let{x:r,width:s}=e;return t==="right"?r-=s:t==="center"&&(r-=s/2),r}function oI(e,t,r){let{y:s,height:n}=e;return t==="top"?s+=r:t==="bottom"?s-=n+r:s-=n/2,s}function kw(e,t,r,s){const{caretSize:n,caretPadding:a,cornerRadius:i}=e,{xAlign:l,yAlign:c}=r,d=n+a,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=xo(i);let x=iI(t,l);const p=oI(t,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,h)+n:l==="right"&&(x+=Math.max(f,m)+n),{x:Pr(x,0,s.width-t.width),y:Pr(p,0,s.height-t.height)}}function $0(e,t,r){const s=Ir(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function _w(e){return Nn([],Yn(e))}function lI(e,t,r){return Pi(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function Nw(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const Rj={beforeTitle:Gn,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return r[t.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return it(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function ts(e,t,r,s){const n=e[t].call(r,s);return typeof n>"u"?Rj[t].call(r,s):n}class vg extends yn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&r.options.animation&&s.animations,a=new hj(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=lI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:s}=r,n=ts(s,"beforeTitle",this,t),a=ts(s,"title",this,t),i=ts(s,"afterTitle",this,t);let l=[];return l=Nn(l,Yn(n)),l=Nn(l,Yn(a)),l=Nn(l,Yn(i)),l}getBeforeBody(t,r){return _w(ts(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:s}=r,n=[];return ct(t,a=>{const i={before:[],lines:[],after:[]},l=Nw(s,a);Nn(i.before,Yn(ts(l,"beforeLabel",this,a))),Nn(i.lines,ts(l,"label",this,a)),Nn(i.after,Yn(ts(l,"afterLabel",this,a))),n.push(i)}),n}getAfterBody(t,r){return _w(ts(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:s}=r,n=ts(s,"beforeFooter",this,t),a=ts(s,"footer",this,t),i=ts(s,"afterFooter",this,t);let l=[];return l=Nn(l,Yn(n)),l=Nn(l,Yn(a)),l=Nn(l,Yn(i)),l}_createItems(t){const r=this._active,s=this.chart.data,n=[],a=[],i=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(rI(this.chart,r[c]));return t.filter&&(l=l.filter((u,f,h)=>t.filter(u,f,h,s))),t.itemSort&&(l=l.sort((u,f)=>t.itemSort(u,f,s))),ct(l,u=>{const f=Nw(t.callbacks,u);n.push(ts(f,"labelColor",this,u)),a.push(ts(f,"labelPointStyle",this,u)),i.push(ts(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=i,this.dataPoints=l,l}update(t,r){const s=this.options.setContext(this.getContext()),n=this._active;let a,i=[];if(!n.length)this.opacity!==0&&(a={opacity:0});else{const l=id[s.position].call(this,n,this._eventPosition);i=this._createItems(s),this.title=this.getTitle(i,s),this.beforeBody=this.getBeforeBody(i,s),this.body=this.getBody(i,s),this.afterBody=this.getAfterBody(i,s),this.footer=this.getFooter(i,s);const c=this._size=bw(this,s),d=Object.assign({},l,c),u=ww(this.chart,s,d),f=kw(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,s,n){const a=this.getCaretPosition(t,s,n);r.lineTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineTo(a.x3,a.y3)}getCaretPosition(t,r,s){const{xAlign:n,yAlign:a}=this,{caretSize:i,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=xo(l),{x:h,y:m}=t,{width:x,height:p}=r;let g,y,v,b,_,j;return a==="center"?(_=m+p/2,n==="left"?(g=h,y=g-i,b=_+i,j=_-i):(g=h+x,y=g+i,b=_-i,j=_+i),v=g):(n==="left"?y=h+Math.max(c,u)+i:n==="right"?y=h+x-Math.max(d,f)-i:y=this.caretX,a==="top"?(b=m,_=b-i,g=y-i,v=y+i):(b=m+p,_=b+i,g=y+i,v=y-i),j=b),{x1:g,x2:y,x3:v,y1:b,y2:_,y3:j}}drawTitle(t,r,s){const n=this.title,a=n.length;let i,l,c;if(a){const d=Cl(s.rtl,this.x,this.width);for(t.x=$0(this,s.titleAlign,s),r.textAlign=d.textAlign(s.titleAlign),r.textBaseline="middle",i=nr(s.titleFont),l=s.titleSpacing,r.fillStyle=s.titleColor,r.font=i.string,c=0;c<a;++c)r.fillText(n[c],d.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+l,c+1===a&&(t.y+=s.titleMarginBottom-l)}}_drawColorBox(t,r,s,n,a){const i=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=a,u=nr(a.bodyFont),f=$0(this,"left",a),h=n.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,x=r.y+m;if(a.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=n.leftForLtr(h,d)+d/2,y=x+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,mg(t,p,g,y),t.strokeStyle=i.borderColor,t.fillStyle=i.backgroundColor,mg(t,p,g,y)}else{t.lineWidth=Ze(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,t.strokeStyle=i.borderColor,t.setLineDash(i.borderDash||[]),t.lineDashOffset=i.borderDashOffset||0;const p=n.leftForLtr(h,d),g=n.leftForLtr(n.xPlus(h,1),d-2),y=xo(i.borderRadius);Object.values(y).some(v=>v!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,uu(t,{x:p,y:x,w:d,h:c,radius:y}),t.fill(),t.stroke(),t.fillStyle=i.backgroundColor,t.beginPath(),uu(t,{x:g,y:x+1,w:d-2,h:c-2,radius:y}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(p,x,d,c),t.strokeRect(p,x,d,c),t.fillStyle=i.backgroundColor,t.fillRect(g,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,r,s){const{body:n}=this,{bodySpacing:a,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,f=nr(s.bodyFont);let h=f.lineHeight,m=0;const x=Cl(s.rtl,this.x,this.width),p=function(k){r.fillText(k,x.x(t.x+m),t.y+h/2),t.y+=h+a},g=x.textAlign(i);let y,v,b,_,j,S,N;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,t.x=$0(this,g,s),r.fillStyle=s.bodyColor,ct(this.beforeBody,p),m=l&&g!=="right"?i==="center"?d/2+u:d+2+u:0,_=0,S=n.length;_<S;++_){for(y=n[_],v=this.labelTextColors[_],r.fillStyle=v,ct(y.before,p),b=y.lines,l&&b.length&&(this._drawColorBox(r,t,_,x,s),h=Math.max(f.lineHeight,c)),j=0,N=b.length;j<N;++j)p(b[j]),h=f.lineHeight;ct(y.after,p)}m=0,h=f.lineHeight,ct(this.afterBody,p),t.y-=a}drawFooter(t,r,s){const n=this.footer,a=n.length;let i,l;if(a){const c=Cl(s.rtl,this.x,this.width);for(t.x=$0(this,s.footerAlign,s),t.y+=s.footerMarginTop,r.textAlign=c.textAlign(s.footerAlign),r.textBaseline="middle",i=nr(s.footerFont),r.fillStyle=s.footerColor,r.font=i.string,l=0;l<a;++l)r.fillText(n[l],c.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+s.footerSpacing}}drawBackground(t,r,s,n){const{xAlign:a,yAlign:i}=this,{x:l,y:c}=t,{width:d,height:u}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:x}=xo(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(t,r,s,n),r.lineTo(l+d-h,c),r.quadraticCurveTo(l+d,c,l+d,c+h),i==="center"&&a==="right"&&this.drawCaret(t,r,s,n),r.lineTo(l+d,c+u-x),r.quadraticCurveTo(l+d,c+u,l+d-x,c+u),i==="bottom"&&this.drawCaret(t,r,s,n),r.lineTo(l+m,c+u),r.quadraticCurveTo(l,c+u,l,c+u-m),i==="center"&&a==="left"&&this.drawCaret(t,r,s,n),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,s=this.$animations,n=s&&s.x,a=s&&s.y;if(n||a){const i=id[t.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=bw(this,t),c=Object.assign({},i,this._size),d=ww(r,t,c),u=kw(t,c,d,r);(n._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const i=Ir(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,n,r),oj(t,r.textDirection),a.y+=i.top,this.drawTitle(a,t,r),this.drawBody(a,t,r),this.drawFooter(a,t,r),lj(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const s=this._active,n=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!fh(s,n),i=this._positionChanged(n,r);(a||i)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],i=this._getActiveElements(t,a,r,s),l=this._positionChanged(i,t),c=r||!fh(i,a)||l;return c&&(this._active=i,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,s,n){const a=this.options;if(t.type==="mouseout")return[];if(!n)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&i.reverse(),i}_positionChanged(t,r){const{caretX:s,caretY:n,options:a}=this,i=id[a.position].call(this,t,r);return i!==!1&&(s!==i.x||n!==i.y)}}Se(vg,"positioners",id);var cI={id:"tooltip",_element:vg,positioners:id,afterInit(e,t,r){r&&(e.tooltip=new vg({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Rj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dI=(e,t,r,s)=>(typeof t=="string"?(r=e.push(t)-1,s.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function uI(e,t,r,s){const n=e.indexOf(t);if(n===-1)return dI(e,t,r,s);const a=e.lastIndexOf(t);return n!==a?r:n}const fI=(e,t)=>e===null?null:Pr(Math.round(e),0,t);function jw(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class bg extends zo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:n,label:a}of r)s[n]===a&&s.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(it(t))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===t?r:uI(s,t,Ke(r,t),this._addedLabels),fI(r,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),r||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const t=this.min,r=this.max,s=this.options.offset,n=[];let a=this.getLabels();a=t===0&&r===a.length-1?a:a.slice(t,r+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let i=t;i<=r;i++)n.push({value:i});return n}getLabelForValue(t){return jw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Se(bg,"id","category"),Se(bg,"defaults",{ticks:{callback:jw}});function hI(e,t){const r=[],{bounds:n,step:a,min:i,max:l,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:h}=e,m=a||1,x=u-1,{min:p,max:g}=t,y=!it(i),v=!it(l),b=!it(d),_=(g-p)/(f+1);let j=_b((g-p)/x/m)*m,S,N,k,E;if(j<1e-14&&!y&&!v)return[{value:p},{value:g}];E=Math.ceil(g/j)-Math.floor(p/j),E>x&&(j=_b(E*j/x/m)*m),it(c)||(S=Math.pow(10,c),j=Math.ceil(j*S)/S),n==="ticks"?(N=Math.floor(p/j)*j,k=Math.ceil(g/j)*j):(N=p,k=g),y&&v&&a&&yL((l-i)/a,j/1e3)?(E=Math.round(Math.min((l-i)/j,u)),j=(l-i)/E,N=i,k=l):b?(N=y?i:N,k=v?l:k,E=d-1,j=(k-N)/E):(E=(k-N)/j,jd(E,Math.round(E),j/1e3)?E=Math.round(E):E=Math.ceil(E));const C=Math.max(Nb(j),Nb(N));S=Math.pow(10,it(c)?C:c),N=Math.round(N*S)/S,k=Math.round(k*S)/S;let A=0;for(y&&(h&&N!==i?(r.push({value:i}),N<i&&A++,jd(Math.round((N+A*j)*S)/S,i,Ew(i,_,e))&&A++):N<i&&A++);A<E;++A){const F=Math.round((N+A*j)*S)/S;if(v&&F>l)break;r.push({value:F})}return v&&h&&k!==l?r.length&&jd(r[r.length-1].value,l,Ew(l,_,e))?r[r.length-1].value=l:r.push({value:l}):(!v||k===l)&&r.push({value:k}),r}function Ew(e,t,{horizontal:r,minRotation:s}){const n=On(s),a=(r?Math.sin(n):Math.cos(n))||.001,i=.75*t*(""+e).length;return Math.min(t/a,i)}class vh extends zo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return it(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this;const i=c=>n=r?n:c,l=c=>a=s?a:c;if(t){const c=In(n),d=In(a);c<0&&d<0?l(0):c>0&&d>0&&i(0)}if(n===a){let c=a===0?1:Math.abs(a*.05);l(a+c),t||i(n-c)}this.min=n,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=t,n;return s?(n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},a=this._range||this,i=hI(n,a);return t.bounds==="ticks"&&G5(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const n=(s-r)/Math.max(t.length-1,1)/2;r-=n,s+=n}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(t){return fm(t,this.chart.options.locale,this.options.ticks.format)}}class wg extends vh{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Ot(t)?t:0,this.max=Ot(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,s=On(this.options.ticks.minRotation),n=(t?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,a.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Se(wg,"id","linear"),Se(wg,"defaults",{ticks:{callback:hm.formatters.numeric}});const hu=e=>Math.floor(si(e)),Bi=(e,t)=>Math.pow(10,hu(e)+t);function Sw(e){return e/Math.pow(10,hu(e))===1}function Cw(e,t,r){const s=Math.pow(10,r),n=Math.floor(e/s);return Math.ceil(t/s)-n}function mI(e,t){const r=t-e;let s=hu(r);for(;Cw(e,t,s)>10;)s++;for(;Cw(e,t,s)<10;)s--;return Math.min(s,hu(e))}function xI(e,{min:t,max:r}){t=xs(e.min,t);const s=[],n=hu(t);let a=mI(t,r),i=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=n>a?Math.pow(10,n):0,d=Math.round((t-c)*i)/i,u=Math.floor((t-c)/l/10)*l*10;let f=Math.floor((d-u)/Math.pow(10,a)),h=xs(e.min,Math.round((c+u+f*Math.pow(10,a))*i)/i);for(;h<r;)s.push({value:h,major:Sw(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(a++,f=2,i=a>=0?1:i),h=Math.round((c+u+f*Math.pow(10,a))*i)/i;const m=xs(e.max,h);return s.push({value:m,major:Sw(m),significand:f}),s}class Tw extends zo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const s=vh.prototype.parse.apply(this,[t,r]);if(s===0){this._zero=!0;return}return Ot(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Ot(t)?Math.max(0,t):null,this.max=Ot(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ot(this._userMin)&&(this.min=t===Bi(this.min,0)?Bi(this.min,-1):Bi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let s=this.min,n=this.max;const a=l=>s=t?s:l,i=l=>n=r?n:l;s===n&&(s<=0?(a(1),i(10)):(a(Bi(s,-1)),i(Bi(n,1)))),s<=0&&a(Bi(n,-1)),n<=0&&i(Bi(s,1)),this.min=s,this.max=n}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},s=xI(r,this);return t.bounds==="ticks"&&G5(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":fm(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=si(t),this._valueRange=si(this.max)-si(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(si(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}Se(Tw,"id","logarithmic"),Se(Tw,"defaults",{ticks:{callback:hm.formatters.logarithmic,major:{enabled:!0}}});function kg(e){const t=e.ticks;if(t.display&&e.display){const r=Ir(t.backdropPadding);return Ke(t.font&&t.font.size,Lt.font.size)+r.height}return 0}function pI(e,t,r){return r=bt(r)?r:[r],{w:DL(e,t.string,r),h:r.length*t.lineHeight}}function Aw(e,t,r,s,n){return e===s||e===n?{start:t-r/2,end:t+r/2}:e<s||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function gI(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),s=[],n=[],a=e._pointLabels.length,i=e.options.pointLabels,l=i.centerPointLabels?lt/a:0;for(let c=0;c<a;c++){const d=i.setContext(e.getPointLabelContext(c));n[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+n[c],l),f=nr(d.font),h=pI(e.ctx,f,e._pointLabels[c]);s[c]=h;const m=Er(e.getIndexAngle(c)+l),x=Math.round(uy(m)),p=Aw(x,u.x,h.w,0,180),g=Aw(x,u.y,h.h,90,270);yI(r,t,m,p,g)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=wI(e,s,n)}function yI(e,t,r,s,n){const a=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;s.start<t.l?(l=(t.l-s.start)/a,e.l=Math.min(e.l,t.l-l)):s.end>t.r&&(l=(s.end-t.r)/a,e.r=Math.max(e.r,t.r+l)),n.start<t.t?(c=(t.t-n.start)/i,e.t=Math.min(e.t,t.t-c)):n.end>t.b&&(c=(n.end-t.b)/i,e.b=Math.max(e.b,t.b+c))}function vI(e,t,r){const s=e.drawingArea,{extra:n,additionalAngle:a,padding:i,size:l}=r,c=e.getPointPosition(t,s+n+i,a),d=Math.round(uy(Er(c.angle+$t))),u=NI(c.y,l.h,d),f=kI(d),h=_I(c.x,l.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:h,top:u,right:h+l.w,bottom:u+l.h}}function bI(e,t){if(!t)return!0;const{left:r,top:s,right:n,bottom:a}=e;return!(oa({x:r,y:s},t)||oa({x:r,y:a},t)||oa({x:n,y:s},t)||oa({x:n,y:a},t))}function wI(e,t,r){const s=[],n=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:l}=a.pointLabels,c={extra:kg(a)/2,additionalAngle:i?lt/n:0};let d;for(let u=0;u<n;u++){c.padding=r[u],c.size=t[u];const f=vI(e,u,c);s.push(f),l==="auto"&&(f.visible=bI(f,d),f.visible&&(d=f))}return s}function kI(e){return e===0||e===180?"center":e<180?"left":"right"}function _I(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function NI(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function jI(e,t,r){const{left:s,top:n,right:a,bottom:i}=r,{backdropColor:l}=t;if(!it(l)){const c=xo(t.borderRadius),d=Ir(t.backdropPadding);e.fillStyle=l;const u=s-d.left,f=n-d.top,h=a-s+d.width,m=i-n+d.height;Object.values(c).some(x=>x!==0)?(e.beginPath(),uu(e,{x:u,y:f,w:h,h:m,radius:c}),e.fill()):e.fillRect(u,f,h,m)}}function EI(e,t){const{ctx:r,options:{pointLabels:s}}=e;for(let n=t-1;n>=0;n--){const a=e._pointLabelItems[n];if(!a.visible)continue;const i=s.setContext(e.getPointLabelContext(n));jI(r,i,a);const l=nr(i.font),{x:c,y:d,textAlign:u}=a;Mo(r,e._pointLabels[n],c,d+l.lineHeight/2,l,{color:i.color,textAlign:u,textBaseline:"middle"})}}function Pj(e,t,r,s){const{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,kt);else{let a=e.getPointPosition(0,t);n.moveTo(a.x,a.y);for(let i=1;i<s;i++)a=e.getPointPosition(i,t),n.lineTo(a.x,a.y)}}function SI(e,t,r,s,n){const a=e.ctx,i=t.circular,{color:l,lineWidth:c}=t;!i&&!s||!l||!c||r<0||(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash(n.dash||[]),a.lineDashOffset=n.dashOffset,a.beginPath(),Pj(e,r,i,s),a.closePath(),a.stroke(),a.restore())}function CI(e,t,r){return Pi(e,{label:r,index:t,type:"pointLabel"})}class z0 extends vh{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ir(kg(this.options)/2),r=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(r,s)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=Ot(t)&&!isNaN(t)?t:0,this.max=Ot(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/kg(this.options))}generateTickLabels(t){vh.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,s)=>{const n=mt(this.options.pointLabels.callback,[r,s],this);return n||n===0?n:""}).filter((r,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?gI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,s,n){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,s,n))}getIndexAngle(t){const r=kt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Er(t*r+On(s))}getDistanceFromCenterForValue(t){if(it(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(it(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const s=r[t];return CI(this.getContext(),t,s)}}getPointPosition(t,r,s=0){const n=this.getIndexAngle(t)-$t+s;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:s,right:n,bottom:a}=this._pointLabelItems[t];return{left:r,top:s,right:n,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Pj(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:s,grid:n,border:a}=r,i=this._pointLabels.length;let l,c,d;if(r.pointLabels.display&&EI(this,i),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),m=n.setContext(h),x=a.setContext(h);SI(this,m,c,i,x)}}),s.display){for(t.save(),l=i-1;l>=0;l--){const u=s.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:h}=u;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),d=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,s=r.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let a,i;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const d=s.setContext(this.getContext(c)),u=nr(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,i=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const f=Ir(d.backdropPadding);t.fillRect(-i/2-f.left,-a-u.size/2-f.top,i+f.width,u.size+f.height)}Mo(t,l.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Se(z0,"id","radialLinear"),Se(z0,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Se(z0,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Se(z0,"descriptors",{angleLines:{_fallback:"grid"}});const vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},os=Object.keys(vm);function Fw(e,t){return e-t}function Rw(e,t){if(it(t))return null;const r=e._adapter,{parser:s,round:n,isoWeekday:a}=e._parseOpts;let i=t;return typeof s=="function"&&(i=s(i)),Ot(i)||(i=typeof s=="string"?r.parse(i,s):r.parse(i)),i===null?null:(n&&(i=n==="week"&&(cu(a)||a===!0)?r.startOf(i,"isoWeek",a):r.startOf(i,n)),+i)}function Pw(e,t,r,s){const n=os.length;for(let a=os.indexOf(e);a<n-1;++a){const i=vm[os[a]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-t)/(l*i.size))<=s)return os[a]}return os[n-1]}function TI(e,t,r,s,n){for(let a=os.length-1;a>=os.indexOf(r);a--){const i=os[a];if(vm[i].common&&e._adapter.diff(n,s,i)>=t-1)return i}return os[r?os.indexOf(r):0]}function AI(e){for(let t=os.indexOf(e)+1,r=os.length;t<r;++t)if(vm[os[t]].common)return os[t]}function Mw(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:s,hi:n}=fy(r,t),a=r[s]>=t?r[s]:r[n];e[a]=!0}}function FI(e,t,r,s){const n=e._adapter,a=+n.startOf(t[0].value,s),i=t[t.length-1].value;let l,c;for(l=a;l<=i;l=+n.add(l,1,s))c=r[l],c>=0&&(t[c].major=!0);return t}function Ow(e,t,r){const s=[],n={},a=t.length;let i,l;for(i=0;i<a;++i)l=t[i],n[l]=i,s.push({value:l,major:!1});return a===0||!r?s:FI(e,s,n,r)}class bh extends zo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const s=t.time||(t.time={}),n=this._adapter=new J7._date(t.adapters.date);n.init(r),Nd(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:Rw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,s=t.time.unit||"day";let{min:n,max:a,minDefined:i,maxDefined:l}=this.getUserBounds();function c(d){!i&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!i||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Ot(n)&&!isNaN(n)?n:+r.startOf(Date.now(),s),a=Ot(a)&&!isNaN(a)?a:+r.endOf(Date.now(),s)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],s=t[t.length-1]),{min:r,max:s}}buildTicks(){const t=this.options,r=t.time,s=t.ticks,n=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,i=this.max,l=kL(n,a,i);return this._unit=r.unit||(s.autoSkip?Pw(r.minUnit,this.min,this.max,this._getLabelCapacity(a)):TI(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:AI(this._unit),this.initOffsets(n),t.reverse&&l.reverse(),Ow(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,s=0,n,a;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?r=1-n:r=(this.getDecimalForValue(t[1])-n)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?s=a:s=(a-this.getDecimalForValue(t[t.length-2]))/2);const i=t.length<3?.5:.25;r=Pr(r,0,i),s=Pr(s,0,i),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const t=this._adapter,r=this.min,s=this.max,n=this.options,a=n.time,i=a.unit||Pw(a.minUnit,r,s,this._getLabelCapacity(r)),l=Ke(n.ticks.stepSize,1),c=i==="week"?a.isoWeekday:!1,d=cu(c)||c===!0,u={};let f=r,h,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":i),t.diff(s,r,i)>1e5*l)throw new Error(r+" and "+s+" are too far apart with stepSize of "+l+" "+i);const x=n.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+t.add(h,l,i),m++)Mw(u,h,x);return(h===s||n.bounds==="ticks"||m===1)&&Mw(u,h,x),Object.keys(u).sort(Fw).map(p=>+p)}getLabelForValue(t){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(t,s.tooltipFormat):r.format(t,s.displayFormats.datetime)}format(t,r){const n=this.options.time.displayFormats,a=this._unit,i=r||n[a];return this._adapter.format(t,i)}_tickFormatFunction(t,r,s,n){const a=this.options,i=a.ticks.callback;if(i)return mt(i,[t,r,s],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],h=s[r],m=d&&f&&h&&h.major;return this._adapter.format(t,n||(m?f:u))}generateTickLabels(t){let r,s,n;for(r=0,s=t.length;r<s;++r)n=t[r],n.label=this._tickFormatFunction(n.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(t){const r=this._offsets,s=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,s=this.ctx.measureText(t).width,n=On(this.isHorizontal()?r.maxRotation:r.minRotation),a=Math.cos(n),i=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:s*a+l*i,h:s*i+l*a}}_getLabelCapacity(t){const r=this.options.time,s=r.displayFormats,n=s[r.unit]||s.millisecond,a=this._tickFormatFunction(t,0,Ow(this,[t],this._majorUnit),n),i=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,s;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,s=n.length;r<s;++r)t=t.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,s;if(t.length)return t;const n=this.getLabels();for(r=0,s=n.length;r<s;++r)t.push(Rw(this,n[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Y5(t.sort(Fw))}}Se(bh,"id","time"),Se(bh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function V0(e,t,r){let s=0,n=e.length-1,a,i,l,c;r?(t>=e[s].pos&&t<=e[n].pos&&({lo:s,hi:n}=Zi(e,"pos",t)),{pos:a,time:l}=e[s],{pos:i,time:c}=e[n]):(t>=e[s].time&&t<=e[n].time&&({lo:s,hi:n}=Zi(e,"time",t)),{time:a,pos:l}=e[s],{time:i,pos:c}=e[n]);const d=i-a;return d?l+(c-l)*(t-a)/d:l}class Lw extends bh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=V0(r,this.min),this._tableRange=V0(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:s}=this,n=[],a=[];let i,l,c,d,u;for(i=0,l=t.length;i<l;++i)d=t[i],d>=r&&d<=s&&n.push(d);if(n.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(i=0,l=n.length;i<l;++i)u=n[i+1],c=n[i-1],d=n[i],Math.round((u+c)/2)!==d&&a.push({time:d,pos:i/(l-1)});return a}_generate(){const t=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((n,a)=>n-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?t=this.normalize(r.concat(s)):t=r.length?r:s,t=this._cache.all=t,t}getDecimalForValue(t){return(V0(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,s=this.getDecimalForPixel(t)/r.factor-r.end;return V0(this._table,s*this._tableRange+this._minPos,!0)}}Se(Lw,"id","timeseries"),Se(Lw,"defaults",bh.defaults);const Mj="label";function Dw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function RI(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function Oj(e,t){e.labels=t}function Lj(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mj;const s=[];e.datasets=t.map(n=>{const a=e.datasets.find(i=>i[r]===n[r]);return!a||!n.data||s.includes(a)?{...n}:(s.push(a),Object.assign(a,n),a)})}function PI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mj;const r={labels:[],datasets:[]};return Oj(r,e.labels),Lj(r,e.datasets,t),r}function MI(e,t){const{height:r=150,width:s=300,redraw:n=!1,datasetIdKey:a,type:i,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...h}=e,m=w.useRef(null),x=w.useRef(null),p=()=>{m.current&&(x.current=new gm(m.current,{type:i,data:PI(l,a),options:c&&{...c},plugins:d}),Dw(t,x.current))},g=()=>{Dw(t,null),x.current&&(x.current.destroy(),x.current=null)};return w.useEffect(()=>{!n&&x.current&&c&&RI(x.current,c)},[n,c]),w.useEffect(()=>{!n&&x.current&&Oj(x.current.config.data,l.labels)},[n,l.labels]),w.useEffect(()=>{!n&&x.current&&l.datasets&&Lj(x.current.config.data,l.datasets,a)},[n,l.datasets]),w.useEffect(()=>{x.current&&(n?(g(),setTimeout(p)):x.current.update(f))},[n,c,l.labels,l.datasets,f]),w.useEffect(()=>{x.current&&(g(),setTimeout(p))},[i]),w.useEffect(()=>(p(),()=>g()),[]),Ie.createElement("canvas",{ref:m,role:"img",height:r,width:s,...h},u)}const OI=w.forwardRef(MI);function ky(e,t){return gm.register(t),w.forwardRef((r,s)=>Ie.createElement(OI,{...r,ref:s,type:e}))}const Iw=ky("line",_f),LI=ky("bar",kf),DI=ky("doughnut",sd);gm.register(bg,wg,Ef,ni,Sf,ad,tI,cI,J9,G9);function Bw({title:e,subtitle:t,type:r,data:s,height:n=300}){const{theme:a}=dm(),i=w.useRef(null),l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:a==="dark"?"#cbd5e1":"#475569",usePointStyle:!0,padding:20}},tooltip:{backgroundColor:a==="dark"?"#1e293b":"#ffffff",titleColor:a==="dark"?"#f8fafc":"#0f172a",bodyColor:a==="dark"?"#cbd5e1":"#475569",borderColor:a==="dark"?"#475569":"#e2e8f0",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:r!=="doughnut"?{x:{grid:{color:a==="dark"?"#334155":"#f1f5f9",borderColor:a==="dark"?"#475569":"#e2e8f0"},ticks:{color:a==="dark"?"#94a3b8":"#64748b"}},y:{grid:{color:a==="dark"?"#334155":"#f1f5f9",borderColor:a==="dark"?"#475569":"#e2e8f0"},ticks:{color:a==="dark"?"#94a3b8":"#64748b"}}}:void 0};w.useEffect(()=>{i.current&&i.current.update()},[a]);const c=()=>{const d={ref:i,data:s,options:l,height:n};switch(r){case"line":return o.jsx(Iw,{...d});case"bar":return o.jsx(LI,{...d});case"doughnut":return o.jsx(DI,{...d});default:return o.jsx(Iw,{...d})}};return o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:e}),t&&o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:t})]})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{style:{height:`${n}px`},children:c()})})]})}function II(){var n,a,i,l;const{data:e,isLoading:t,error:r}=tt({queryKey:["dashboard-stats"],queryFn:L8.getStats,refetchInterval:3e4});if(t)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})});if(r)return o.jsx("div",{className:"text-center py-12",children:o.jsxs("div",{className:"text-danger-600 dark:text-danger-400 mb-4",children:[o.jsx(Rr,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium",children:"Error al cargar estadsticas"}),o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-2",children:"No se pudieron cargar los datos del dashboard"})]})});const s=[{title:"Total Leads",value:(e==null?void 0:e.total_leads)||0,change:12.5,icon:rc,color:"primary",format:"number"},{title:"Conversiones",value:(e==null?void 0:e.total_conversions)||0,change:8.2,icon:_P,color:"success",format:"number"},{title:"Tasa Conversin",value:(e==null?void 0:e.conversion_rate)||0,change:-2.1,icon:Rr,color:"warning",format:"percentage"},{title:"Usuarios Activos",value:(e==null?void 0:e.total_users)||0,change:3.4,icon:ey,color:"primary",format:"number"},{title:"Mesas Activas",value:(e==null?void 0:e.total_desks)||0,change:5.7,icon:Vs,color:"secondary",format:"number"}];return o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Dashboard"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Resumen general de tu CRM de trading"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((c,d)=>o.jsx(IO,{...c,className:"animate-slide-up",style:{animationDelay:`${d*100}ms`}},c.title))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Bw,{title:"Leads por Estado",subtitle:"Distribucin de leads por estado actual",type:"doughnut",data:{labels:((n=e==null?void 0:e.leads_by_status)==null?void 0:n.map(c=>c.status))||["Sin datos"],datasets:[{data:((a=e==null?void 0:e.leads_by_status)==null?void 0:a.map(c=>c.count))||[0],backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#6b7280"]}]}}),o.jsx(Bw,{title:"Leads por Mesa",subtitle:"Distribucin de leads por mesa de trabajo",type:"bar",data:{labels:((i=e==null?void 0:e.leads_by_desk)==null?void 0:i.map(c=>c.desk_name))||["Sin datos"],datasets:[{label:"Leads",data:((l=e==null?void 0:e.leads_by_desk)==null?void 0:l.map(c=>c.leads_count))||[0],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3b82f6",borderWidth:1}]}})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Top Usuarios por Leads"})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"space-y-4",children:e!=null&&e.top_users&&e.top_users.length>0?e.top_users.map((c,d)=>{var u,f;return o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:[(u=c.first_name)==null?void 0:u.charAt(0),(f=c.last_name)==null?void 0:f.charAt(0)]})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[c.first_name," ",c.last_name]}),o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["@",c.username]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-semibold text-secondary-900 dark:text-white",children:[c.leads_count," leads"]})})]},d)}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(rc,{className:"w-12 h-12 mx-auto text-secondary-400 mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos de usuarios disponibles"})]})})})]})]})}const BI=({permission:e=null,permissions:t=[],role:r=null,roles:s=[],requireAll:n=!1,fallback:a=null,children:i})=>{const[l,c]=w.useState(!1),[d,u]=w.useState(!0);w.useEffect(()=>{f()},[e,t,r,s,n]);const f=async()=>{u(!0);try{if(!He){console.error("authService no est disponible"),c(!1),u(!1);return}let h=!1;if(e&&(h=He.hasPermissionLocal(e)),t.length>0&&(n?h=t.every(m=>He.hasPermissionLocal(m)):h=t.some(m=>He.hasPermissionLocal(m))),r&&(h=h||He.hasRole(r)),s.length>0){const m=s.some(x=>He.hasRole(x));h=h||m}!e&&t.length===0&&!r&&s.length===0&&(h=He.isAuthenticated()),c(h)}catch(h){console.error("Error verificando permisos:",h),c(!1)}finally{u(!1)}};return d?o.jsx("div",{className:"loading",children:"Verificando permisos..."}):l?o.jsx(o.Fragment,{children:i}):a||o.jsx("div",{className:"access-denied",children:"Acceso denegado"})},Dj=()=>{const[e,t]=w.useState([]),[r,s]=w.useState([]),[n,a]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{if(!He){console.warn("authService no est disponible en loadPermissions"),t([]),s([]);return}await He.loadUserProfile(),t(He.getUserPermissions()),s(He.getUserRoles())}catch(m){console.error("Error cargando permisos:",m)}finally{a(!1)}};return{permissions:e,roles:r,loading:n,hasPermission:m=>He?He.hasPermissionLocal(m):(console.warn("authService no est disponible en hasPermission"),!1),hasRole:m=>He?He.hasRole(m):(console.warn("authService no est disponible en hasRole"),!1),hasAnyPermission:m=>He?m.some(x=>He.hasPermissionLocal(x)):(console.warn("authService no est disponible en hasAnyPermission"),!1),hasAllPermissions:m=>He?m.every(x=>He.hasPermissionLocal(x)):(console.warn("authService no est disponible en hasAllPermissions"),!1),canPerformAction:(m,x)=>He?He.canPerformAction(m,x):(console.warn("authService no est disponible en canPerformAction"),!1),canAccessRoute:m=>He?He.canAccessRoute(m):(console.warn("authService no est disponible en canAccessRoute"),!1),isAuthenticated:He?He.isAuthenticated():!1,isSuperAdmin:He?He.isSuperAdmin():!1,isAdmin:He?He.isAdmin():!1,isManager:He?He.isManager():!1,hasSalesRole:He?He.hasSalesRole():!1}},Ex=({permission:e,permissions:t=[],role:r,roles:s=[],requireAll:n=!1,onClick:a,disabled:i=!1,className:l="",children:c,...d})=>{const{hasPermission:u,hasRole:f,hasAnyPermission:h,hasAllPermissions:m}=Dj();return(()=>{let p=!1;if(e&&(p=u(e)),t.length>0&&(n?p=p||m(t):p=p||h(t)),r&&(p=p||f(r)),s.length>0){const g=s.some(y=>f(y));p=p||g}return p})()?o.jsx("button",{onClick:a,disabled:i,className:`permission-button ${l}`,...d,children:c}):null};function UI({searchValues:e,onSearchChange:t,onClearSearch:r}){const[s,n]=w.useState(!1),i=(()=>Object.values(e).filter(l=>l!==""&&l!==null&&l!==void 0).length)();return o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>n(!s),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ln,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-100",children:"Bsqueda Avanzada"}),i>0&&o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200",children:[i," activas"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[i>0&&o.jsx("button",{onClick:l=>{l.stopPropagation(),r()},className:"text-sm text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-200 transition-colors",children:"Limpiar bsquedas"}),s?o.jsx(yl,{className:"w-5 h-5 text-secondary-400"}):o.jsx(ti,{className:"w-5 h-5 text-secondary-400"})]})]}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${s?"max-h-96 opacity-100 mt-6":"max-h-0 opacity-0"}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ln,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Bsqueda general en todos los campos...",className:"input pl-10 pr-10",value:e.general,onChange:l=>t("general",l.target.value)}),e.general&&o.jsx("button",{onClick:()=>t("general",""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(gc,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"email",placeholder:"Buscar por email...",className:"input pl-9 pr-8 text-sm",value:e.email,onChange:l=>t("email",l.target.value)}),e.email&&o.jsx("button",{onClick:()=>t("email",""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(EP,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Buscar por ID...",className:"input pl-9 pr-8 text-sm",value:e.id,onChange:l=>t("id",l.target.value)}),e.id&&o.jsx("button",{onClick:()=>t("id",""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Buscar por nombre...",className:"input pl-9 pr-8 text-sm",value:e.name,onChange:l=>t("name",l.target.value)}),e.name&&o.jsx("button",{onClick:()=>t("name",""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hu,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"tel",placeholder:"Buscar por telfono...",className:"input pl-9 pr-8 text-sm",value:e.phone,onChange:l=>t("phone",l.target.value)}),e.phone&&o.jsx("button",{onClick:()=>t("phone",""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-3 h-3"})})]})]}),i===0&&o.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ln,{className:"w-5 h-5 text-primary-600 dark:text-primary-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-secondary-900 dark:text-secondary-100 mb-1",children:"Bsqueda Inteligente"}),o.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 leading-relaxed",children:"Utiliza la bsqueda general para encontrar leads en todos los campos, o usa las bsquedas especficas para resultados ms precisos. Puedes combinar mltiples criterios de bsqueda."})]})]})}),i>0&&o.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-3 border border-primary-200 dark:border-primary-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ln,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o.jsxs("span",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:[i," bsqueda",i!==1?"s":""," activa",i!==1?"s":""]})]}),o.jsx("button",{onClick:r,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 font-medium transition-colors",children:"Limpiar todas"})]})})]})})]})})}function $I({title:e,titleId:t,...r},s){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const zI=w.forwardRef($I),VI=zI,el=[{id:"status",name:"Estado del Lead",icon:lh,type:"select",options:["new","contacted","qualified","converted","lost"]},{id:"desk_id",name:"Mesa de Trabajo",icon:Vs,type:"select",options:[]},{id:"assigned_user_id",name:"Usuario Asignado",icon:pr,type:"select",options:[]},{id:"country",name:"Pas",icon:J1,type:"text"},{id:"source",name:"Fuente",icon:lh,type:"text"},{id:"budget",name:"Presupuesto",icon:gn,type:"number"},{id:"created_at",name:"Fecha de Creacin",icon:su,type:"date"},{id:"updated_at",name:"ltima Actualizacin",icon:su,type:"date"}],HI={text:[{value:"contains",label:"Contiene"},{value:"equals",label:"Es igual a"},{value:"starts_with",label:"Comienza con"},{value:"ends_with",label:"Termina con"}],number:[{value:"equals",label:"Es igual a"},{value:"greater_than",label:"Mayor que"},{value:"less_than",label:"Menor que"},{value:"between",label:"Entre"}],select:[{value:"equals",label:"Es igual a"},{value:"not_equals",label:"No es igual a"},{value:"in",label:"Est en"}],date:[{value:"equals",label:"Es igual a"},{value:"after",label:"Despus de"},{value:"before",label:"Antes de"},{value:"between",label:"Entre"}]},WI=[{id:"total_leads",name:"Total de Leads",icon:Rr},{id:"conversion_rate",name:"Tasa de Conversin",icon:Rr},{id:"avg_budget",name:"Presupuesto Promedio",icon:gn},{id:"leads_by_status",name:"Leads por Estado",icon:lh},{id:"leads_by_source",name:"Leads por Fuente",icon:J1},{id:"leads_by_desk",name:"Leads por Mesa",icon:Vs},{id:"monthly_trend",name:"Tendencia Mensual",icon:su}];function qI({isOpen:e,onClose:t,onSave:r,desksData:s,usersData:n}){const[a,i]=w.useState(1),[l,c]=w.useState({name:"",description:"",conditions:[],kpis:[],visualization:"table"}),d=4;w.useEffect(()=>{e||(i(1),c({name:"",description:"",conditions:[],kpis:[],visualization:"table"}))},[e]);const u=()=>{c(y=>({...y,conditions:[...y.conditions,{field:"",operator:"",value:"",logic:y.conditions.length>0?"AND":void 0}]}))},f=(y,v)=>{c(b=>({...b,conditions:b.conditions.map((_,j)=>j===y?{..._,...v}:_)}))},h=y=>{c(v=>({...v,conditions:v.conditions.filter((b,_)=>_!==y)}))},m=y=>{c(v=>({...v,kpis:v.kpis.includes(y)?v.kpis.filter(b=>b!==y):[...v.kpis,y]}))},x=()=>{switch(a){case 1:return l.name.trim()!=="";case 2:return l.conditions.length>0&&l.conditions.every(y=>y.field&&y.operator&&y.value);case 3:return l.kpis.length>0;case 4:return!0;default:return!1}},p=()=>{r(l),t()},g=y=>{var b,_,j,S,N;const v=el.find(k=>k.id===y);if(!v)return[];switch(y){case"desk_id":return((_=(b=s==null?void 0:s.data)==null?void 0:b.desks)==null?void 0:_.map(k=>({value:k.id,label:k.name})))||[];case"assigned_user_id":return((S=(j=n==null?void 0:n.data)==null?void 0:j.users)==null?void 0:S.map(k=>({value:k.id,label:k.name})))||[];case"status":return[{value:"new",label:"Nuevo"},{value:"contacted",label:"Contactado"},{value:"qualified",label:"Calificado"},{value:"converted",label:"Convertido"},{value:"lost",label:"Perdido"}];default:return((N=v.options)==null?void 0:N.map(k=>({value:k,label:k})))||[]}};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center",children:o.jsx(oh,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white",children:"Asistente de Filtros Inteligentes"}),o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Paso ",a," de ",d]})]})]}),o.jsx("button",{onClick:t,className:"p-2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200 transition-colors",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"px-6 py-4 bg-secondary-50 dark:bg-secondary-900",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Progreso"}),o.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[Math.round(a/d*100),"%"]})]}),o.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${a/d*100}%`}})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[a===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(To,{className:"w-16 h-16 text-primary-600 dark:text-primary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Informacin del Filtro"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Comencemos definiendo el nombre y descripcin de tu filtro personalizado"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre del Filtro *"}),o.jsx("input",{type:"text",className:"input w-full",placeholder:"Ej: Leads Calificados Mesa Premium",value:l.name,onChange:y=>c(v=>({...v,name:y.target.value}))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Descripcin (Opcional)"}),o.jsx("textarea",{className:"input w-full h-24 resize-none",placeholder:"Describe qu tipo de leads mostrar este filtro...",value:l.description,onChange:y=>c(v=>({...v,description:y.target.value}))})]})]})]}),a===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(To,{className:"w-16 h-16 text-primary-600 dark:text-primary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Condiciones de Filtrado"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Define las reglas que determinarn qu leads se mostrarn"})]}),o.jsxs("div",{className:"space-y-4",children:[l.conditions.map((y,v)=>{var b,_,j,S,N;return o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[v>0&&o.jsxs("select",{className:"input-sm",value:y.logic||"AND",onChange:k=>f(v,{logic:k.target.value}),children:[o.jsx("option",{value:"AND",children:"Y"}),o.jsx("option",{value:"OR",children:"O"})]}),o.jsxs("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:["Condicin ",v+1]})]}),o.jsx("button",{onClick:()=>h(v),className:"text-red-500 hover:text-red-700 transition-colors",children:o.jsx(Ar,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Campo"}),o.jsxs("select",{className:"input w-full",value:y.field,onChange:k=>f(v,{field:k.target.value,operator:"",value:""}),children:[o.jsx("option",{value:"",children:"Seleccionar campo"}),el.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Operador"}),o.jsxs("select",{className:"input w-full",value:y.operator,onChange:k=>f(v,{operator:k.target.value}),disabled:!y.field,children:[o.jsx("option",{value:"",children:"Seleccionar operador"}),y.field&&((_=HI[(b=el.find(k=>k.id===y.field))==null?void 0:b.type])==null?void 0:_.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value)))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),y.field&&((j=el.find(k=>k.id===y.field))==null?void 0:j.type)==="select"?o.jsxs("select",{className:"input w-full",value:y.value,onChange:k=>f(v,{value:k.target.value}),children:[o.jsx("option",{value:"",children:"Seleccionar valor"}),g(y.field).map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]}):o.jsx("input",{type:((S=el.find(k=>k.id===y.field))==null?void 0:S.type)==="number"?"number":((N=el.find(k=>k.id===y.field))==null?void 0:N.type)==="date"?"date":"text",className:"input w-full",placeholder:"Ingresa el valor",value:y.value,onChange:k=>f(v,{value:k.target.value})})]})]})]},v)}),o.jsx("button",{onClick:u,className:"w-full btn-outline-primary py-3 border-2 border-dashed",children:"+ Agregar Condicin"})]})]}),a===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Rr,{className:"w-16 h-16 text-primary-600 dark:text-primary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Mtricas y KPIs"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Selecciona las mtricas que quieres visualizar con este filtro"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:WI.map(y=>o.jsxs("div",{className:`relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${l.kpis.includes(y.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600"}`,onClick:()=>m(y.id),children:[l.kpis.includes(y.id)&&o.jsx("div",{className:"absolute -top-2 -right-2",children:o.jsx(_s,{className:"w-6 h-6 text-primary-600 bg-white dark:bg-secondary-800 rounded-full"})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(y.icon,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"}),o.jsx("div",{children:o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white",children:y.name})})]})]},y.id))})]}),a===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(_s,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Filtro Listo!"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Revisa la configuracin de tu filtro antes de guardarlo"})]}),o.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-secondary-900 dark:text-white mb-4",children:"Resumen del Filtro"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Nombre:"}),o.jsx("p",{className:"text-secondary-900 dark:text-white",children:l.name})]}),l.description&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Descripcin:"}),o.jsx("p",{className:"text-secondary-900 dark:text-white",children:l.description})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Condiciones:"}),o.jsxs("p",{className:"text-secondary-900 dark:text-white",children:[l.conditions.length," condiciones configuradas"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"KPIs:"}),o.jsxs("p",{className:"text-secondary-900 dark:text-white",children:[l.kpis.length," mtricas seleccionadas"]})]})]})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsxs("button",{onClick:()=>i(Math.max(1,a-1)),disabled:a===1,className:"btn-ghost flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Q1,{className:"w-4 h-4"}),o.jsx("span",{children:"Anterior"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:d},(y,v)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${v+1<=a?"bg-primary-600":"bg-secondary-300 dark:bg-secondary-600"}`},v))}),a<d?o.jsxs("button",{onClick:()=>i(a+1),disabled:!x(),className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{children:"Siguiente"}),o.jsx(Z1,{className:"w-4 h-4"})]}):o.jsxs("button",{onClick:p,className:"btn-primary flex items-center space-x-2",children:[o.jsx(_s,{className:"w-4 h-4"}),o.jsx("span",{children:"Guardar Filtro"})]})]})]})}):null}function GI({currentFilters:e,onFilterChange:t,onLoadFilter:r,desksData:s,activeFiltersCount:n}){var S,N;const[a,i]=w.useState(!1),[l,c]=w.useState([]),[d,u]=w.useState(!1),[f,h]=w.useState(""),[m,x]=w.useState(!1);w.useEffect(()=>{const k=localStorage.getItem("leadFilters");if(k)try{c(JSON.parse(k))}catch(E){console.error("Error loading saved filters:",E)}},[]);const p=k=>{localStorage.setItem("leadFilters",JSON.stringify(k)),c(k)},g=()=>{if(!f.trim())return;const k={id:Date.now().toString(),name:f.trim(),filters:{...e},createdAt:new Date().toISOString()},E=[...l,k];p(E),h(""),u(!1)},y=k=>{const E=l.filter(C=>C.id!==k);p(E)},v=k=>{const E=l.map(C=>({...C,isDefault:C.id===k}));p(E)},b=k=>{r(k.filters)},_=k=>{const E={id:Date.now().toString(),name:k.name,filters:{...k.conditions.reduce((A,F)=>(A[F.field]=F.value,A),{}),_wizardConfig:k},createdAt:new Date().toISOString()},C=[...l,E];p(C),r(E.filters)},j=()=>Object.entries(e).filter(([k,E])=>k!=="search"&&E!==""&&E!==null&&E!==void 0).length;return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>i(!a),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(To,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-100",children:"Filtros y Vistas"}),n>0&&o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200",children:[n," activos"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:k=>{k.stopPropagation(),x(!0)},className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:[o.jsx(oh,{className:"w-4 h-4"}),o.jsx("span",{children:"Crear Filtro"})]}),a?o.jsx(yl,{className:"w-5 h-5 text-secondary-400"}):o.jsx(ti,{className:"w-5 h-5 text-secondary-400"})]})]}),a&&o.jsxs("div",{className:"mt-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"Filtros Bsicos"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("select",{className:"input",value:e.status||"",onChange:k=>t("status",k.target.value),children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"new",children:"Nuevo"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"}),o.jsx("option",{value:"converted",children:"Convertido"}),o.jsx("option",{value:"lost",children:"Perdido"})]}),o.jsxs("select",{className:"input",value:e.desk_id||"",onChange:k=>t("desk_id",k.target.value),children:[o.jsx("option",{value:"",children:"Todas las mesas"}),(N=(S=s==null?void 0:s.data)==null?void 0:S.desks)==null?void 0:N.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]}),o.jsxs("button",{onClick:()=>u(!0),className:"btn-primary flex items-center justify-center",disabled:j()===0,children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Guardar Vista"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"Vistas Guardadas"}),l.length===0?o.jsxs("div",{className:"text-center py-8 text-secondary-500 dark:text-secondary-400",children:[o.jsx(kR,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No hay vistas guardadas"}),o.jsx("p",{className:"text-sm",children:"Configura filtros y guarda tu primera vista"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(k=>o.jsxs("div",{className:"relative group bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg p-4 hover:shadow-md transition-all duration-200 hover:border-primary-300 dark:hover:border-primary-600",children:[k.isDefault&&o.jsx("div",{className:"absolute -top-2 -right-2",children:o.jsx(VI,{className:"w-5 h-5 text-yellow-500"})}),o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h5",{className:"font-medium text-secondary-900 dark:text-secondary-100 truncate pr-2",children:k.name}),o.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>v(k.id),className:"p-1 text-secondary-400 hover:text-yellow-500 transition-colors",title:"Marcar como predeterminado",children:o.jsx(sM,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>y(k.id),className:"p-1 text-secondary-400 hover:text-red-500 transition-colors",title:"Eliminar vista",children:o.jsx(Fo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-1 mb-4",children:[Object.entries(k.filters).map(([E,C])=>{if(!C||E==="search"||E==="_wizardConfig")return null;const A=typeof C=="object"?JSON.stringify(C):String(C);return o.jsxs("div",{className:"flex items-center text-xs text-secondary-600 dark:text-secondary-400",children:[o.jsxs("span",{className:"capitalize font-medium mr-2",children:[E.replace("_"," "),":"]}),o.jsx("span",{className:"truncate",children:A})]},E)}),Object.keys(k.filters).filter(E=>k.filters[E]&&E!=="search").length===0&&o.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Sin filtros especficos"})]}),o.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mb-3",children:new Date(k.createdAt).toLocaleDateString()}),o.jsx("button",{onClick:()=>b(k),className:"w-full btn-outline-primary text-sm py-2",children:"Aplicar Vista"})]},k.id))})]})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-100",children:"Guardar Vista"}),o.jsx("button",{onClick:()=>u(!1),className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200",children:o.jsx(Ar,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre de la vista"}),o.jsx("input",{type:"text",className:"input w-full",placeholder:"Ej: Leads calificados mesa 1",value:f,onChange:k=>h(k.target.value),onKeyPress:k=>k.key==="Enter"&&g()})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>u(!1),className:"btn-ghost",children:"Cancelar"}),o.jsx("button",{onClick:g,className:"btn-primary",disabled:!f.trim(),children:"Guardar"})]})]})]})}),o.jsx(qI,{isOpen:m,onClose:()=>x(!1),onSave:_,desksData:s})]})}const tl=[{id:1,title:"Informacin Personal",icon:pr},{id:2,title:"Informacin Adicional",icon:Vs},{id:3,title:"Asignacin y Seguimiento",icon:gn},{id:4,title:"Confirmacin",icon:Is}],KI=["Website","Facebook","Google Ads","Referral","Cold Call","Email Campaign","Trade Show","Other"];function XI({isOpen:e,onClose:t,onSuccess:r}){var b,_,j,S,N;const[s,n]=w.useState(1),[a,i]=w.useState({first_name:"",last_name:"",email:"",phone:"",company:"",position:"",country:"",city:"",desk_id:void 0,assigned_to:void 0,source:"Website",status:"new",interest_level:"medium",budget:void 0,notes:""}),{data:l,isLoading:c}=tt({queryKey:["desks-for-lead"],queryFn:()=>hr.getDesks(),enabled:e,staleTime:5*60*1e3}),{data:d,isLoading:u}=tt({queryKey:["users-for-lead"],queryFn:()=>_a.getUsers({status:"active"}),enabled:e,staleTime:5*60*1e3}),f=pt({mutationFn:k=>Yr.createLead(k),onSuccess:()=>{he.success("Lead creado exitosamente"),r(),h()},onError:k=>{var E,C;he.error(((C=(E=k.response)==null?void 0:E.data)==null?void 0:C.message)||"Error al crear el lead")}}),h=()=>{n(1),i({first_name:"",last_name:"",email:"",phone:"",company:"",position:"",country:"",city:"",desk_id:void 0,assigned_to:void 0,source:"Website",status:"new",interest_level:"medium",budget:void 0,notes:""}),t()},m=()=>{p()&&n(k=>Math.min(k+1,tl.length))},x=()=>{n(k=>Math.max(k-1,1))},p=()=>{switch(s){case 1:return a.first_name.trim()?a.last_name.trim()?a.email.trim()?a.phone.trim()?!0:(he.error("El telfono es requerido"),!1):(he.error("El email es requerido"),!1):(he.error("El apellido es requerido"),!1):(he.error("El nombre es requerido"),!1);case 2:return!0;case 3:return!0;default:return!0}},g=()=>{if(p()){const k={first_name:a.first_name,last_name:a.last_name,email:a.email,phone:a.phone,company:a.company||null,position:a.position||null,country:a.country||null,city:a.city||null,desk_id:a.desk_id||null,assigned_to:a.assigned_to||null,source:a.source,status:a.status,interest_level:a.interest_level,budget:a.budget||null,notes:a.notes||null};f.mutate(k)}},y=()=>{var k;return(k=l==null?void 0:l.data)==null?void 0:k.find(E=>E.id===a.desk_id)},v=()=>{var k;return(k=d==null?void 0:d.data)==null?void 0:k.find(E=>E.id===a.assigned_to)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Asistente para Crear Lead"}),o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:["Paso ",s," de ",tl.length,": ",tl[s-1].title]})]}),o.jsx("button",{onClick:h,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"px-6 py-4 border-b border-secondary-200 dark:border-secondary-700",children:o.jsx("div",{className:"flex items-center justify-between",children:tl.map((k,E)=>{const C=k.icon,A=s===k.id,F=s>k.id;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`
                    flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors
                    ${A?"border-primary-600 bg-primary-600 text-white":F?"border-success-600 bg-success-600 text-white":"border-secondary-300 text-secondary-400"}
                  `,children:F?o.jsx(Is,{className:"w-5 h-5"}):o.jsx(C,{className:"w-5 h-5"})}),o.jsx("div",{className:"ml-3 hidden sm:block",children:o.jsx("p",{className:`text-sm font-medium ${A?"text-primary-600":F?"text-success-600":"text-secondary-500"}`,children:k.title})}),E<tl.length-1&&o.jsx("div",{className:`
                      w-12 h-0.5 mx-4 transition-colors
                      ${F?"bg-success-600":"bg-secondary-300"}
                    `})]},k.id)})})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[s===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(pr,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informacin Personal"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Ingresa los datos bsicos del lead"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre *"}),o.jsx("input",{type:"text",value:a.first_name,onChange:k=>i({...a,first_name:k.target.value}),className:"input",placeholder:"ej: Juan"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Apellido *"}),o.jsx("input",{type:"text",value:a.last_name,onChange:k=>i({...a,last_name:k.target.value}),className:"input",placeholder:"ej: Prez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:a.email,onChange:k=>i({...a,email:k.target.value}),className:"input",placeholder:"ej: juan.perez@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Telfono *"}),o.jsx("input",{type:"tel",value:a.phone,onChange:k=>i({...a,phone:k.target.value}),className:"input",placeholder:"ej: +1234567890"})]})]})]}),s===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Vs,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informacin Adicional"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Datos adicionales del lead (opcional)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Empresa"}),o.jsx("input",{type:"text",value:a.company,onChange:k=>i({...a,company:k.target.value}),className:"input",placeholder:"ej: Empresa ABC"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Posicin"}),o.jsx("input",{type:"text",value:a.position,onChange:k=>i({...a,position:k.target.value}),className:"input",placeholder:"ej: CEO, Manager"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Pas"}),o.jsx("input",{type:"text",value:a.country,onChange:k=>i({...a,country:k.target.value}),className:"input",placeholder:"ej: Espaa"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Ciudad"}),o.jsx("input",{type:"text",value:a.city,onChange:k=>i({...a,city:k.target.value}),className:"input",placeholder:"ej: Madrid"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Presupuesto Estimado"}),o.jsx("input",{type:"number",value:a.budget||"",onChange:k=>i({...a,budget:parseFloat(k.target.value)||void 0}),className:"input",placeholder:"ej: 10000",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Fuente"}),o.jsx("select",{value:a.source,onChange:k=>i({...a,source:k.target.value}),className:"input",children:KI.map(k=>o.jsx("option",{value:k,children:k},k))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Notas"}),o.jsx("textarea",{value:a.notes,onChange:k=>i({...a,notes:k.target.value}),className:"input min-h-[80px]",placeholder:"Informacin adicional sobre el lead..."})]})]}),s===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(gn,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Asignacin y Seguimiento"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Asigna el lead a una mesa y usuario"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Mesa"}),c?o.jsxs("div",{className:"input flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),o.jsx("span",{className:"ml-2 text-sm text-secondary-500",children:"Cargando mesas..."})]}):o.jsxs("select",{value:a.desk_id||"",onChange:k=>i({...a,desk_id:k.target.value?parseInt(k.target.value):void 0}),className:"input",children:[o.jsx("option",{value:"",children:"Sin mesa asignada"}),(b=l==null?void 0:l.data)==null?void 0:b.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Asignar a Usuario"}),u?o.jsxs("div",{className:"input flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),o.jsx("span",{className:"ml-2 text-sm text-secondary-500",children:"Cargando usuarios..."})]}):o.jsxs("select",{value:a.assigned_to||"",onChange:k=>i({...a,assigned_to:k.target.value?parseInt(k.target.value):void 0}),className:"input",children:[o.jsx("option",{value:"",children:"Sin asignar"}),(_=d==null?void 0:d.data)==null?void 0:_.map(k=>o.jsxs("option",{value:k.id,children:[k.first_name," ",k.last_name," (",k.username,")"]},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado"}),o.jsxs("select",{value:a.status,onChange:k=>i({...a,status:k.target.value}),className:"input",children:[o.jsx("option",{value:"new",children:"Nuevo"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"}),o.jsx("option",{value:"proposal",children:"Propuesta"}),o.jsx("option",{value:"negotiation",children:"Negociacin"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nivel de Inters"}),o.jsxs("select",{value:a.interest_level,onChange:k=>i({...a,interest_level:k.target.value}),className:"input",children:[o.jsx("option",{value:"low",children:"Bajo"}),o.jsx("option",{value:"medium",children:"Medio"}),o.jsx("option",{value:"high",children:"Alto"}),o.jsx("option",{value:"very_high",children:"Muy Alto"})]})]})]})]}),s===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Is,{className:"w-12 h-12 text-success-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Confirmacin"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revisa la informacin antes de crear el lead"})]}),o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Informacin Personal"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Nombre:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[a.first_name," ",a.last_name]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Email:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.email})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Telfono:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.phone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Empresa:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.company||"No especificada"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Asignaciones"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Mesa:"}),o.jsx("span",{className:"ml-2 font-medium",children:((j=y())==null?void 0:j.name)||"No asignada"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Usuario:"}),o.jsx("span",{className:"ml-2 font-medium",children:v()?`${(S=v())==null?void 0:S.first_name} ${(N=v())==null?void 0:N.last_name}`:"No asignado"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Estado:"}),o.jsx("span",{className:"ml-2 font-medium capitalize",children:a.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Fuente:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.source})]})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsxs("button",{onClick:x,disabled:s===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Anterior"]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:h,className:"btn-secondary",children:"Cancelar"}),s<tl.length?o.jsxs("button",{onClick:m,className:"btn-primary",children:["Siguiente",o.jsx(da,{className:"w-4 h-4 ml-2"})]}):o.jsx("button",{onClick:g,disabled:f.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:f.isPending?"Creando...":"Crear Lead"})]})]})]})}):null}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ij=1252,YI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_y={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ny=function(e){YI.indexOf(e)!=-1&&(Ij=_y[0]=e)};function QI(){Ny(1252)}var cn=function(e){Ny(e)};function Bj(){cn(1200),QI()}function Uw(e){for(var t=[],r=0,s=e.length;r<s;++r)t[r]=e.charCodeAt(r);return t}function ZI(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Uj(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var od=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?ZI(e.slice(2)):t==254&&r==255?Uj(e.slice(2)):t==65279?e.slice(1):e},H0=function(t){return String.fromCharCode(t)},$w=function(t){return String.fromCharCode(t)},Ba,ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zw(e){for(var t="",r=0,s=0,n=0,a=0,i=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),a=r>>2,s=e.charCodeAt(d++),i=(r&3)<<4|s>>4,n=e.charCodeAt(d++),l=(s&15)<<2|n>>6,c=n&63,isNaN(s)?l=c=64:isNaN(n)&&(c=64),t+=ii.charAt(a)+ii.charAt(i)+ii.charAt(l)+ii.charAt(c);return t}function js(e){var t="",r=0,s=0,n=0,a=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)a=ii.indexOf(e.charAt(d++)),i=ii.indexOf(e.charAt(d++)),r=a<<2|i>>4,t+=String.fromCharCode(r),l=ii.indexOf(e.charAt(d++)),s=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=ii.indexOf(e.charAt(d++)),n=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var et=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Vo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ei(e){return et?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Vw(e){return et?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var on=function(t){return et?Vo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ho(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function jy(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return jy(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ua=et?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Vo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function JI(e){for(var t=[],r=0,s=e.length+250,n=Ei(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)n[r++]=i;else if(i<2048)n[r++]=192|i>>6&31,n[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++a)&1023;n[r++]=240|i>>8&7,n[r++]=128|i>>2&63,n[r++]=128|l>>6&15|(i&3)<<4,n[r++]=128|l&63}else n[r++]=224|i>>12&15,n[r++]=128|i>>6&63,n[r++]=128|i&63;r>s&&(t.push(n.slice(0,r)),r=0,n=Ei(65535),s=65530)}return t.push(n.slice(0,r)),Ua(t)}var Qr=/\u0000/g,ld=/[\u0001-\u0006]/g;function Tl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function dn(e,t){var r=""+e;return r.length>=t?r:Mt("0",t-r.length)+r}function Ey(e,t){var r=""+e;return r.length>=t?r:Mt(" ",t-r.length)+r}function wh(e,t){var r=""+e;return r.length>=t?r:r+Mt(" ",t-r.length)}function eB(e,t){var r=""+Math.round(e);return r.length>=t?r:Mt("0",t-r.length)+r}function tB(e,t){var r=""+e;return r.length>=t?r:Mt("0",t-r.length)+r}var Hw=Math.pow(2,32);function rl(e,t){if(e>Hw||e<-Hw)return eB(e,t);var r=Math.round(e);return tB(r,t)}function kh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Ww=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rB(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var We={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _h(e,t,r){for(var s=e<0?-1:1,n=e*s,a=0,i=1,l=0,c=1,d=0,u=0,f=Math.floor(n);d<t&&(f=Math.floor(n),l=f*i+a,u=f*d+c,!(n-f<5e-8));)n=1/(n-f),a=i,i=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=a):(u=d,l=i)),!r)return[0,s*l,u];var h=Math.floor(s*l/u);return[h,s*l-h*u,u]}function Ji(e,t,r){if(e>2958465||e<0)return null;var s=e|0,n=Math.floor(86400*(e-s)),a=0,i=[],l={D:s,T:n,u:86400*(e-s)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++s,++l.D)),s===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(s===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),s<60&&(a=(a+6)%7),r&&(a=cB(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=a,l}var $j=new Date(1899,11,31,0,0,0),nB=$j.getTime(),aB=new Date(1900,2,1,0,0,0);function zj(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=aB&&(r+=24*60*60*1e3),(r-(nB+(e.getTimezoneOffset()-$j.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Sy(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iB(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oB(e){var t=e<0?12:11,r=Sy(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function lB(e){var t=Sy(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function mu(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=oB(e):t===10?r=e.toFixed(10).substr(0,12):r=lB(e),Sy(iB(r.toUpperCase()))}function Oo(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):mu(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ws(14,zj(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function cB(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function dB(e,t,r,s){var n="",a=0,i=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return Sx[r.m-1][1];case 5:return Sx[r.m-1][0];default:return Sx[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return Ww[r.q][0];default:return Ww[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?dn(r.S,t.length):(s>=2?i=s===3?1e3:100:i=s===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(n=dn(a,2+s),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?dn(c,d):"";return u}function oi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var Vj=/%/g;function uB(e,t,r){var s=t.replace(Vj,""),n=t.length-s.length;return ua(e,s,r*Math.pow(10,2*n))+Mt("%",n)}function fB(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return ua(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function Hj(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Hj(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(t/Math.pow(10,a)).toPrecision(s+1+(n+a)%n),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+a)%n)+"."+u.substr(a)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Wj=/# (\?+)( ?)\/( ?)(\d+)/;function hB(e,t,r){var s=parseInt(e[4],10),n=Math.round(t*s),a=Math.floor(n/s),i=n-a*s,l=s;return r+(a===0?"":""+a)+" "+(i===0?Mt(" ",e[1].length+1+e[4].length):Ey(i,e[1].length)+e[2]+"/"+e[3]+dn(l,e[4].length))}function mB(e,t,r){return r+(t===0?"":""+t)+Mt(" ",e[1].length+2+e[4].length)}var qj=/^#*0*\.([0#]+)/,Gj=/\).*[0#]/,Kj=/\(###\) ###\\?-####/;function qr(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Gw(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Kw(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function xB(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function pB(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Fs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Gj)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fs("n",s,r):"("+Fs("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fB(e,t,r);if(t.indexOf("%")!==-1)return uB(e,t,r);if(t.indexOf("E")!==-1)return Hj(t,r);if(t.charCodeAt(0)===36)return"$"+Fs(e,t.substr(t.charAt(1)==" "?2:1),r);var n,a,i,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+rl(c,t.length);if(t.match(/^[#?]+$/))return n=rl(r,0),n==="0"&&(n=""),n.length>t.length?n:qr(t.substr(0,t.length-n.length))+n;if(a=t.match(Wj))return hB(a,c,d);if(t.match(/^#+0+$/))return d+rl(c,t.length-t.indexOf("0"));if(a=t.match(qj))return n=Gw(r,a[1].length).replace(/^([^\.]+)$/,"$1."+qr(a[1])).replace(/\.$/,"."+qr(a[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Mt("0",qr(a[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return d+Gw(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return d+oi(rl(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fs(e,t,-r):oi(""+(Math.floor(r)+xB(r,a[1].length)))+"."+dn(Kw(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Fs(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Tl(Fs(e,t.replace(/[\\-]/g,""),r)),i=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<n.length?n.charAt(i++):x==="0"?"0":""}));if(t.match(Kj))return n=Fs(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=_h(c,Math.pow(10,i)-1,!1),n=""+d,u=ua("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+a[2]+"/"+a[3],u=wh(l[2],i),u.length<a[4].length&&(u=qr(a[4].substr(a[4].length-u.length))+u),n+=u,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=_h(c,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Ey(l[1],i)+a[2]+"/"+a[3]+wh(l[2],i):Mt(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=rl(r,0),t.length<=n.length?n:qr(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var f=t.indexOf(".")-i,h=t.length-n.length-f;return qr(t.substr(0,f)+n+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=Kw(r,a[1].length),r<0?"-"+Fs(e,t,-r):oi(pB(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?dn(0,3-x.length):"")+x})+"."+dn(i,a[1].length);switch(t){case"###,##0.00":return Fs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=oi(rl(c,0));return m!=="0"?d+m:"";case"###,###.00":return Fs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function gB(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return ua(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function yB(e,t,r){var s=t.replace(Vj,""),n=t.length-s.length;return ua(e,s,r*Math.pow(10,2*n))+Mt("%",n)}function Xj(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Xj(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),r=(t/Math.pow(10,a)).toPrecision(s+1+(n+a)%n),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+a)%n)+"."+u.substr(a)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function jn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Gj)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?jn("n",s,r):"("+jn("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gB(e,t,r);if(t.indexOf("%")!==-1)return yB(e,t,r);if(t.indexOf("E")!==-1)return Xj(t,r);if(t.charCodeAt(0)===36)return"$"+jn(e,t.substr(t.charAt(1)==" "?2:1),r);var n,a,i,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+dn(c,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:qr(t.substr(0,t.length-n.length))+n;if(a=t.match(Wj))return mB(a,c,d);if(t.match(/^#+0+$/))return d+dn(c,t.length-t.indexOf("0"));if(a=t.match(qj))return n=(""+r).replace(/^([^\.]+)$/,"$1."+qr(a[1])).replace(/\.$/,"."+qr(a[1])),n=n.replace(/\.(\d*)$/,function(x,p){return"."+p+Mt("0",qr(a[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return d+oi(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+jn(e,t,-r):oi(""+r)+"."+Mt("0",a[1].length);if(a=t.match(/^#,#*,#0/))return jn(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Tl(jn(e,t.replace(/[\\-]/g,""),r)),i=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return i<n.length?n.charAt(i++):x==="0"?"0":""}));if(t.match(Kj))return n=jn(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=_h(c,Math.pow(10,i)-1,!1),n=""+d,u=ua("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+a[2]+"/"+a[3],u=wh(l[2],i),u.length<a[4].length&&(u=qr(a[4].substr(a[4].length-u.length))+u),n+=u,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=_h(c,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Ey(l[1],i)+a[2]+"/"+a[3]+wh(l[2],i):Mt(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:qr(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var f=t.indexOf(".")-i,h=t.length-n.length-f;return qr(t.substr(0,f)+n+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+jn(e,t,-r):oi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?dn(0,3-x.length):"")+x})+"."+dn(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=oi(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return jn(e,t.slice(0,t.lastIndexOf(".")),r)+qr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ua(e,t,r){return(r|0)===r?jn(e,t,r):Fs(e,t,r)}function vB(e){for(var t=[],r=!1,s=0,n=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(n,s-n),n=s+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Yj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vc(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":kh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(Yj))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function bB(e,t,r,s){for(var n=[],a="",i=0,l="",c="t",d,u,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!kh(e,i))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(f=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(f);n[n.length]={t:"t",v:a},++i;break;case"\\":var m=e.charAt(++i),x=m==="("||m===")"?m:"t";n[n.length]={t:x,v:m},++i;break;case"_":n[n.length]={t:"t",v:" "},i+=2;break;case"@":n[n.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(d==null&&(d=Ji(t,r,e.charAt(i+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Ji(t,r),d==null))return"";for(a=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),n[n.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=Ji(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),d==null&&p.t==="T")return"";n[n.length]=p,c=l;break;case"[":for(a=l;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Yj)){if(d==null&&(d=Ji(t,r),d==null))return"";n[n.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",vc(e)||(n[n.length]={t:"t",v:a}));break;case".":if(d!=null){for(a=l;++i<e.length&&(l=e.charAt(i))==="0";)a+=l;n[n.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)a+=l;n[n.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++i)===l;)a+=l;n[n.length]={t:l,v:a},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":n[n.length]={t:s===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);n[n.length]={t:"D",v:a};break;case" ":n[n.length]={t:l,v:l},++i;break;case"$":n[n.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++i;break}var g=0,y=0,v;for(i=n.length-1,c="t";i>=0;--i)switch(n[i].t){case"h":case"H":n[i].t=h,c="h",g<1&&(g=1);break;case"s":(v=n[i].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=n[i].t;break;case"m":c==="s"&&(n[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&n[i].v.match(/[Hh]/)&&(g=1),g<2&&n[i].v.match(/[Mm]/)&&(g=2),g<3&&n[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var b="",_;for(i=0;i<n.length;++i)switch(n[i].t){case"t":case"T":case" ":case"D":break;case"X":n[i].v="",n[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[i].v=dB(n[i].t.charCodeAt(0),n[i].v,d,y),n[i].t="t";break;case"n":case"?":for(_=i+1;n[_]!=null&&((l=n[_].t)==="?"||l==="D"||(l===" "||l==="t")&&n[_+1]!=null&&(n[_+1].t==="?"||n[_+1].t==="t"&&n[_+1].v==="/")||n[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[_].v==="/"||n[_].v===" "&&n[_+1]!=null&&n[_+1].t=="?"));)n[i].v+=n[_].v,n[_]={v:"",t:";"},++_;b+=n[i].v,i=_-1;break;case"G":n[i].t="t",n[i].v=Oo(t,r);break}var j="",S,N;if(b.length>0){b.charCodeAt(0)==40?(S=t<0&&b.charCodeAt(0)===45?-t:t,N=ua("n",b,S)):(S=t<0&&s>1?-t:t,N=ua("n",b,S),S<0&&n[0]&&n[0].t=="t"&&(N=N.substr(1),n[0].v="-"+n[0].v)),_=N.length-1;var k=n.length;for(i=0;i<n.length;++i)if(n[i]!=null&&n[i].t!="t"&&n[i].v.indexOf(".")>-1){k=i;break}var E=n.length;if(k===n.length&&N.indexOf("E")===-1){for(i=n.length-1;i>=0;--i)n[i]==null||"n?".indexOf(n[i].t)===-1||(_>=n[i].v.length-1?(_-=n[i].v.length,n[i].v=N.substr(_+1,n[i].v.length)):_<0?n[i].v="":(n[i].v=N.substr(0,_+1),_=-1),n[i].t="t",E=i);_>=0&&E<n.length&&(n[E].v=N.substr(0,_+1)+n[E].v)}else if(k!==n.length&&N.indexOf("E")===-1){for(_=N.indexOf(".")-1,i=k;i>=0;--i)if(!(n[i]==null||"n?".indexOf(n[i].t)===-1)){for(u=n[i].v.indexOf(".")>-1&&i===k?n[i].v.indexOf(".")-1:n[i].v.length-1,j=n[i].v.substr(u+1);u>=0;--u)_>=0&&(n[i].v.charAt(u)==="0"||n[i].v.charAt(u)==="#")&&(j=N.charAt(_--)+j);n[i].v=j,n[i].t="t",E=i}for(_>=0&&E<n.length&&(n[E].v=N.substr(0,_+1)+n[E].v),_=N.indexOf(".")+1,i=k;i<n.length;++i)if(!(n[i]==null||"n?(".indexOf(n[i].t)===-1&&i!==k)){for(u=n[i].v.indexOf(".")>-1&&i===k?n[i].v.indexOf(".")+1:0,j=n[i].v.substr(0,u);u<n[i].v.length;++u)_<N.length&&(j+=N.charAt(_++));n[i].v=j,n[i].t="t",E=i}}}for(i=0;i<n.length;++i)n[i]!=null&&"n?".indexOf(n[i].t)>-1&&(S=s>1&&t<0&&i>0&&n[i-1].v==="-"?-t:t,n[i].v=ua(n[i].t,n[i].v,S),n[i].t="t");var C="";for(i=0;i!==n.length;++i)n[i]!=null&&(C+=n[i].v);return C}var Xw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Yw(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function wB(e,t){var r=vB(e),s=r.length,n=r[s-1].indexOf("@");if(s<4&&n>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(Xw),l=r[1].match(Xw);return Yw(t,i)?[s,r[0]]:Yw(t,l)?[s,r[1]]:[s,r[i!=null&&l!=null?2:1]]}return[s,a]}function Ws(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:We)[e],s==null&&(s=r.table&&r.table[qw[e]]||We[qw[e]]),s==null&&(s=sB[e]||"General");break}if(kh(s,0))return Oo(t,r);t instanceof Date&&(t=zj(t,r.date1904));var n=wB(s,t);if(kh(n[1]))return Oo(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return bB(n[1],t,r,n[0])}function yo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(We[r]==null){t<0&&(t=r);continue}if(We[r]==e){t=r;break}}t<0&&(t=391)}return We[t]=e,t}function Qj(){We=rB()}var kB={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Zj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function _B(e){var t=typeof e=="number"?We[e]:e;return t=t.replace(Zj,"(\\d+)"),new RegExp("^"+t+"$")}function NB(e,t,r){var s=-1,n=-1,a=-1,i=-1,l=-1,c=-1;(t.match(Zj)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=m;break;case"d":a=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:n=m;break}}),c>=0&&l==-1&&n>=0&&(l=n,n=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?d:s==-1&&n==-1&&a==-1?u:d+"T"+u}var jB=function(){var e={};e.version="1.2.0";function t(){for(var N=0,k=new Array(256),E=0;E!=256;++E)N=E,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,k[E]=N;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function s(N){var k=0,E=0,C=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)A[C]=N[C];for(C=0;C!=256;++C)for(E=N[C],k=256+C;k<4096;k+=256)E=A[k]=E>>>8^N[E&255];var F=[];for(C=1;C!=16;++C)F[C-1]=typeof Int32Array<"u"?A.subarray(C*256,C*256+256):A.slice(C*256,C*256+256);return F}var n=s(r),a=n[0],i=n[1],l=n[2],c=n[3],d=n[4],u=n[5],f=n[6],h=n[7],m=n[8],x=n[9],p=n[10],g=n[11],y=n[12],v=n[13],b=n[14];function _(N,k){for(var E=k^-1,C=0,A=N.length;C<A;)E=E>>>8^r[(E^N.charCodeAt(C++))&255];return~E}function j(N,k){for(var E=k^-1,C=N.length-15,A=0;A<C;)E=b[N[A++]^E&255]^v[N[A++]^E>>8&255]^y[N[A++]^E>>16&255]^g[N[A++]^E>>>24]^p[N[A++]]^x[N[A++]]^m[N[A++]]^h[N[A++]]^f[N[A++]]^u[N[A++]]^d[N[A++]]^c[N[A++]]^l[N[A++]]^i[N[A++]]^a[N[A++]]^r[N[A++]];for(C+=15;A<C;)E=E>>>8^r[(E^N[A++])&255];return~E}function S(N,k){for(var E=k^-1,C=0,A=N.length,F=0,M=0;C<A;)F=N.charCodeAt(C++),F<128?E=E>>>8^r[(E^F)&255]:F<2048?(E=E>>>8^r[(E^(192|F>>6&31))&255],E=E>>>8^r[(E^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,M=N.charCodeAt(C++)&1023,E=E>>>8^r[(E^(240|F>>8&7))&255],E=E>>>8^r[(E^(128|F>>2&63))&255],E=E>>>8^r[(E^(128|M>>6&15|(F&3)<<4))&255],E=E>>>8^r[(E^(128|M&63))&255]):(E=E>>>8^r[(E^(224|F>>12&15))&255],E=E>>>8^r[(E^(128|F>>6&63))&255],E=E>>>8^r[(E^(128|F&63))&255]);return~E}return e.table=r,e.bstr=_,e.buf=j,e.str=S,e}(),rt=function(){var t={};t.version="1.2.1";function r(T,D){for(var P=T.split("/"),O=D.split("/"),I=0,U=0,re=Math.min(P.length,O.length);I<re;++I){if(U=P[I].length-O[I].length)return U;if(P[I]!=O[I])return P[I]<O[I]?-1:1}return P.length-O.length}function s(T){if(T.charAt(T.length-1)=="/")return T.slice(0,-1).indexOf("/")===-1?T:s(T.slice(0,-1));var D=T.lastIndexOf("/");return D===-1?T:T.slice(0,D+1)}function n(T){if(T.charAt(T.length-1)=="/")return n(T.slice(0,-1));var D=T.lastIndexOf("/");return D===-1?T:T.slice(D+1)}function a(T,D){typeof D=="string"&&(D=new Date(D));var P=D.getHours();P=P<<6|D.getMinutes(),P=P<<5|D.getSeconds()>>>1,T.write_shift(2,P);var O=D.getFullYear()-1980;O=O<<4|D.getMonth()+1,O=O<<5|D.getDate(),T.write_shift(2,O)}function i(T){var D=T.read_shift(2)&65535,P=T.read_shift(2)&65535,O=new Date,I=P&31;P>>>=5;var U=P&15;P>>>=4,O.setMilliseconds(0),O.setFullYear(P+1980),O.setMonth(U-1),O.setDate(I);var re=D&31;D>>>=5;var ce=D&63;return D>>>=6,O.setHours(D),O.setMinutes(ce),O.setSeconds(re<<1),O}function l(T){xr(T,0);for(var D={},P=0;T.l<=T.length-4;){var O=T.read_shift(2),I=T.read_shift(2),U=T.l+I,re={};switch(O){case 21589:P=T.read_shift(1),P&1&&(re.mtime=T.read_shift(4)),I>5&&(P&2&&(re.atime=T.read_shift(4)),P&4&&(re.ctime=T.read_shift(4))),re.mtime&&(re.mt=new Date(re.mtime*1e3));break}T.l=U,D[O]=re}return D}var c;function d(){return c||(c={})}function u(T,D){if(T[0]==80&&T[1]==75)return nv(T,D);if((T[0]|32)==109&&(T[1]|32)==105)return Q3(T,D);if(T.length<512)throw new Error("CFB file size "+T.length+" < 512");var P=3,O=512,I=0,U=0,re=0,ce=0,te=0,se=[],ae=T.slice(0,512);xr(ae,0);var ye=f(ae);switch(P=ye[0],P){case 3:O=512;break;case 4:O=4096;break;case 0:if(ye[1]==0)return nv(T,D);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}O!==512&&(ae=T.slice(0,O),xr(ae,28));var Ne=T.slice(0,O);h(ae,P);var Te=ae.read_shift(4,"i");if(P===3&&Te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Te);ae.l+=4,re=ae.read_shift(4,"i"),ae.l+=4,ae.chk("00100000","Mini Stream Cutoff Size: "),ce=ae.read_shift(4,"i"),I=ae.read_shift(4,"i"),te=ae.read_shift(4,"i"),U=ae.read_shift(4,"i");for(var we=-1,Ee=0;Ee<109&&(we=ae.read_shift(4,"i"),!(we<0));++Ee)se[Ee]=we;var Ve=m(T,O);g(te,U,Ve,O,se);var St=v(Ve,re,se,O);St[re].name="!Directory",I>0&&ce!==M&&(St[ce].name="!MiniFAT"),St[se[0]].name="!FAT",St.fat_addrs=se,St.ssz=O;var Ct={},wr=[],jc=[],Ec=[];b(re,St,Ve,wr,I,Ct,jc,ce),x(jc,Ec,wr),wr.shift();var Sc={FileIndex:jc,FullPaths:Ec};return D&&D.raw&&(Sc.raw={header:Ne,sectors:Ve}),Sc}function f(T){if(T[T.l]==80&&T[T.l+1]==75)return[0,0];T.chk(Y,"Header Signature: "),T.l+=16;var D=T.read_shift(2,"u");return[T.read_shift(2,"u"),D]}function h(T,D){var P=9;switch(T.l+=2,P=T.read_shift(2)){case 9:if(D!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(D!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}T.chk("0600","Mini Sector Shift: "),T.chk("000000000000","Reserved: ")}function m(T,D){for(var P=Math.ceil(T.length/D)-1,O=[],I=1;I<P;++I)O[I-1]=T.slice(I*D,(I+1)*D);return O[P-1]=T.slice(P*D),O}function x(T,D,P){for(var O=0,I=0,U=0,re=0,ce=0,te=P.length,se=[],ae=[];O<te;++O)se[O]=ae[O]=O,D[O]=P[O];for(;ce<ae.length;++ce)O=ae[ce],I=T[O].L,U=T[O].R,re=T[O].C,se[O]===O&&(I!==-1&&se[I]!==I&&(se[O]=se[I]),U!==-1&&se[U]!==U&&(se[O]=se[U])),re!==-1&&(se[re]=O),I!==-1&&O!=se[O]&&(se[I]=se[O],ae.lastIndexOf(I)<ce&&ae.push(I)),U!==-1&&O!=se[O]&&(se[U]=se[O],ae.lastIndexOf(U)<ce&&ae.push(U));for(O=1;O<te;++O)se[O]===O&&(U!==-1&&se[U]!==U?se[O]=se[U]:I!==-1&&se[I]!==I&&(se[O]=se[I]));for(O=1;O<te;++O)if(T[O].type!==0){if(ce=O,ce!=se[ce])do ce=se[ce],D[O]=D[ce]+"/"+D[O];while(ce!==0&&se[ce]!==-1&&ce!=se[ce]);se[O]=-1}for(D[0]+="/",O=1;O<te;++O)T[O].type!==2&&(D[O]+="/")}function p(T,D,P){for(var O=T.start,I=T.size,U=[],re=O;P&&I>0&&re>=0;)U.push(D.slice(re*F,re*F+F)),I-=F,re=Hi(P,re*4);return U.length===0?Jt(0):Ua(U).slice(0,T.size)}function g(T,D,P,O,I){var U=M;if(T===M){if(D!==0)throw new Error("DIFAT chain shorter than expected")}else if(T!==-1){var re=P[T],ce=(O>>>2)-1;if(!re)return;for(var te=0;te<ce&&(U=Hi(re,te*4))!==M;++te)I.push(U);g(Hi(re,O-4),D-1,P,O,I)}}function y(T,D,P,O,I){var U=[],re=[];I||(I=[]);var ce=O-1,te=0,se=0;for(te=D;te>=0;){I[te]=!0,U[U.length]=te,re.push(T[te]);var ae=P[Math.floor(te*4/O)];if(se=te*4&ce,O<4+se)throw new Error("FAT boundary crossed: "+te+" 4 "+O);if(!T[ae])break;te=Hi(T[ae],se)}return{nodes:U,data:ik([re])}}function v(T,D,P,O){var I=T.length,U=[],re=[],ce=[],te=[],se=O-1,ae=0,ye=0,Ne=0,Te=0;for(ae=0;ae<I;++ae)if(ce=[],Ne=ae+D,Ne>=I&&(Ne-=I),!re[Ne]){te=[];var we=[];for(ye=Ne;ye>=0;){we[ye]=!0,re[ye]=!0,ce[ce.length]=ye,te.push(T[ye]);var Ee=P[Math.floor(ye*4/O)];if(Te=ye*4&se,O<4+Te)throw new Error("FAT boundary crossed: "+ye+" 4 "+O);if(!T[Ee]||(ye=Hi(T[Ee],Te),we[ye]))break}U[Ne]={nodes:ce,data:ik([te])}}return U}function b(T,D,P,O,I,U,re,ce){for(var te=0,se=O.length?2:0,ae=D[T].data,ye=0,Ne=0,Te;ye<ae.length;ye+=128){var we=ae.slice(ye,ye+128);xr(we,64),Ne=we.read_shift(2),Te=Ry(we,0,Ne-se),O.push(Te);var Ee={name:Te,type:we.read_shift(1),color:we.read_shift(1),L:we.read_shift(4,"i"),R:we.read_shift(4,"i"),C:we.read_shift(4,"i"),clsid:we.read_shift(16),state:we.read_shift(4,"i"),start:0,size:0},Ve=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);Ve!==0&&(Ee.ct=_(we,we.l-8));var St=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);St!==0&&(Ee.mt=_(we,we.l-8)),Ee.start=we.read_shift(4,"i"),Ee.size=we.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=M,Ee.name=""),Ee.type===5?(te=Ee.start,I>0&&te!==M&&(D[te].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",D[Ee.start]===void 0&&(D[Ee.start]=y(P,Ee.start,D.fat_addrs,D.ssz)),D[Ee.start].name=Ee.name,Ee.content=D[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:te!==M&&Ee.start!==M&&D[te]&&(Ee.content=p(Ee,D[te].data,(D[ce]||{}).data))),Ee.content&&xr(Ee.content,0),U[Te]=Ee,re.push(Ee)}}function _(T,D){return new Date((ys(T,D+4)/1e7*Math.pow(2,32)+ys(T,D)/1e7-11644473600)*1e3)}function j(T,D){return d(),u(c.readFileSync(T),D)}function S(T,D){var P=D&&D.type;switch(P||et&&Buffer.isBuffer(T)&&(P="buffer"),P||"base64"){case"file":return j(T,D);case"base64":return u(on(js(T)),D);case"binary":return u(on(T),D)}return u(T,D)}function N(T,D){var P=D||{},O=P.root||"Root Entry";if(T.FullPaths||(T.FullPaths=[]),T.FileIndex||(T.FileIndex=[]),T.FullPaths.length!==T.FileIndex.length)throw new Error("inconsistent CFB structure");T.FullPaths.length===0&&(T.FullPaths[0]=O+"/",T.FileIndex[0]={name:O,type:5}),P.CLSID&&(T.FileIndex[0].clsid=P.CLSID),k(T)}function k(T){var D="Sh33tJ5";if(!rt.find(T,"/"+D)){var P=Jt(4);P[0]=55,P[1]=P[3]=50,P[2]=54,T.FileIndex.push({name:D,type:2,content:P,size:4,L:69,R:69,C:69}),T.FullPaths.push(T.FullPaths[0]+D),E(T)}}function E(T,D){N(T);for(var P=!1,O=!1,I=T.FullPaths.length-1;I>=0;--I){var U=T.FileIndex[I];switch(U.type){case 0:O?P=!0:(T.FileIndex.pop(),T.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(U.R*U.L*U.C)&&(P=!0),U.R>-1&&U.L>-1&&U.R==U.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!D)){var re=new Date(1987,1,19),ce=0,te=Object.create?Object.create(null):{},se=[];for(I=0;I<T.FullPaths.length;++I)te[T.FullPaths[I]]=!0,T.FileIndex[I].type!==0&&se.push([T.FullPaths[I],T.FileIndex[I]]);for(I=0;I<se.length;++I){var ae=s(se[I][0]);O=te[ae],O||(se.push([ae,{name:n(ae).replace("/",""),type:1,clsid:G,ct:re,mt:re,content:null}]),te[ae]=!0)}for(se.sort(function(Te,we){return r(Te[0],we[0])}),T.FullPaths=[],T.FileIndex=[],I=0;I<se.length;++I)T.FullPaths[I]=se[I][0],T.FileIndex[I]=se[I][1];for(I=0;I<se.length;++I){var ye=T.FileIndex[I],Ne=T.FullPaths[I];if(ye.name=n(Ne).replace("/",""),ye.L=ye.R=ye.C=-(ye.color=1),ye.size=ye.content?ye.content.length:0,ye.start=0,ye.clsid=ye.clsid||G,I===0)ye.C=se.length>1?1:-1,ye.size=0,ye.type=5;else if(Ne.slice(-1)=="/"){for(ce=I+1;ce<se.length&&s(T.FullPaths[ce])!=Ne;++ce);for(ye.C=ce>=se.length?-1:ce,ce=I+1;ce<se.length&&s(T.FullPaths[ce])!=s(Ne);++ce);ye.R=ce>=se.length?-1:ce,ye.type=1}else s(T.FullPaths[I+1]||"")==s(Ne)&&(ye.R=I+1),ye.type=2}}}function C(T,D){var P=D||{};if(P.fileType=="mad")return Z3(T,P);switch(E(T),P.fileType){case"zip":return W3(T,P)}var O=function(Te){for(var we=0,Ee=0,Ve=0;Ve<Te.FileIndex.length;++Ve){var St=Te.FileIndex[Ve];if(St.content){var Ct=St.content.length;Ct>0&&(Ct<4096?we+=Ct+63>>6:Ee+=Ct+511>>9)}}for(var wr=Te.FullPaths.length+3>>2,jc=we+7>>3,Ec=we+127>>7,Sc=jc+Ee+wr+Ec,Oi=Sc+127>>7,Am=Oi<=109?0:Math.ceil((Oi-109)/127);Sc+Oi+Am+127>>7>Oi;)Am=++Oi<=109?0:Math.ceil((Oi-109)/127);var Vn=[1,Am,Oi,Ec,wr,Ee,we,0];return Te.FileIndex[0].size=we<<6,Vn[7]=(Te.FileIndex[0].start=Vn[0]+Vn[1]+Vn[2]+Vn[3]+Vn[4]+Vn[5])+(Vn[6]+7>>3),Vn}(T),I=Jt(O[7]<<9),U=0,re=0;{for(U=0;U<8;++U)I.write_shift(1,L[U]);for(U=0;U<8;++U)I.write_shift(2,0);for(I.write_shift(2,62),I.write_shift(2,3),I.write_shift(2,65534),I.write_shift(2,9),I.write_shift(2,6),U=0;U<3;++U)I.write_shift(2,0);for(I.write_shift(4,0),I.write_shift(4,O[2]),I.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),I.write_shift(4,0),I.write_shift(4,4096),I.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:M),I.write_shift(4,O[3]),I.write_shift(-4,O[1]?O[0]-1:M),I.write_shift(4,O[1]),U=0;U<109;++U)I.write_shift(-4,U<O[2]?O[1]+U:-1)}if(O[1])for(re=0;re<O[1];++re){for(;U<236+re*127;++U)I.write_shift(-4,U<O[2]?O[1]+U:-1);I.write_shift(-4,re===O[1]-1?M:re+1)}var ce=function(Te){for(re+=Te;U<re-1;++U)I.write_shift(-4,U+1);Te&&(++U,I.write_shift(-4,M))};for(re=U=0,re+=O[1];U<re;++U)I.write_shift(-4,oe.DIFSECT);for(re+=O[2];U<re;++U)I.write_shift(-4,oe.FATSECT);ce(O[3]),ce(O[4]);for(var te=0,se=0,ae=T.FileIndex[0];te<T.FileIndex.length;++te)ae=T.FileIndex[te],ae.content&&(se=ae.content.length,!(se<4096)&&(ae.start=re,ce(se+511>>9)));for(ce(O[6]+7>>3);I.l&511;)I.write_shift(-4,oe.ENDOFCHAIN);for(re=U=0,te=0;te<T.FileIndex.length;++te)ae=T.FileIndex[te],ae.content&&(se=ae.content.length,!(!se||se>=4096)&&(ae.start=re,ce(se+63>>6)));for(;I.l&511;)I.write_shift(-4,oe.ENDOFCHAIN);for(U=0;U<O[4]<<2;++U){var ye=T.FullPaths[U];if(!ye||ye.length===0){for(te=0;te<17;++te)I.write_shift(4,0);for(te=0;te<3;++te)I.write_shift(4,-1);for(te=0;te<12;++te)I.write_shift(4,0);continue}ae=T.FileIndex[U],U===0&&(ae.start=ae.size?ae.start-1:M);var Ne=U===0&&P.root||ae.name;if(se=2*(Ne.length+1),I.write_shift(64,Ne,"utf16le"),I.write_shift(2,se),I.write_shift(1,ae.type),I.write_shift(1,ae.color),I.write_shift(-4,ae.L),I.write_shift(-4,ae.R),I.write_shift(-4,ae.C),ae.clsid)I.write_shift(16,ae.clsid,"hex");else for(te=0;te<4;++te)I.write_shift(4,0);I.write_shift(4,ae.state||0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,0),I.write_shift(4,ae.start),I.write_shift(4,ae.size),I.write_shift(4,0)}for(U=1;U<T.FileIndex.length;++U)if(ae=T.FileIndex[U],ae.size>=4096)if(I.l=ae.start+1<<9,et&&Buffer.isBuffer(ae.content))ae.content.copy(I,I.l,0,ae.size),I.l+=ae.size+511&-512;else{for(te=0;te<ae.size;++te)I.write_shift(1,ae.content[te]);for(;te&511;++te)I.write_shift(1,0)}for(U=1;U<T.FileIndex.length;++U)if(ae=T.FileIndex[U],ae.size>0&&ae.size<4096)if(et&&Buffer.isBuffer(ae.content))ae.content.copy(I,I.l,0,ae.size),I.l+=ae.size+63&-64;else{for(te=0;te<ae.size;++te)I.write_shift(1,ae.content[te]);for(;te&63;++te)I.write_shift(1,0)}if(et)I.l=I.length;else for(;I.l<I.length;)I.write_shift(1,0);return I}function A(T,D){var P=T.FullPaths.map(function(te){return te.toUpperCase()}),O=P.map(function(te){var se=te.split("/");return se[se.length-(te.slice(-1)=="/"?2:1)]}),I=!1;D.charCodeAt(0)===47?(I=!0,D=P[0].slice(0,-1)+D):I=D.indexOf("/")!==-1;var U=D.toUpperCase(),re=I===!0?P.indexOf(U):O.indexOf(U);if(re!==-1)return T.FileIndex[re];var ce=!U.match(ld);for(U=U.replace(Qr,""),ce&&(U=U.replace(ld,"!")),re=0;re<P.length;++re)if((ce?P[re].replace(ld,"!"):P[re]).replace(Qr,"")==U||(ce?O[re].replace(ld,"!"):O[re]).replace(Qr,"")==U)return T.FileIndex[re];return null}var F=64,M=-2,Y="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(T,D,P){d();var O=C(T,P);c.writeFileSync(D,O)}function V(T){for(var D=new Array(T.length),P=0;P<T.length;++P)D[P]=String.fromCharCode(T[P]);return D.join("")}function X(T,D){var P=C(T,D);switch(D&&D.type||"buffer"){case"file":return d(),c.writeFileSync(D.filename,P),P;case"binary":return typeof P=="string"?P:V(P);case"base64":return zw(typeof P=="string"?P:V(P));case"buffer":if(et)return Buffer.isBuffer(P)?P:Vo(P);case"array":return typeof P=="string"?on(P):P}return P}var ee;function R(T){try{var D=T.InflateRaw,P=new D;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)ee=T;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function K(T,D){if(!ee)return Nc(T,D);var P=ee.InflateRaw,O=new P,I=O._processChunk(T.slice(T.l),O._finishFlushFlag);return T.l+=O.bytesRead,I}function z(T){return ee?ee.deflateRawSync(T):J(T)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(T){var D=(T<<1|T<<11)&139536|(T<<5|T<<15)&558144;return(D>>16|D>>8|D)&255}for(var me=typeof Uint8Array<"u",ue=me?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)ue[Ce]=xe(Ce);function B(T,D){var P=ue[T&255];return D<=8?P>>>8-D:(P=P<<8|ue[T>>8&255],D<=16?P>>>16-D:(P=P<<8|ue[T>>16&255],P>>>24-D))}function fe(T,D){var P=D&7,O=D>>>3;return(T[O]|(P<=6?0:T[O+1]<<8))>>>P&3}function _e(T,D){var P=D&7,O=D>>>3;return(T[O]|(P<=5?0:T[O+1]<<8))>>>P&7}function Me(T,D){var P=D&7,O=D>>>3;return(T[O]|(P<=4?0:T[O+1]<<8))>>>P&15}function Re(T,D){var P=D&7,O=D>>>3;return(T[O]|(P<=3?0:T[O+1]<<8))>>>P&31}function be(T,D){var P=D&7,O=D>>>3;return(T[O]|(P<=1?0:T[O+1]<<8))>>>P&127}function nt(T,D,P){var O=D&7,I=D>>>3,U=(1<<P)-1,re=T[I]>>>O;return P<8-O||(re|=T[I+1]<<8-O,P<16-O)||(re|=T[I+2]<<16-O,P<24-O)||(re|=T[I+3]<<24-O),re&U}function Ht(T,D,P){var O=D&7,I=D>>>3;return O<=5?T[I]|=(P&7)<<O:(T[I]|=P<<O&255,T[I+1]=(P&7)>>8-O),D+3}function W(T,D,P){var O=D&7,I=D>>>3;return P=(P&1)<<O,T[I]|=P,D+1}function Z(T,D,P){var O=D&7,I=D>>>3;return P<<=O,T[I]|=P&255,P>>>=8,T[I+1]=P,D+8}function le(T,D,P){var O=D&7,I=D>>>3;return P<<=O,T[I]|=P&255,P>>>=8,T[I+1]=P&255,T[I+2]=P>>>8,D+16}function ke(T,D){var P=T.length,O=2*P>D?2*P:D+5,I=0;if(P>=D)return T;if(et){var U=Vw(O);if(T.copy)T.copy(U);else for(;I<T.length;++I)U[I]=T[I];return U}else if(me){var re=new Uint8Array(O);if(re.set)re.set(T);else for(;I<P;++I)re[I]=T[I];return re}return T.length=O,T}function ge(T){for(var D=new Array(T),P=0;P<T;++P)D[P]=0;return D}function pe(T,D,P){var O=1,I=0,U=0,re=0,ce=0,te=T.length,se=me?new Uint16Array(32):ge(32);for(U=0;U<32;++U)se[U]=0;for(U=te;U<P;++U)T[U]=0;te=T.length;var ae=me?new Uint16Array(te):ge(te);for(U=0;U<te;++U)se[I=T[U]]++,O<I&&(O=I),ae[U]=0;for(se[0]=0,U=1;U<=O;++U)se[U+16]=ce=ce+se[U-1]<<1;for(U=0;U<te;++U)ce=T[U],ce!=0&&(ae[U]=se[ce+16]++);var ye=0;for(U=0;U<te;++U)if(ye=T[U],ye!=0)for(ce=B(ae[U],O)>>O-ye,re=(1<<O+4-ye)-1;re>=0;--re)D[ce|re<<ye]=ye&15|U<<4;return O}var Ae=me?new Uint16Array(512):ge(512),Ye=me?new Uint16Array(32):ge(32);if(!me){for(var $e=0;$e<512;++$e)Ae[$e]=0;for($e=0;$e<32;++$e)Ye[$e]=0}(function(){for(var T=[],D=0;D<32;D++)T.push(5);pe(T,Ye,32);var P=[];for(D=0;D<=143;D++)P.push(8);for(;D<=255;D++)P.push(9);for(;D<=279;D++)P.push(7);for(;D<=287;D++)P.push(8);pe(P,Ae,288)})();var ht=function(){for(var D=me?new Uint8Array(32768):[],P=0,O=0;P<de.length-1;++P)for(;O<de[P+1];++O)D[O]=P;for(;O<32768;++O)D[O]=29;var I=me?new Uint8Array(259):[];for(P=0,O=0;P<Q.length-1;++P)for(;O<Q[P+1];++O)I[O]=P;function U(ce,te){for(var se=0;se<ce.length;){var ae=Math.min(65535,ce.length-se),ye=se+ae==ce.length;for(te.write_shift(1,+ye),te.write_shift(2,ae),te.write_shift(2,~ae&65535);ae-- >0;)te[te.l++]=ce[se++]}return te.l}function re(ce,te){for(var se=0,ae=0,ye=me?new Uint16Array(32768):[];ae<ce.length;){var Ne=Math.min(65535,ce.length-ae);if(Ne<10){for(se=Ht(te,se,+(ae+Ne==ce.length)),se&7&&(se+=8-(se&7)),te.l=se/8|0,te.write_shift(2,Ne),te.write_shift(2,~Ne&65535);Ne-- >0;)te[te.l++]=ce[ae++];se=te.l*8;continue}se=Ht(te,se,+(ae+Ne==ce.length)+2);for(var Te=0;Ne-- >0;){var we=ce[ae];Te=(Te<<5^we)&32767;var Ee=-1,Ve=0;if((Ee=ye[Te])&&(Ee|=ae&-32768,Ee>ae&&(Ee-=32768),Ee<ae))for(;ce[Ee+Ve]==ce[ae+Ve]&&Ve<250;)++Ve;if(Ve>2){we=I[Ve],we<=22?se=Z(te,se,ue[we+1]>>1)-1:(Z(te,se,3),se+=5,Z(te,se,ue[we-23]>>5),se+=3);var St=we<8?0:we-4>>2;St>0&&(le(te,se,Ve-Q[we]),se+=St),we=D[ae-Ee],se=Z(te,se,ue[we]>>3),se-=3;var Ct=we<4?0:we-2>>1;Ct>0&&(le(te,se,ae-Ee-de[we]),se+=Ct);for(var wr=0;wr<Ve;++wr)ye[Te]=ae&32767,Te=(Te<<5^ce[ae])&32767,++ae;Ne-=Ve-1}else we<=143?we=we+48:se=W(te,se,1),se=Z(te,se,ue[we]),ye[Te]=ae&32767,++ae}se=Z(te,se,0)-1}return te.l=(se+7)/8|0,te.l}return function(te,se){return te.length<8?U(te,se):re(te,se)}}();function J(T){var D=Jt(50+Math.floor(T.length*1.1)),P=ht(T,D);return D.slice(0,P)}var Oe=me?new Uint16Array(32768):ge(32768),ut=me?new Uint16Array(32768):ge(32768),ft=me?new Uint16Array(128):ge(128),Xs=1,s0=1;function n0(T,D){var P=Re(T,D)+257;D+=5;var O=Re(T,D)+1;D+=5;var I=Me(T,D)+4;D+=4;for(var U=0,re=me?new Uint8Array(19):ge(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,se=me?new Uint8Array(8):ge(8),ae=me?new Uint8Array(8):ge(8),ye=re.length,Ne=0;Ne<I;++Ne)re[H[Ne]]=U=_e(T,D),te<U&&(te=U),se[U]++,D+=3;var Te=0;for(se[0]=0,Ne=1;Ne<=te;++Ne)ae[Ne]=Te=Te+se[Ne-1]<<1;for(Ne=0;Ne<ye;++Ne)(Te=re[Ne])!=0&&(ce[Ne]=ae[Te]++);var we=0;for(Ne=0;Ne<ye;++Ne)if(we=re[Ne],we!=0){Te=ue[ce[Ne]]>>8-we;for(var Ee=(1<<7-we)-1;Ee>=0;--Ee)ft[Te|Ee<<we]=we&7|Ne<<3}var Ve=[];for(te=1;Ve.length<P+O;)switch(Te=ft[be(T,D)],D+=Te&7,Te>>>=3){case 16:for(U=3+fe(T,D),D+=2,Te=Ve[Ve.length-1];U-- >0;)Ve.push(Te);break;case 17:for(U=3+_e(T,D),D+=3;U-- >0;)Ve.push(0);break;case 18:for(U=11+be(T,D),D+=7;U-- >0;)Ve.push(0);break;default:Ve.push(Te),te<Te&&(te=Te);break}var St=Ve.slice(0,P),Ct=Ve.slice(P);for(Ne=P;Ne<286;++Ne)St[Ne]=0;for(Ne=O;Ne<30;++Ne)Ct[Ne]=0;return Xs=pe(St,Oe,286),s0=pe(Ct,ut,30),D}function Cm(T,D){if(T[0]==3&&!(T[1]&3))return[Ei(D),2];for(var P=0,O=0,I=Vw(D||1<<18),U=0,re=I.length>>>0,ce=0,te=0;!(O&1);){if(O=_e(T,P),P+=3,O>>>1)O>>1==1?(ce=9,te=5):(P=n0(T,P),ce=Xs,te=s0);else{P&7&&(P+=8-(P&7));var se=T[P>>>3]|T[(P>>>3)+1]<<8;if(P+=32,se>0)for(!D&&re<U+se&&(I=ke(I,U+se),re=I.length);se-- >0;)I[U++]=T[P>>>3],P+=8;continue}for(;;){!D&&re<U+32767&&(I=ke(I,U+32767),re=I.length);var ae=nt(T,P,ce),ye=O>>>1==1?Ae[ae]:Oe[ae];if(P+=ye&15,ye>>>=4,!(ye>>>8&255))I[U++]=ye;else{if(ye==256)break;ye-=257;var Ne=ye<8?0:ye-4>>2;Ne>5&&(Ne=0);var Te=U+Q[ye];Ne>0&&(Te+=nt(T,P,Ne),P+=Ne),ae=nt(T,P,te),ye=O>>>1==1?Ye[ae]:ut[ae],P+=ye&15,ye>>>=4;var we=ye<4?0:ye-2>>1,Ee=de[ye];for(we>0&&(Ee+=nt(T,P,we),P+=we),!D&&re<Te&&(I=ke(I,Te+100),re=I.length);U<Te;)I[U]=I[U-Ee],++U}}}return D?[I,P+7>>>3]:[I.slice(0,U),P+7>>>3]}function Nc(T,D){var P=T.slice(T.l||0),O=Cm(P,D);return T.l+=O[1],O[0]}function sv(T,D){if(T)typeof console<"u"&&console.error(D);else throw new Error(D)}function nv(T,D){var P=T;xr(P,0);var O=[],I=[],U={FileIndex:O,FullPaths:I};N(U,{root:D.root});for(var re=P.length-4;(P[re]!=80||P[re+1]!=75||P[re+2]!=5||P[re+3]!=6)&&re>=0;)--re;P.l=re+4,P.l+=4;var ce=P.read_shift(2);P.l+=6;var te=P.read_shift(4);for(P.l=te,re=0;re<ce;++re){P.l+=20;var se=P.read_shift(4),ae=P.read_shift(4),ye=P.read_shift(2),Ne=P.read_shift(2),Te=P.read_shift(2);P.l+=8;var we=P.read_shift(4),Ee=l(P.slice(P.l+ye,P.l+ye+Ne));P.l+=ye+Ne+Te;var Ve=P.l;P.l=we+4,H3(P,se,ae,U,Ee),P.l=Ve}return U}function H3(T,D,P,O,I){T.l+=2;var U=T.read_shift(2),re=T.read_shift(2),ce=i(T);if(U&8257)throw new Error("Unsupported ZIP encryption");for(var te=T.read_shift(4),se=T.read_shift(4),ae=T.read_shift(4),ye=T.read_shift(2),Ne=T.read_shift(2),Te="",we=0;we<ye;++we)Te+=String.fromCharCode(T[T.l++]);if(Ne){var Ee=l(T.slice(T.l,T.l+Ne));(Ee[21589]||{}).mt&&(ce=Ee[21589].mt),((I||{})[21589]||{}).mt&&(ce=I[21589].mt)}T.l+=Ne;var Ve=T.slice(T.l,T.l+se);switch(re){case 8:Ve=K(T,ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+re)}var St=!1;U&8&&(te=T.read_shift(4),te==134695760&&(te=T.read_shift(4),St=!0),se=T.read_shift(4),ae=T.read_shift(4)),se!=D&&sv(St,"Bad compressed size: "+D+" != "+se),ae!=P&&sv(St,"Bad uncompressed size: "+P+" != "+ae),Tm(O,Te,Ve,{unsafe:!0,mt:ce})}function W3(T,D){var P=D||{},O=[],I=[],U=Jt(1),re=P.compression?8:0,ce=0,te=0,se=0,ae=0,ye=0,Ne=T.FullPaths[0],Te=Ne,we=T.FileIndex[0],Ee=[],Ve=0;for(te=1;te<T.FullPaths.length;++te)if(Te=T.FullPaths[te].slice(Ne.length),we=T.FileIndex[te],!(!we.size||!we.content||Te=="Sh33tJ5")){var St=ae,Ct=Jt(Te.length);for(se=0;se<Te.length;++se)Ct.write_shift(1,Te.charCodeAt(se)&127);Ct=Ct.slice(0,Ct.l),Ee[ye]=jB.buf(we.content,0);var wr=we.content;re==8&&(wr=z(wr)),U=Jt(30),U.write_shift(4,67324752),U.write_shift(2,20),U.write_shift(2,ce),U.write_shift(2,re),we.mt?a(U,we.mt):U.write_shift(4,0),U.write_shift(-4,Ee[ye]),U.write_shift(4,wr.length),U.write_shift(4,we.content.length),U.write_shift(2,Ct.length),U.write_shift(2,0),ae+=U.length,O.push(U),ae+=Ct.length,O.push(Ct),ae+=wr.length,O.push(wr),U=Jt(46),U.write_shift(4,33639248),U.write_shift(2,0),U.write_shift(2,20),U.write_shift(2,ce),U.write_shift(2,re),U.write_shift(4,0),U.write_shift(-4,Ee[ye]),U.write_shift(4,wr.length),U.write_shift(4,we.content.length),U.write_shift(2,Ct.length),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(4,0),U.write_shift(4,St),Ve+=U.l,I.push(U),Ve+=Ct.length,I.push(Ct),++ye}return U=Jt(22),U.write_shift(4,101010256),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(2,ye),U.write_shift(2,ye),U.write_shift(4,Ve),U.write_shift(4,ae),U.write_shift(2,0),Ua([Ua(O),Ua(I),U])}var a0={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function q3(T,D){if(T.ctype)return T.ctype;var P=T.name||"",O=P.match(/\.([^\.]+)$/);return O&&a0[O[1]]||D&&(O=(P=D).match(/[\.\\]([^\.\\])+$/),O&&a0[O[1]])?a0[O[1]]:"application/octet-stream"}function G3(T){for(var D=zw(T),P=[],O=0;O<D.length;O+=76)P.push(D.slice(O,O+76));return P.join(`\r
`)+`\r
`}function K3(T){var D=T.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(se){var ae=se.charCodeAt(0).toString(16).toUpperCase();return"="+(ae.length==1?"0"+ae:ae)});D=D.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),D.charAt(0)==`
`&&(D="=0D"+D.slice(1)),D=D.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],O=D.split(`\r
`),I=0;I<O.length;++I){var U=O[I];if(U.length==0){P.push("");continue}for(var re=0;re<U.length;){var ce=76,te=U.slice(re,re+ce);te.charAt(ce-1)=="="?ce--:te.charAt(ce-2)=="="?ce-=2:te.charAt(ce-3)=="="&&(ce-=3),te=U.slice(re,re+ce),re+=ce,re<U.length&&(te+="="),P.push(te)}}return P.join(`\r
`)}function X3(T){for(var D=[],P=0;P<T.length;++P){for(var O=T[P];P<=T.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+T[++P];D.push(O)}for(var I=0;I<D.length;++I)D[I]=D[I].replace(/[=][0-9A-Fa-f]{2}/g,function(U){return String.fromCharCode(parseInt(U.slice(1),16))});return on(D.join(`\r
`))}function Y3(T,D,P){for(var O="",I="",U="",re,ce=0;ce<10;++ce){var te=D[ce];if(!te||te.match(/^\s*$/))break;var se=te.match(/^(.*?):\s*([^\s].*)$/);if(se)switch(se[1].toLowerCase()){case"content-location":O=se[2].trim();break;case"content-type":U=se[2].trim();break;case"content-transfer-encoding":I=se[2].trim();break}}switch(++ce,I.toLowerCase()){case"base64":re=on(js(D.slice(ce).join("")));break;case"quoted-printable":re=X3(D.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+I)}var ae=Tm(T,O.slice(P.length),re,{unsafe:!0});U&&(ae.ctype=U)}function Q3(T,D){if(V(T.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=D&&D.root||"",O=(et&&Buffer.isBuffer(T)?T.toString("binary"):V(T)).split(`\r
`),I=0,U="";for(I=0;I<O.length;++I)if(U=O[I],!!/^Content-Location:/i.test(U)&&(U=U.slice(U.indexOf("file")),P||(P=U.slice(0,U.lastIndexOf("/")+1)),U.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),U.slice(0,P.length)!=P););var re=(O[1]||"").match(/boundary="(.*?)"/);if(!re)throw new Error("MAD cannot find boundary");var ce="--"+(re[1]||""),te=[],se=[],ae={FileIndex:te,FullPaths:se};N(ae);var ye,Ne=0;for(I=0;I<O.length;++I){var Te=O[I];Te!==ce&&Te!==ce+"--"||(Ne++&&Y3(ae,O.slice(ye,I),P),ye=I)}return ae}function Z3(T,D){var P=D||{},O=P.boundary||"SheetJS";O="------="+O;for(var I=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],U=T.FullPaths[0],re=U,ce=T.FileIndex[0],te=1;te<T.FullPaths.length;++te)if(re=T.FullPaths[te].slice(U.length),ce=T.FileIndex[te],!(!ce.size||!ce.content||re=="Sh33tJ5")){re=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ve){return"_x"+Ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ve){return"_u"+Ve.charCodeAt(0).toString(16)+"_"});for(var se=ce.content,ae=et&&Buffer.isBuffer(se)?se.toString("binary"):V(se),ye=0,Ne=Math.min(1024,ae.length),Te=0,we=0;we<=Ne;++we)(Te=ae.charCodeAt(we))>=32&&Te<128&&++ye;var Ee=ye>=Ne*4/5;I.push(O),I.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+re),I.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),I.push("Content-Type: "+q3(ce,re)),I.push(""),I.push(Ee?K3(ae):G3(ae))}return I.push(O+`--\r
`),I.join(`\r
`)}function J3(T){var D={};return N(D,T),D}function Tm(T,D,P,O){var I=O&&O.unsafe;I||N(T);var U=!I&&rt.find(T,D);if(!U){var re=T.FullPaths[0];D.slice(0,re.length)==re?re=D:(re.slice(-1)!="/"&&(re+="/"),re=(re+D).replace("//","/")),U={name:n(D),type:2},T.FileIndex.push(U),T.FullPaths.push(re),I||rt.utils.cfb_gc(T)}return U.content=P,U.size=P?P.length:0,O&&(O.CLSID&&(U.clsid=O.CLSID),O.mt&&(U.mt=O.mt),O.ct&&(U.ct=O.ct)),U}function eS(T,D){N(T);var P=rt.find(T,D);if(P){for(var O=0;O<T.FileIndex.length;++O)if(T.FileIndex[O]==P)return T.FileIndex.splice(O,1),T.FullPaths.splice(O,1),!0}return!1}function tS(T,D,P){N(T);var O=rt.find(T,D);if(O){for(var I=0;I<T.FileIndex.length;++I)if(T.FileIndex[I]==O)return T.FileIndex[I].name=n(P),T.FullPaths[I]=P,!0}return!1}function rS(T){E(T,!0)}return t.find=A,t.read=S,t.parse=u,t.write=X,t.writeFile=ne,t.utils={cfb_new:J3,cfb_add:Tm,cfb_del:eS,cfb_mov:tS,cfb_gc:rS,ReadShift:Cd,CheckField:wE,prep_blob:xr,bconcat:Ua,use_zlib:R,_deflateRaw:J,_inflateRaw:Nc,consts:oe},t}();function EB(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function Bn(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function Cy(e){for(var t=[],r=Bn(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}var Nh=new Date(1899,11,30,0,0,0);function Zr(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var s=Nh.getTime()+(e.getTimezoneOffset()-Nh.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var Jj=new Date,SB=Nh.getTime()+(Jj.getTimezoneOffset()-Nh.getTimezoneOffset())*6e4,Qw=Jj.getTimezoneOffset();function bm(e){var t=new Date;return t.setTime(e*24*60*60*1e3+SB),t.getTimezoneOffset()!==Qw&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Qw)*6e4),t}function CB(e){var t=0,r=0,s=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=n.length;++a)if(n[a]){switch(r=1,a>3&&(s=!0),n[a].slice(n[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[a].slice(n[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(s)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[a],10)}return t}var Zw=new Date("2017-02-19T19:06:09.000Z"),eE=isNaN(Zw.getFullYear())?new Date("2/19/17"):Zw,TB=eE.getFullYear()==2017;function fr(e,t){var r=new Date(e);if(TB)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(eE.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Lo(e,t){if(et&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return dd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return dd(Uj(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return dd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return dd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var s=[],n=0;n!=e.length;++n)s.push(String.fromCharCode(e[n]));return s.join("")}function yr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yr(e[r]));return t}function Mt(e,t){for(var r="";r.length<t;)r+=e;return r}function xn(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(n,a){return r=-r,a}),!isNaN(t=Number(s)))?t/r:t}var AB=["january","february","march","april","may","june","july","august","september","october","november","december"];function ac(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),n=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&AB.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return s<0||s>8099?r:(n>0||a>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var FB=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,s,n){if(e||typeof s=="string")return r.split(s);for(var a=r.split(s),i=[a[0]],l=1;l<a.length;++l)i.push(n),i.push(a[l]);return i}}();function tE(e){return e?e.content&&e.type?Lo(e.content,!0):e.data?od(e.data):e.asNodeBuffer&&et?od(e.asNodeBuffer().toString("binary")):e.asBinary?od(e.asBinary()):e._data&&e._data.getContent?od(Lo(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function rE(e){if(!e)return null;if(e.data)return Uw(e.data);if(e.asNodeBuffer&&et)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Uw(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function RB(e){return e&&e.name.slice(-4)===".bin"?rE(e):tE(e)}function Rs(e,t){for(var r=e.FullPaths||Bn(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),n=s.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==i||n==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Ty(e,t){var r=Rs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Kt(e,t,r){if(!r)return RB(Ty(e,t));if(!t)return null;try{return Kt(e,t)}catch{return null}}function bs(e,t,r){if(!r)return tE(Ty(e,t));if(!t)return null;try{return bs(e,t)}catch{return null}}function sE(e,t,r){if(!r)return rE(Ty(e,t));if(!t)return null;try{return sE(e,t)}catch{return null}}function Jw(e){for(var t=e.FullPaths||Bn(e.files),r=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&r.push(t[s].replace(/^Root Entry[\/]/,""));return r.sort()}function PB(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return et?s=Vo(r):s=JI(r),rt.utils.cfb_add(e,t,s)}rt.utils.cfb_add(e,t,r)}else e.file(t,r)}function nE(e,t){switch(t.type){case"base64":return rt.read(e,{type:"base64"});case"binary":return rt.read(e,{type:"binary"});case"buffer":case"array":return rt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function cd(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var s=e.split("/");s.length!==0;){var n=s.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var aE=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MB=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ek=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,OB=/<[^>]*>/g,Ur=aE.match(ek)?ek:OB,LB=/<\w*:/,DB=/<(\/?)\w+:/;function Ue(e,t,r){for(var s={},n=0,a=0;n!==e.length&&!((a=e.charCodeAt(n))===32||a===10||a===13);++n);if(t||(s[0]=e.slice(0,n)),n===e.length)return s;var i=e.match(MB),l=0,c="",d=0,u="",f="",h=1;if(i)for(d=0;d!=i.length;++d){for(f=i[d],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(h=(n=f.charCodeAt(a+1))==34||n==39?1:0,c=f.slice(a+1+h,f.length-h),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=c,r||(s[u.toLowerCase()]=c);else{var m=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(s[m]&&u.slice(l-3,l)=="ext")continue;s[m]=c,r||(s[m.toLowerCase()]=c)}}return s}function $n(e){return e.replace(DB,"<$1")}var iE={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},IB=Cy(iE),ot=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(s){var n=s+"",a=n.indexOf("<![CDATA[");if(a==-1)return n.replace(e,function(l,c){return iE[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=n.indexOf("]]>");return r(n.slice(0,a))+n.slice(a+9,i)+r(n.slice(i+3))}}(),BB=/[&<>'"]/g,UB=/[\u0000-\u001f]/g;function Ay(e){var t=e+"";return t.replace(BB,function(r){return IB[r]}).replace(/\n/g,"<br/>").replace(UB,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var tk=function(){var e=/&#(\d+);/g;function t(r,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}}();function Nt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cx(e){for(var t="",r=0,s=0,n=0,a=0,i=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(n=e.charCodeAt(r++),s>191&&s<224){i=(s&31)<<6,i|=n&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(n&63)<<6|a&63);continue}i=e.charCodeAt(r++),l=((s&7)<<18|(n&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function rk(e){var t=Ei(2*e.length),r,s,n=1,a=0,i=0,l;for(s=0;s<e.length;s+=n)n=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),n=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),n=3):(n=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function sk(e){return Vo(e,"binary").toString("utf8")}var W0="foo bar baz",gt=et&&(sk(W0)==Cx(W0)&&sk||rk(W0)==Cx(W0)&&rk)||Cx,dd=et?function(e){return Vo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,n=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,n=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},xu=function(){var e={};return function(r,s){var n=r+"|"+(s||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",s||"")}}(),oE=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)s=s.replace(e[n][0],e[n][1]);return s}}(),$B=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),zB=/<\/?(?:vt:)?variant>/g,VB=/<(?:vt:)([^>]*)>([\s\S]*)</;function nk(e,t){var r=Ue(e),s=e.match($B(r.baseType))||[],n=[];if(s.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+r.size);return n}return s.forEach(function(a){var i=a.replace(zB,"").match(VB);i&&n.push({v:gt(i[2]),t:i[1]})}),n}var HB=/(^\s|\s$|\n)/;function WB(e){return Bn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qB(e,t,r){return"<"+e+(r!=null?WB(r):"")+(t!=null?(t.match(HB)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Fy(e){if(et&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gt(Ho(jy(e)));throw new Error("Bad input format: expected Buffer or string")}var pu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,GB={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},KB=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function XB(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,a=5;a>=0;--a)n=n*256+e[t+a];return s==2047?n==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,n+=Math.pow(2,52)),r*Math.pow(2,s-52)*n)}function YB(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,n=0,a=0,i=s?-t:t;isFinite(i)?i==0?n=a=0:(n=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-n),n<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?n=-1022:(a-=Math.pow(2,52),n+=1023)):(n=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(n&15)<<4|a&15,e[r+7]=n>>4|s}var ak=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var n=0,a=e[0][s].length;n<a;n+=r)t.push.apply(t,e[0][s].slice(n,n+r));return t},ik=et?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Vo(t)})):ak(e)}:ak,ok=function(e,t,r){for(var s=[],n=t;n<r;n+=2)s.push(String.fromCharCode(la(e,n)));return s.join("").replace(Qr,"")},Ry=et?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Qr,""):ok(e,t,r)}:ok,lk=function(e,t,r){for(var s=[],n=t;n<t+r;++n)s.push(("0"+e[n].toString(16)).slice(-2));return s.join("")},lE=et?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):lk(e,t,r)}:lk,ck=function(e,t,r){for(var s=[],n=t;n<r;n++)s.push(String.fromCharCode(al(e,n)));return s.join("")},Ku=et?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):ck(t,r,s)}:ck,cE=function(e,t){var r=ys(e,t);return r>0?Ku(e,t+4,t+4+r-1):""},dE=cE,uE=function(e,t){var r=ys(e,t);return r>0?Ku(e,t+4,t+4+r-1):""},fE=uE,hE=function(e,t){var r=2*ys(e,t);return r>0?Ku(e,t+4,t+4+r-1):""},mE=hE,xE=function(t,r){var s=ys(t,r);return s>0?Ry(t,r+4,r+4+s):""},pE=xE,gE=function(e,t){var r=ys(e,t);return r>0?Ku(e,t+4,t+4+r):""},yE=gE,vE=function(e,t){return XB(e,t)},jh=vE,bE=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};et&&(dE=function(t,r){if(!Buffer.isBuffer(t))return cE(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},fE=function(t,r){if(!Buffer.isBuffer(t))return uE(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},mE=function(t,r){if(!Buffer.isBuffer(t))return hE(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},pE=function(t,r){if(!Buffer.isBuffer(t))return xE(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},yE=function(t,r){if(!Buffer.isBuffer(t))return gE(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},jh=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):vE(t,r)},bE=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var al=function(e,t){return e[t]},la=function(e,t){return e[t+1]*256+e[t]},QB=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ys=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Hi=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZB=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Cd(e,t){var r="",s,n,a=[],i,l,c,d;switch(t){case"dbcs":if(d=this.l,et&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(la(this,d)),d+=2;e*=2;break;case"utf8":r=Ku(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Ry(this,this.l,this.l+e);break;case"wstr":return Cd.call(this,e,"dbcs");case"lpstr-ansi":r=dE(this,this.l),e=4+ys(this,this.l);break;case"lpstr-cp":r=fE(this,this.l),e=4+ys(this,this.l);break;case"lpwstr":r=mE(this,this.l),e=4+2*ys(this,this.l);break;case"lpp4":e=4+ys(this,this.l),r=pE(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ys(this,this.l),r=yE(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=al(this,this.l+e++))!==0;)a.push(H0(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=la(this,this.l+e))!==0;)a.push(H0(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return i=al(this,d),this.l=d+1,l=Cd.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(H0(la(this,d))),d+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return i=al(this,d),this.l=d+1,l=Cd.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(H0(al(this,d))),d+=1}r=a.join("");break;default:switch(e){case 1:return s=al(this,this.l),this.l++,s;case 2:return s=(t==="i"?QB:la)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?Hi:ZB)(this,this.l),this.l+=4,s):(n=ys(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=jh(this,this.l):n=jh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=lE(this,this.l,e);break}}return this.l+=e,r}var JB=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},eU=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},tU=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function rU(e,t,r){var s=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)tU(this,t.charCodeAt(n),this.l+2*n);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;s=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var i=t.charCodeAt(n);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,JB(this,t,this.l);break;case 8:if(s=8,r==="f"){YB(this,t,this.l);break}case 16:break;case-4:s=4,eU(this,t,this.l);break}return this.l+=s,this}function wE(e,t){var r=lE(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function xr(e,t){e.l=t,e.read_shift=Cd,e.chk=wE,e.write_shift=rU}function Br(e,t){e.l+=t}function Jt(e){var t=Ei(e);return xr(t,0),t}function Na(e,t,r){if(e){var s,n,a;xr(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=Fh[l]||Fh[65535];for(s=e.read_shift(1),a=s&127,n=1;n<4&&s&128;++n)a+=((s=e.read_shift(1))&127)<<7*n;c=e.l+a;var u=d.f&&d.f(e,a,r);if(e.l=c,t(u,d,l))return}}}function _g(){var e=[],t=et?256:2048,r=function(d){var u=Jt(d);return xr(u,0),u},s=r(t),n=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},a=function(d){return s&&d<s.length-s.l?s:(n(),s=r(Math.max(d+1,t)))},i=function(){return n(),Ua(e)},l=function(d){n(),s=d,s.l==null&&(s.l=s.length),a(t)};return{next:a,push:l,end:i,_bufs:e}}function Td(e,t,r){var s=yr(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function dk(e,t,r){var s=yr(e);return s.s=Td(s.s,t.s,r),s.e=Td(s.e,t.s,r),s}function Ad(e,t){if(e.cRel&&e.c<0)for(e=yr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=yr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ze(e);return!e.cRel&&e.cRel!=null&&(r=aU(r)),!e.rRel&&e.rRel!=null&&(r=sU(r)),r}function Tx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ar(e.s.c)+":"+(e.e.cRel?"":"$")+ar(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+vr(e.s.r)+":"+(e.e.rRel?"":"$")+vr(e.e.r):Ad(e.s,t.biff)+":"+Ad(e.e,t.biff)}function Py(e){return parseInt(nU(e),10)-1}function vr(e){return""+(e+1)}function sU(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function nU(e){return e.replace(/\$(\d+)$/,"$1")}function My(e){for(var t=iU(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function ar(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function aU(e){return e.replace(/^([A-Z])/,"$$$1")}function iU(e){return e.replace(/^\$([A-Z])/,"$1")}function oU(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kr(e){for(var t=0,r=0,s=0;s<e.length;++s){var n=e.charCodeAt(s);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function ze(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function bc(e){var t=e.indexOf(":");return t==-1?{s:Kr(e),e:Kr(e)}:{s:Kr(e.slice(0,t)),e:Kr(e.slice(t+1))}}function st(e,t){return typeof t>"u"||typeof t=="number"?st(e.s,e.e):(typeof e!="string"&&(e=ze(e)),typeof t!="string"&&(t=ze(t)),e==t?e:e+":"+t)}function Dt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,n=0,a=e.length;for(r=0;s<a&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)r=26*r+n;for(t.s.c=--r,r=0;s<a&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)r=10*r+n;if(t.s.r=--r,s===a||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=a&&!((n=e.charCodeAt(s)-64)<1||n>26);++s)r=26*r+n;for(t.e.c=--r,r=0;s!=a&&!((n=e.charCodeAt(s)-48)<0||n>9);++s)r=10*r+n;return t.e.r=--r,t}function uk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ws(e.z,r?Zr(t):t)}catch{}try{return e.w=Ws((e.XF||{}).numFmtId||(r?14:0),r?Zr(t):t)}catch{return""+t}}function wa(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Go[e.v]||e.v:t==null?uk(e,e.v):uk(e,t))}function Mi(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function kE(e,t,r){var s=r||{},n=e?Array.isArray(e):s.dense,a=e||(n?[]:{}),i=0,l=0;if(a&&s.origin!=null){if(typeof s.origin=="number")i=s.origin;else{var c=typeof s.origin=="string"?Kr(s.origin):s.origin;i=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Dt(a["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),i==-1&&(d.e.r=i=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=i+f,p=l+h;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||We[14],s.cellDates?(m.t="d",m.w=Ws(m.z,Zr(m.v))):(m.t="n",m.v=Zr(m.v),m.w=Ws(m.z,m.v))):m.t="s";if(n)a[x]||(a[x]=[]),a[x][p]&&a[x][p].z&&(m.z=a[x][p].z),a[x][p]=m;else{var g=ze({c:p,r:x});a[g]&&a[g].z&&(m.z=a[g].z),a[g]=m}}}return d.s.c<1e7&&(a["!ref"]=st(d)),a}function wc(e,t){return kE(null,e,t)}function lU(e){return e.read_shift(4,"i")}function Lr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function cU(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Oy(e,t){var r=e.l,s=e.read_shift(1),n=Lr(e),a=[],i={t:n,h:n};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(cU(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var dU=Oy;function Gs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Wo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var uU=Lr;function Ly(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var fU=Lr,Ng=Ly;function Dy(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var n=s===0?jh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Hi(t,0)>>2;return r?n/100:n}function _E(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var qo=_E;function Fr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function hU(e){var t={},r=e.read_shift(1),s=r>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=n;var d=vo[n];d&&(t.rgb=yu(d));break;case 2:t.rgb=yu([i,l,c]);break;case 3:t.theme=n;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function mU(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function NE(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function xU(e){return NE(e,1)}function pU(e){return NE(e,2)}var Iy=2,as=3,q0=11,fk=12,Eh=19,G0=64,gU=65,yU=71,vU=4108,bU=4126,cr=80,jE=81,wU=[cr,jE],kU={1:{n:"CodePage",t:Iy},2:{n:"Category",t:cr},3:{n:"PresentationFormat",t:cr},4:{n:"ByteCount",t:as},5:{n:"LineCount",t:as},6:{n:"ParagraphCount",t:as},7:{n:"SlideCount",t:as},8:{n:"NoteCount",t:as},9:{n:"HiddenCount",t:as},10:{n:"MultimediaClipCount",t:as},11:{n:"ScaleCrop",t:q0},12:{n:"HeadingPairs",t:vU},13:{n:"TitlesOfParts",t:bU},14:{n:"Manager",t:cr},15:{n:"Company",t:cr},16:{n:"LinksUpToDate",t:q0},17:{n:"CharacterCount",t:as},19:{n:"SharedDoc",t:q0},22:{n:"HyperlinksChanged",t:q0},23:{n:"AppVersion",t:as,p:"version"},24:{n:"DigSig",t:gU},26:{n:"ContentType",t:cr},27:{n:"ContentStatus",t:cr},28:{n:"Language",t:cr},29:{n:"Version",t:cr},255:{},2147483648:{n:"Locale",t:Eh},2147483651:{n:"Behavior",t:Eh},1919054434:{}},_U={1:{n:"CodePage",t:Iy},2:{n:"Title",t:cr},3:{n:"Subject",t:cr},4:{n:"Author",t:cr},5:{n:"Keywords",t:cr},6:{n:"Comments",t:cr},7:{n:"Template",t:cr},8:{n:"LastAuthor",t:cr},9:{n:"RevNumber",t:cr},10:{n:"EditTime",t:G0},11:{n:"LastPrinted",t:G0},12:{n:"CreatedDate",t:G0},13:{n:"ModifiedDate",t:G0},14:{n:"PageCount",t:as},15:{n:"WordCount",t:as},16:{n:"CharCount",t:as},17:{n:"Thumbnail",t:yU},18:{n:"Application",t:cr},19:{n:"DocSecurity",t:as},255:{},2147483648:{n:"Locale",t:Eh},2147483651:{n:"Behavior",t:Eh},1919054434:{}},hk={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},NU=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function jU(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var EU=jU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vo=yr(EU),Go={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},EE={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},mk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function SU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function CU(e){var t=SU();if(!e||!e.match)return t;var r={};if((e.match(Ur)||[]).forEach(function(s){var n=Ue(s);switch(n[0].replace(LB,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[mk[n.ContentType]]!==void 0&&t[mk[n.ContentType]].push(n.PartName);break}}),t.xmlns!==GB.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var vl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Fd(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(Ur)||[]).forEach(function(n){var a=Ue(n);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var l=a.TargetMode==="External"?a.Target:cd(a.Target,t);r[l]=i,s[a.Id]=i}}),r["!id"]=s,r}var TU="application/vnd.oasis.opendocument.spreadsheet";function AU(e,t){for(var r=Fy(e),s,n;s=pu.exec(r);)switch(s[3]){case"manifest":break;case"file-entry":if(n=Ue(s[0],!1),n.path=="/"&&n.type!==TU)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}var Rd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],FU=function(){for(var e=new Array(Rd.length),t=0;t<Rd.length;++t){var r=Rd[t],s="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e}();function SE(e){var t={};e=gt(e);for(var r=0;r<Rd.length;++r){var s=Rd[r],n=e.match(FU[r]);n!=null&&n.length>0&&(t[s[1]]=ot(n[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=fr(t[s[1]]))}return t}var RU=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function CE(e,t,r,s){var n=[];if(typeof e=="string")n=nk(e,s);else for(var a=0;a<e.length;++a)n=n.concat(e[a].map(function(u){return{v:u}}));var i=typeof t=="string"?nk(t,s).map(function(u){return u.v}):t,l=0,c=0;if(i.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function PU(e,t,r){var s={};return t||(t={}),e=gt(e),RU.forEach(function(n){var a=(e.match(xu(n[0]))||[])[1];switch(n[2]){case"string":a&&(t[n[1]]=ot(a));break;case"bool":t[n[1]]=a==="true";break;case"raw":var i=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(s[n[1]]=i[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&CE(s.HeadingPairs,s.TitlesOfParts,t,r),t}var MU=/<[^>]+>[^<]*/g;function OU(e,t){var r={},s="",n=e.match(MU);if(n)for(var a=0;a!=n.length;++a){var i=n[a],l=Ue(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":s=ot(l.name);break;case"</property>":s=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[s]=ot(u);break;case"bool":r[s]=Nt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[s]=parseFloat(u);break;case"filetime":case"date":r[s]=fr(u);break;case"cy":case"error":r[s]=ot(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,d,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var LU={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ax;function DU(e,t,r){Ax||(Ax=Cy(LU)),t=Ax[t]||t,e[t]=r}function By(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function TE(e,t,r){var s=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-s&3;)++e.l;return n}function AE(e,t,r){var s=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(s.length+1&3)&3),s}function FE(e,t,r){return t===31?AE(e):TE(e,t,r)}function Eg(e,t,r){return FE(e,t,r===!1?0:4)}function IU(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return FE(e,t,0)}function BU(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s){var n=e.l;r[s]=e.read_shift(0,"lpwstr").replace(Qr,""),e.l-n&2&&(e.l+=2)}return r}function UU(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s)r[s]=e.read_shift(0,"lpstr-cp").replace(Qr,"");return r}function $U(e){var t=e.l,r=Sh(e,jE);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=Sh(e,as);return[r,s]}function zU(e){for(var t=e.read_shift(4),r=[],s=0;s<t/2;++s)r.push($U(e));return r}function xk(e,t){for(var r=e.read_shift(4),s={},n=0;n!=r;++n){var a=e.read_shift(4),i=e.read_shift(4);s[a]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Qr,"").replace(ld,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>2+1<<2),s}function RE(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function VU(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Sh(e,t,r){var s=e.read_shift(2),n,a=r||{};if(e.l+=2,t!==fk&&s!==t&&wU.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===fk?s:t){case 2:return n=e.read_shift(2,"i"),a.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return TE(e,s,4).replace(Qr,"");case 31:return AE(e);case 64:return By(e);case 65:return RE(e);case 71:return VU(e);case 80:return Eg(e,s,!a.raw).replace(Qr,"");case 81:return IU(e,s).replace(Qr,"");case 4108:return zU(e);case 4126:case 4127:return s==4127?BU(e):UU(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function pk(e,t){var r=e.l,s=e.read_shift(4),n=e.read_shift(4),a=[],i=0,l=0,c=-1,d={};for(i=0;i!=n;++i){var u=e.read_shift(4),f=e.read_shift(4);a[i]=[u,f+r]}a.sort(function(v,b){return v[1]-b[1]});var h={};for(i=0;i!=n;++i){if(e.l!==a[i][1]){var m=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=a[i][1]&&(e.l=a[i][1],m=!1);break;case 4108:e.l<=a[i][1]&&(e.l=a[i][1],m=!1);break}if((!t||i==0)&&e.l<=a[i][1]&&(m=!1,e.l=a[i][1]),m)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var x=t[a[i][0]];if(h[x.n]=Sh(e,x.t,{raw:!0}),x.p==="version"&&(h[x.n]=String(h[x.n]>>16)+"."+("0000"+String(h[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(h[x.n]){case 0:h[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:cn(l=h[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[x.n])}}else if(a[i][0]===1){if(l=h.CodePage=Sh(e,Iy),cn(l),c!==-1){var p=e.l;e.l=a[c][1],d=xk(e,l),e.l=p}}else if(a[i][0]===0){if(l===0){c=i,e.l=a[i+1][1];continue}d=xk(e,l)}else{var g=d[a[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=RE(e);break;case 30:e.l+=4,y=Eg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=Eg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=It(e,4);break;case 64:e.l+=4,y=fr(By(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=y}}return e.l=r+s,h}function gk(e,t,r){var s=e.content;if(!s)return{};xr(s,0);var n,a,i,l,c=0;s.chk("feff","Byte Order: "),s.read_shift(2);var d=s.read_shift(4),u=s.read_shift(16);if(u!==rt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(n=s.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(a=s.read_shift(16),l=s.read_shift(4),n===1&&l!==s.l)throw new Error("Length mismatch: "+l+" !== "+s.l);n===2&&(i=s.read_shift(16),c=s.read_shift(4));var f=pk(s,t),h={SystemIdentifier:d};for(var m in f)h[m]=f[m];if(h.FMTID=a,n===1)return h;if(c-s.l==2&&(s.l+=2),s.l!==c)throw new Error("Length mismatch 2: "+s.l+" !== "+c);var x;try{x=pk(s,null)}catch{}for(m in x)h[m]=x[m];return h.FMTID=[a,i],h}function Ca(e,t){return e.read_shift(t),null}function HU(e,t,r){for(var s=[],n=e.l+t;e.l<n;)s.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return s}function It(e,t){return e.read_shift(t)===1}function Xt(e){return e.read_shift(2,"u")}function PE(e,t){return HU(e,t,Xt)}function WU(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Xu(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var i=s?e.read_shift(s,n):"";return i}function qU(e){var t=e.read_shift(2),r=e.read_shift(1),s=r&4,n=r&8,a=1+(r&1),i=0,l,c={};n&&(i=e.read_shift(2)),s&&(l=e.read_shift(4));var d=a==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*i),s&&(e.l+=l),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Do(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function Yu(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):Do(e,s,r)}function Ko(e,t,r){if(r.biff>5)return Yu(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function GU(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function KU(e){var t=e.read_shift(4),r=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=r);var n=e.read_shift((s?t-24:t)>>1,"utf16le").replace(Qr,"");return s&&(e.l+=24),n}function XU(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+s.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(a>>1,"utf16le").replace(Qr,"");return r+i}function YU(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return KU(e);case"0303000000000000c000000000000046":return XU(e);default:throw new Error("Unsupported Moniker "+r)}}function K0(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Qr,""):"";return r}function QU(e,t){var r=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var n=e.read_shift(2);e.l+=2;var a,i,l,c,d="",u,f;n&16&&(a=K0(e,r-e.l)),n&128&&(i=K0(e,r-e.l)),(n&257)===257&&(l=K0(e,r-e.l)),(n&257)===1&&(c=YU(e,r-e.l)),n&8&&(d=K0(e,r-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(f=By(e)),e.l=r;var h=i||l||c||"";h&&d&&(h+="#"+d),h||(h="#"+d),n&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return u&&(m.guid=u),f&&(m.time=f),a&&(m.Tooltip=a),m}function ME(e){var t=e.read_shift(1),r=e.read_shift(1),s=e.read_shift(1),n=e.read_shift(1);return[t,r,s,n]}function OE(e,t){var r=ME(e);return r[3]=0,r}function zn(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return{r:t,c:r,ixfe:s}}function ZU(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function JU(e,t,r){return t===0?"":Ko(e,t,r)}function e$(e,t,r){var s=r.biff>8?4:2,n=e.read_shift(s),a=e.read_shift(s,"i"),i=e.read_shift(s,"i");return[n,a,i]}function LE(e){var t=e.read_shift(2),r=Dy(e);return[t,r]}function t$(e,t,r){e.l+=4,t-=4;var s=e.l+t,n=Xu(e,t,r),a=e.read_shift(2);if(s-=e.l,a!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+a);return e.l+=a,n}function wm(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2);return{s:{c:s,r:t},e:{c:n,r}}}function DE(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(1),n=e.read_shift(1);return{s:{c:s,r:t},e:{c:n,r}}}var r$=DE;function IE(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[r,t,s]}function s$(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function n$(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Nr(e){e.l+=2,e.l+=e.read_shift(2)}var a$={0:Nr,4:Nr,5:Nr,6:Nr,7:n$,8:Nr,9:Nr,10:Nr,11:Nr,12:Nr,13:s$,14:Nr,15:Nr,16:Nr,17:Nr,18:Nr,19:Nr,20:Nr,21:IE};function i$(e,t){for(var r=e.l+t,s=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{s.push(a$[n](e,r-e.l))}catch{return e.l=r,s}}return e.l!=r&&(e.l=r),s}function X0(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function o$(e,t){return t===0||e.read_shift(2),1200}function l$(e,t,r){if(r.enc)return e.l+=t,"";var s=e.l,n=Ko(e,0,r);return e.read_shift(t+s-e.l),n}function c$(e,t,r){var s=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function d$(e,t,r){var s=e.read_shift(4),n=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=Xu(e,0,r);return i.length===0&&(i="Sheet1"),{pos:s,hs:n,dt:a,name:i}}function u$(e,t){for(var r=e.l+t,s=e.read_shift(4),n=e.read_shift(4),a=[],i=0;i!=n&&e.l<r;++i)a.push(qU(e));return a.Count=s,a.Unique=n,a}function f$(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function h$(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=r/20),t}function m$(e){var t=ZU(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function x$(e){return e.read_shift(2),e.read_shift(4)}function yk(e,t,r){var s=0;r&&r.biff==2||(s=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(s=1-(n>>15),n&=32767);var a={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[a,n]}function p$(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[s,n],Flags:a,CurTab:i,FirstTab:l,Selected:c,TabRatio:d}}function g$(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function y$(){}function v$(e,t,r){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=Xu(e,0,r),s}function b$(e){var t=zn(e);return t.isst=e.read_shift(4),t}function w$(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=e.l+t,n=zn(e);r.biff==2&&e.l++;var a=Yu(e,s-e.l,r);return n.val=a,n}function k$(e,t,r){var s=e.read_shift(2),n=Ko(e,0,r);return[s,n]}var _$=Ko;function vk(e,t,r){var s=e.l+t,n=r.biff==8||!r.biff?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(2),c=e.read_shift(2);return e.l=s,{s:{r:a,c:l},e:{r:i,c}}}function N$(e){var t=e.read_shift(2),r=e.read_shift(2),s=LE(e);return{r:t,c:r,ixfe:s[0],rknum:s[1]}}function j$(e,t){for(var r=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),a=[];e.l<r;)a.push(LE(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-n+1)throw new Error("MulRK length mismatch");return{r:s,c:n,C:i,rkrec:a}}function E$(e,t){for(var r=e.l+t-2,s=e.read_shift(2),n=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-n+1)throw new Error("MulBlank length mismatch");return{r:s,c:n,C:i,ixfe:a}}function S$(e,t,r,s){var n={},a=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return n.patternType=NU[l>>26],s.cellStyles&&(n.alc=a&7,n.fWrap=a>>3&1,n.alcV=a>>4&7,n.fJustLast=a>>7&1,n.trot=a>>8&255,n.cIndent=a>>16&15,n.fShrinkToFit=a>>20&1,n.iReadOrder=a>>22&2,n.fAtrNum=a>>26&1,n.fAtrFnt=a>>27&1,n.fAtrAlc=a>>28&1,n.fAtrBdr=a>>29&1,n.fAtrPat=a>>30&1,n.fAtrProt=a>>31&1,n.dgLeft=i&15,n.dgRight=i>>4&15,n.dgTop=i>>8&15,n.dgBottom=i>>12&15,n.icvLeft=i>>16&127,n.icvRight=i>>23&127,n.grbitDiag=i>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function C$(e,t,r){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=S$(e,t,s.fStyle,r),s}function T$(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function bk(e,t,r){var s=zn(e);(r.biff==2||t==9)&&++e.l;var n=WU(e);return s.val=n,s.t=n===!0||n===!1?"b":"e",s}function A$(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=zn(e),n=Fr(e);return s.val=n,s}var wk=JU;function F$(e,t,r){var s=e.l+t,n=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,n];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=Do(e,a),l=[];s>e.l;)l.push(Yu(e));return[a,n,i,l]}function kk(e,t,r){var s=e.read_shift(2),n,a={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return r.sbcch===14849&&(n=t$(e,t-2,r)),a.body=n||e.read_shift(t-2),typeof n=="string"&&(a.Name=n),a}var R$=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _k(e,t,r){var s=e.l+t,n=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=Do(e,i,r);n&32&&(d=R$[d.charCodeAt(0)]);var u=s-e.l;r&&r.biff==2&&--u;var f=s==e.l||l===0||!(u>0)?[]:hW(e,u,r,l);return{chKey:a,Name:d,itab:c,rgce:f}}function BE(e,t,r){if(r.biff<8)return P$(e,t,r);for(var s=[],n=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)s.push(e$(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return s}function P$(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=Xu(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function M$(e,t,r){if(r.biff<8){e.l+=t;return}var s=e.read_shift(2),n=e.read_shift(2),a=Do(e,s,r),i=Do(e,n,r);return[a,i]}function O$(e,t,r){var s=DE(e);e.l++;var n=e.read_shift(1);return t-=8,[mW(e,t,r),n,s]}function Nk(e,t,r){var s=r$(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,uW(e,t,r)]}function L$(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,s=e.read_shift(4);return[t,r,s]}function D$(e,t,r){if(!(r.biff<8)){var s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=Ko(e,0,r);return r.biff<8&&e.read_shift(1),[{r:s,c:n},l,i,a]}}function I$(e,t,r){return D$(e,t,r)}function B$(e,t){for(var r=[],s=e.read_shift(2);s--;)r.push(wm(e));return r}function U$(e,t,r){if(r&&r.biff<8)return z$(e,t,r);var s=IE(e),n=i$(e,t-22,s[1]);return{cmo:s,ft:n}}var $$={8:function(e,t){var r=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:s}}};function z$(e,t,r){e.l+=4;var s=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push(($$[s]||Br)(e,t,r)),{cmo:[n,s,a],ft:i}}function V$(e,t,r){var s=e.l,n="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:i=GU(e,6,r);var l=e.read_shift(2);e.read_shift(2),Xt(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-s!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=Do(e,e.lens[d+1]-e.lens[d]-1);if(n+=f,n.length>=(u?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=s+t,{t:n}}catch{return e.l=s+t,{t:n}}}function H$(e,t){var r=wm(e);e.l+=16;var s=QU(e,t-24);return[r,s]}function W$(e,t){e.read_shift(2);var r=wm(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(Qr,""),[r,s]}function q$(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=hk[r]||r,r=e.read_shift(2),t[1]=hk[r]||r,t}function G$(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(OE(e));return r}function K$(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(OE(e));return r}function X$(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function UE(e,t,r){if(!r.cellStyles)return Br(e,t);var s=r&&r.biff>=12?4:2,n=e.read_shift(s),a=e.read_shift(s),i=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:n,e:a,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Y$(e,t){var r={};return t<32||(e.l+=16,r.header=Fr(e),r.footer=Fr(e),e.l+=2),r}function Q$(e,t,r){var s={area:!1};if(r.biff!=5)return e.l+=t,s;var n=e.read_shift(1);return e.l+=3,n&16&&(s.area=!0),s}var Z$=zn,J$=PE,ez=Yu;function tz(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),n={fmt:t,env:r,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,n}function rz(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var s=zn(e);++e.l;var n=Ko(e,t-7,r);return s.t="str",s.val=n,s}function sz(e){var t=zn(e);++e.l;var r=Fr(e);return t.t="n",t.val=r,t}function nz(e){var t=zn(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function az(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function iz(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function oz(e,t,r){var s=e.l+t,n=zn(e),a=e.read_shift(2),i=Do(e,a,r);return e.l=s,n.t="str",n.val=i,n}var lz=[2,3,48,49,131,139,140,245],jk=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Cy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=Ei(1);switch(c.type){case"base64":u=on(js(l));break;case"binary":u=on(l);break;case"buffer":case"array":u=l;break}xr(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var y=u.read_shift(2),v=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var b=[],_={},j=Math.min(u.length,f==2?521:g-10-(m?264:0)),S=x?32:11;u.l<j&&u[u.l]!=13;)switch(_={},_.name=Ba.utils.decode(v,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,_.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),f==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&b.push(_),f!=2&&(u.l+=x?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var N=0,k=0;for(d[0]=[],k=0;k!=b.length;++k)d[0][k]=b[k].name;for(;p-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,d[++N]=[],k=0,k=0;k!=b.length;++k){var E=u.slice(u.l,u.l+b[k].len);u.l+=b[k].len,xr(E,0);var C=Ba.utils.decode(v,E);switch(b[k].type){case"C":C.trim().length&&(d[N][k]=C.replace(/\s+$/,""));break;case"D":C.length===8?d[N][k]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):d[N][k]=C;break;case"F":d[N][k]=parseFloat(C.trim());break;case"+":case"I":d[N][k]=x?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":d[N][k]=!0;break;case"N":case"F":d[N][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[N][k]="##MEMO##"+(x?parseInt(C.trim(),10):E.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(d[N][k]=+C||0);break;case"@":d[N][k]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[N][k]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[N][k]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][k]=-E.read_shift(-8,"f");break;case"B":if(m&&b[k].len==8){d[N][k]=E.read_shift(8,"f");break}case"G":case"P":E.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=b,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=wc(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function n(l,c){try{return Mi(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var d=c||{};if(+d.codepage>=0&&cn(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=_g(),f=Rg(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=l["!cols"]||[],p=0,g=0,y=0,v=1;for(p=0;p<h.length;++p){if(((x[p]||{}).DBF||{}).name){h[p]=x[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var b=Dt(l["!ref"]),_=[],j=[],S=[];for(p=0;p<=b.e.c-b.s.c;++p){var N="",k="",E=0,C=[];for(g=0;g<m.length;++g)m[g][p]!=null&&C.push(m[g][p]);if(C.length==0||h[p]==null){_[p]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=C[g]instanceof Date?"D":"C";break;default:k="C"}E=Math.max(E,String(C[g]).length),N=N&&N!=k?"C":k}E>250&&(E=250),k=((x[p]||{}).DBF||{}).type,k=="C"&&x[p].DBF.len>E&&(E=x[p].DBF.len),N=="B"&&k=="N"&&(N="N",S[p]=x[p].DBF.dec,E=x[p].DBF.len),j[p]=N=="C"||k=="N"?E:a[N]||0,v+=j[p],_[p]=N}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,m.length),A.write_shift(2,296+32*y),A.write_shift(2,v),p=0;p<4;++p)A.write_shift(4,0);for(A.write_shift(4,0|(+t[Ij]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var F=u.next(32),M=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,M,"sbcs"),F.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),F.write_shift(4,g),F.write_shift(1,j[p]||a[_[p]]||0),F.write_shift(1,S[p]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),g+=j[p]||a[_[p]]||0}var Y=u.next(264);for(Y.write_shift(4,13),p=0;p<65;++p)Y.write_shift(4,0);for(p=0;p<m.length;++p){var L=u.next(v);for(L.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":L.write_shift(1,m[p][g]==null?63:m[p][g]?84:70);break;case"B":L.write_shift(8,m[p][g]||0,"f");break;case"N":var G="0";for(typeof m[p][g]=="number"&&(G=m[p][g].toFixed(S[g]||0)),y=0;y<j[g]-G.length;++y)L.write_shift(1,32);L.write_shift(1,G,"sbcs");break;case"D":m[p][g]?(L.write_shift(4,("0000"+m[p][g].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(m[p][g].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+m[p][g].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(m[p][g]!=null?m[p][g]:"").slice(0,j[g]);for(L.write_shift(1,oe,"sbcs"),y=0;y<j[g]-oe.length;++y)L.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:s,from_sheet:i}}(),cz=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Bn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?$w(x):x},s=function(h,m,x){var p=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?h:$w(p)};e["|"]=254;function n(h,m){switch(m.type){case"base64":return a(js(h),m);case"binary":return a(h,m);case"buffer":return a(et&&Buffer.isBuffer(h)?h.toString("binary"):Ho(h),m);case"array":return a(Lo(h),m)}throw new Error("Unrecognized type "+m.type)}function a(h,m){var x=h.split(/[\n\r]+/),p=-1,g=-1,y=0,v=0,b=[],_=[],j=null,S={},N=[],k=[],E=[],C=0,A;for(+m.codepage>=0&&cn(+m.codepage);y!==x.length;++y){C=0;var F=x[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),M=F.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),Y=M[0],L;if(F.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&_.push(F.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,oe=!1,ne=!1,V=!1,X=-1,ee=-1;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"A":break;case"X":g=parseInt(M[v].slice(1))-1,oe=!0;break;case"Y":for(p=parseInt(M[v].slice(1))-1,oe||(g=0),A=b.length;A<=p;++A)b[A]=[];break;case"K":L=M[v].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(xn(L))?isNaN(ac(L).getDate())||(L=fr(L)):(L=xn(L),j!==null&&vc(j)&&(L=bm(L))),G=!0;break;case"E":V=!0;var R=Al(M[v].slice(1),{r:p,c:g});b[p][g]=[b[p][g],R];break;case"S":ne=!0,b[p][g]=[b[p][g],"S5S"];break;case"G":break;case"R":X=parseInt(M[v].slice(1))-1;break;case"C":ee=parseInt(M[v].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}if(G&&(b[p][g]&&b[p][g].length==2?b[p][g][0]=L:b[p][g]=L,j=null),ne){if(V)throw new Error("SYLK shared formula cannot have own formula");var K=X>-1&&b[X][ee];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");b[p][g][1]=YE(K[1],{r:p-X,c:g-ee})}break;case"F":var z=0;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"X":g=parseInt(M[v].slice(1))-1,++z;break;case"Y":for(p=parseInt(M[v].slice(1))-1,A=b.length;A<=p;++A)b[A]=[];break;case"M":C=parseInt(M[v].slice(1))/20;break;case"F":break;case"G":break;case"P":j=_[parseInt(M[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=M[v].slice(1).split(" "),A=parseInt(E[0],10);A<=parseInt(E[1],10);++A)C=parseInt(E[2],10),k[A-1]=C===0?{hidden:!0}:{wch:C},ic(k[A-1]);break;case"C":g=parseInt(M[v].slice(1))-1,k[g]||(k[g]={});break;case"R":p=parseInt(M[v].slice(1))-1,N[p]||(N[p]={}),C>0?(N[p].hpt=C,N[p].hpx=vu(C)):C===0&&(N[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}z<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}}return N.length>0&&(S["!rows"]=N),k.length>0&&(S["!cols"]=k),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,S]}function i(h,m){var x=n(h,m),p=x[0],g=x[1],y=wc(p,m);return Bn(g).forEach(function(v){y[v]=g[v]}),y}function l(h,m){return Mi(i(h,m),m)}function c(h,m,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+XV(h.f,{r:x,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(h,m){m.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Th(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Ah(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,m){m.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*GE(x.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,m){var x=["ID;PWXL;N;E"],p=[],g=Dt(h["!ref"]),y,v=Array.isArray(h),b=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&d(x,h["!cols"]),h["!rows"]&&u(x,h["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var j=g.s.c;j<=g.e.c;++j){var S=ze({r:_,c:j});y=v?(h[_]||[])[j]:h[S],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,_,j))}return x.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),dz=function(){function e(a,i){switch(i.type){case"base64":return t(js(a),i);case"binary":return t(a,i);case"buffer":return t(et&&Buffer.isBuffer(a)?a.toString("binary"):Ho(a),i);case"array":return t(Lo(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var l=a.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var h=l[u].trim().split(","),m=h[0],x=h[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(xn(x))?isNaN(ac(x).getDate())?f[c][d]=x:f[c][d]=fr(x):f[c][d]=xn(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(a,i){return wc(e(a,i),i)}function s(a,i){return Mi(r(a,i),i)}var n=function(){var a=function(c,d,u,f,h){c.push(d),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=Dt(c["!ref"]),f,h=Array.isArray(c);a(d,"TABLE",0,1,"sheetjs"),a(d,"VECTORS",0,u.e.r-u.s.r+1,""),a(d,"TUPLES",0,u.e.c-u.s.c+1,""),a(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){i(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=ze({r:m,c:x});if(f=h?(c[m]||[])[x]:c[p],!f){i(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(d,1,0,"="+f.f):i(d,1,0,""):i(d,0,g,"V");break;case"b":i(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ws(f.z||We[14],Zr(fr(f.v)))),i(d,0,f.w,"V");break;default:i(d,1,0,"")}}}i(d,-1,0,"EOD");var y=`\r
`,v=d.join(y);return v}}();return{to_workbook:s,to_sheet:r,from_sheet:n}}(),uz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,p=-1,g=0,y=[];g!==m.length;++g){var v=m[g].trim().split(":");if(v[0]==="cell"){var b=Kr(v[1]);if(y.length<=b.r)for(x=y.length;x<=b.r;++x)y[x]||(y[x]=[]);switch(x=b.r,p=b.c,v[2]){case"t":y[x][p]=e(v[3]);break;case"v":y[x][p]=+v[3];break;case"vtf":var _=v[v.length-1];case"vtc":switch(v[3]){case"nl":y[x][p]=!!+v[4];break;default:y[x][p]=+v[4];break}v[2]=="vtf"&&(y[x][p]=[y[x][p],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function s(f,h){return wc(r(f,h),h)}function n(f,h){return Mi(s(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,p="",g=bc(f["!ref"]),y=Array.isArray(f),v=g.s.r;v<=g.e.r;++v)for(var b=g.s.c;b<=g.e.c;++b)if(p=ze({r:v,c:b}),x=y?(f[v]||[])[b]:f[p],!(!x||x.v==null||x.t==="z")){switch(m=["cell",p,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var _=Zr(fr(x.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=x.w||Ws(x.z||We[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[a,i,l,i,d(f),c].join(`
`)}return{to_workbook:n,to_sheet:s,from_sheet:u}}(),gu=function(){function e(u,f,h,m,x){x.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(xn(u))?isNaN(ac(u).getDate())?f[h][m]=u:f[h][m]=fr(u):f[h][m]=xn(u))}function t(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,y=0,v=0;v<=p;++v)y=x[v].indexOf(" "),y==-1?y=x[v].length:y++,g=Math.max(g,y);for(v=0;v<=p;++v){m[v]=[];var b=0;for(e(x[v].slice(0,g).trim(),m,v,b,h),b=1;b<=(x[v].length-g)/10+1;++b)e(x[v].slice(g+(b-1)*10,g+b*10).trim(),m,v,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function n(u){for(var f={},h=!1,m=0,x=0;m<u.length;++m)(x=u.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=s;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function a(u,f){var h=f||{},m="",x=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):h&&h.FS?m=h.FS:m=n(u.slice(0,1024));var g=0,y=0,v=0,b=0,_=0,j=m.charCodeAt(0),S=!1,N=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=h.dateNF!=null?_B(h.dateNF):null;function C(){var A=u.slice(b,_),F={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)F.t="z";else if(h.raw)F.t="s",F.v=A;else if(A.trim().length===0)F.t="s",F.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(F.t="s",F.v=A.slice(2,-1).replace(/""/g,'"')):QV(A)?(F.t="n",F.f=A.slice(1)):(F.t="s",F.v=A);else if(A=="TRUE")F.t="b",F.v=!0;else if(A=="FALSE")F.t="b",F.v=!1;else if(!isNaN(v=xn(A)))F.t="n",h.cellText!==!1&&(F.w=A),F.v=v;else if(!isNaN(ac(A).getDate())||E&&A.match(E)){F.z=h.dateNF||We[14];var M=0;E&&A.match(E)&&(A=NB(A,h.dateNF,A.match(E)||[]),M=1),h.cellDates?(F.t="d",F.v=fr(A,M)):(F.t="n",F.v=Zr(fr(A,M))),h.cellText!==!1&&(F.w=Ws(F.z,F.v instanceof Date?Zr(F.v):F.v)),h.cellNF||delete F.z}else F.t="s",F.v=A;if(F.t=="z"||(h.dense?(x[g]||(x[g]=[]),x[g][y]=F):x[ze({c:y,r:g})]=F),b=_+1,k=u.charCodeAt(b),p.e.c<y&&(p.e.c=y),p.e.r<g&&(p.e.r=g),N==j)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<u.length;++_)switch(N=u.charCodeAt(_)){case 34:k===34&&(S=!S);break;case j:case 10:case 13:if(!S&&C())break e;break}return _-b>0&&C(),x["!ref"]=st(p),x}function i(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):wc(t(u,f),f)}function l(u,f){var h="",m=f.type=="string"?[0,0,0,0]:Gy(u,f);switch(f.type){case"base64":h=js(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ba<"u"?h=Ba.utils.decode(f.codepage,u):h=et&&Buffer.isBuffer(u)?u.toString("binary"):Ho(u);break;case"array":h=Lo(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=gt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=gt(h):f.type=="binary"&&typeof Ba<"u"&&f.codepage&&(h=Ba.utils.decode(f.codepage,Ba.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?uz.to_sheet(f.type=="string"?h:gt(h),f):i(h,f)}function c(u,f){return Mi(l(u,f),f)}function d(u){for(var f=[],h=Dt(u["!ref"]),m,x=Array.isArray(u),p=h.s.r;p<=h.e.r;++p){for(var g=[],y=h.s.c;y<=h.e.c;++y){var v=ze({r:p,c:y});if(m=x?(u[p]||[])[y]:u[v],!m||m.v==null){g.push("          ");continue}for(var b=(m.w||(wa(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function fz(e,t){var r=t||{},s=!!r.WTF;r.WTF=!0;try{var n=cz.to_workbook(e,r);return r.WTF=s,n}catch(a){if(r.WTF=s,!a.message.match(/SYLK bad record ID/)&&s)throw a;return gu.to_workbook(e,t)}}var Pd=function(){function e(R,K,z){if(R){xr(R,R.l||0);for(var H=z.Enum||X;R.l<R.length;){var Q=R.read_shift(2),de=H[Q]||H[65535],xe=R.read_shift(2),me=R.l+xe,ue=de.f&&de.f(R,xe,z);if(R.l=me,K(ue,de,Q))return}}}function t(R,K){switch(K.type){case"base64":return r(on(js(R)),K);case"binary":return r(on(R),K);case"buffer":case"array":return r(R,K)}throw"Unsupported type "+K.type}function r(R,K){if(!R)return R;var z=K||{},H=z.dense?[]:{},Q="Sheet1",de="",xe=0,me={},ue=[],Ce=[],B={s:{r:0,c:0},e:{r:0,c:0}},fe=z.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)z.Enum=X,e(R,function(be,nt,Ht){switch(Ht){case 0:z.vers=be,be>=4096&&(z.qpro=!0);break;case 6:B=be;break;case 204:be&&(de=be);break;case 222:de=be;break;case 15:case 51:z.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:Ht==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=z.dateNF||We[14],z.cellDates&&(be[1].t="d",be[1].v=bm(be[1].v))),z.qpro&&be[3]>xe&&(H["!ref"]=st(B),me[Q]=H,ue.push(Q),H=z.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],Q=de||"Sheet"+(xe+1),de="");var W=z.dense?(H[be[0].r]||[])[be[0].c]:H[ze(be[0])];if(W){W.t=be[1].t,W.v=be[1].v,be[1].z!=null&&(W.z=be[1].z),be[1].f!=null&&(W.f=be[1].f);break}z.dense?(H[be[0].r]||(H[be[0].r]=[]),H[be[0].r][be[0].c]=be[1]):H[ze(be[0])]=be[1];break}},z);else if(R[2]==26||R[2]==14)z.Enum=ee,R[2]==14&&(z.qpro=!0,R.l=0),e(R,function(be,nt,Ht){switch(Ht){case 204:Q=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>xe&&(H["!ref"]=st(B),me[Q]=H,ue.push(Q),H=z.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},xe=be[3],Q="Sheet"+(xe+1)),fe>0&&be[0].r>=fe)break;z.dense?(H[be[0].r]||(H[be[0].r]=[]),H[be[0].r][be[0].c]=be[1]):H[ze(be[0])]=be[1],B.e.c<be[0].c&&(B.e.c=be[0].c),B.e.r<be[0].r&&(B.e.r=be[0].r);break;case 27:be[14e3]&&(Ce[be[14e3][0]]=be[14e3][1]);break;case 1537:Ce[be[0]]=be[1],be[0]==xe&&(Q=be[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(H["!ref"]=st(B),me[de||Q]=H,ue.push(de||Q),!Ce.length)return{SheetNames:ue,Sheets:me};for(var _e={},Me=[],Re=0;Re<Ce.length;++Re)me[ue[Re]]?(Me.push(Ce[Re]||ue[Re]),_e[Ce[Re]]=me[Ce[Re]]||me[ue[Re]]):(Me.push(Ce[Re]),_e[Ce[Re]]={"!ref":"A1"});return{SheetNames:Me,Sheets:_e}}function s(R,K){var z=K||{};if(+z.codepage>=0&&cn(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var H=_g(),Q=Dt(R["!ref"]),de=Array.isArray(R),xe=[];Zs(H,0,a(1030)),Zs(H,6,c(Q));for(var me=Math.min(Q.e.r,8191),ue=Q.s.r;ue<=me;++ue)for(var Ce=vr(ue),B=Q.s.c;B<=Q.e.c;++B){ue===Q.s.r&&(xe[B]=ar(B));var fe=xe[B]+Ce,_e=de?(R[ue]||[])[B]:R[fe];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?Zs(H,13,m(ue,B,_e.v)):Zs(H,14,p(ue,B,_e.v));else{var Me=wa(_e);Zs(H,15,f(ue,B,Me.slice(0,239)))}}return Zs(H,1),H.end()}function n(R,K){var z=K||{};if(+z.codepage>=0&&cn(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var H=_g();Zs(H,0,i(R));for(var Q=0,de=0;Q<R.SheetNames.length;++Q)(R.Sheets[R.SheetNames[Q]]||{})["!ref"]&&Zs(H,27,V(R.SheetNames[Q],de++));var xe=0;for(Q=0;Q<R.SheetNames.length;++Q){var me=R.Sheets[R.SheetNames[Q]];if(!(!me||!me["!ref"])){for(var ue=Dt(me["!ref"]),Ce=Array.isArray(me),B=[],fe=Math.min(ue.e.r,8191),_e=ue.s.r;_e<=fe;++_e)for(var Me=vr(_e),Re=ue.s.c;Re<=ue.e.c;++Re){_e===ue.s.r&&(B[Re]=ar(Re));var be=B[Re]+Me,nt=Ce?(me[_e]||[])[Re]:me[be];if(!(!nt||nt.t=="z"))if(nt.t=="n")Zs(H,23,C(_e,Re,xe,nt.v));else{var Ht=wa(nt);Zs(H,22,N(_e,Re,xe,Ht.slice(0,239)))}}++xe}}return Zs(H,1),H.end()}function a(R){var K=Jt(2);return K.write_shift(2,R),K}function i(R){var K=Jt(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var z=0,H=0,Q=0,de=0;de<R.SheetNames.length;++de){var xe=R.SheetNames[de],me=R.Sheets[xe];if(!(!me||!me["!ref"])){++Q;var ue=bc(me["!ref"]);z<ue.e.r&&(z=ue.e.r),H<ue.e.c&&(H=ue.e.c)}}return z>8191&&(z=8191),K.write_shift(2,z),K.write_shift(1,Q),K.write_shift(1,H),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(R,K,z){var H={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&z.qpro?(H.s.c=R.read_shift(1),R.l++,H.s.r=R.read_shift(2),H.e.c=R.read_shift(1),R.l++,H.e.r=R.read_shift(2),H):(H.s.c=R.read_shift(2),H.s.r=R.read_shift(2),K==12&&z.qpro&&(R.l+=2),H.e.c=R.read_shift(2),H.e.r=R.read_shift(2),K==12&&z.qpro&&(R.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(R){var K=Jt(8);return K.write_shift(2,R.s.c),K.write_shift(2,R.s.r),K.write_shift(2,R.e.c),K.write_shift(2,R.e.r),K}function d(R,K,z){var H=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(H[0].c=R.read_shift(1),H[3]=R.read_shift(1),H[0].r=R.read_shift(2),R.l+=2):(H[2]=R.read_shift(1),H[0].c=R.read_shift(2),H[0].r=R.read_shift(2)),H}function u(R,K,z){var H=R.l+K,Q=d(R,K,z);if(Q[1].t="s",z.vers==20768){R.l++;var de=R.read_shift(1);return Q[1].v=R.read_shift(de,"utf8"),Q}return z.qpro&&R.l++,Q[1].v=R.read_shift(H-R.l,"cstr"),Q}function f(R,K,z){var H=Jt(7+z.length);H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,R),H.write_shift(1,39);for(var Q=0;Q<H.length;++Q){var de=z.charCodeAt(Q);H.write_shift(1,de>=128?95:de)}return H.write_shift(1,0),H}function h(R,K,z){var H=d(R,K,z);return H[1].v=R.read_shift(2,"i"),H}function m(R,K,z){var H=Jt(7);return H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,R),H.write_shift(2,z,"i"),H}function x(R,K,z){var H=d(R,K,z);return H[1].v=R.read_shift(8,"f"),H}function p(R,K,z){var H=Jt(13);return H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,R),H.write_shift(8,z,"f"),H}function g(R,K,z){var H=R.l+K,Q=d(R,K,z);if(Q[1].v=R.read_shift(8,"f"),z.qpro)R.l=H;else{var de=R.read_shift(2);_(R.slice(R.l,R.l+de),Q),R.l+=de}return Q}function y(R,K,z){var H=K&32768;return K&=-32769,K=(H?R:0)+(K>=8192?K-16384:K),(H?"":"$")+(z?ar(K):vr(K))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(R,K){xr(R,0);for(var z=[],H=0,Q="",de="",xe="",me="";R.l<R.length;){var ue=R[R.l++];switch(ue){case 0:z.push(R.read_shift(8,"f"));break;case 1:de=y(K[0].c,R.read_shift(2),!0),Q=y(K[0].r,R.read_shift(2),!1),z.push(de+Q);break;case 2:{var Ce=y(K[0].c,R.read_shift(2),!0),B=y(K[0].r,R.read_shift(2),!1);de=y(K[0].c,R.read_shift(2),!0),Q=y(K[0].r,R.read_shift(2),!1),z.push(Ce+B+":"+de+Q)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(R.read_shift(2));break;case 6:{for(var fe="";ue=R[R.l++];)fe+=String.fromCharCode(ue);z.push('"'+fe.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:me=z.pop(),xe=z.pop(),z.push(["AND","OR"][ue-20]+"("+xe+","+me+")");break;default:if(ue<32&&b[ue])me=z.pop(),xe=z.pop(),z.push(xe+b[ue]+me);else if(v[ue]){if(H=v[ue][1],H==69&&(H=R[R.l++]),H>z.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+z.join("|")+"|");return}var _e=z.slice(-H);z.length-=H,z.push(v[ue][0]+"("+_e.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}z.length==1?K[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function j(R){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=R.read_shift(2),K[3]=R[R.l++],K[0].c=R[R.l++],K}function S(R,K){var z=j(R);return z[1].t="s",z[1].v=R.read_shift(K-4,"cstr"),z}function N(R,K,z,H){var Q=Jt(6+H.length);Q.write_shift(2,R),Q.write_shift(1,z),Q.write_shift(1,K),Q.write_shift(1,39);for(var de=0;de<H.length;++de){var xe=H.charCodeAt(de);Q.write_shift(1,xe>=128?95:xe)}return Q.write_shift(1,0),Q}function k(R,K){var z=j(R);z[1].v=R.read_shift(2);var H=z[1].v>>1;if(z[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return z[1].v=H,z}function E(R,K){var z=j(R),H=R.read_shift(4),Q=R.read_shift(4),de=R.read_shift(2);if(de==65535)return H===0&&Q===3221225472?(z[1].t="e",z[1].v=15):H===0&&Q===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var xe=de&32768;return de=(de&32767)-16446,z[1].v=(1-xe*2)*(Q*Math.pow(2,de+32)+H*Math.pow(2,de)),z}function C(R,K,z,H){var Q=Jt(14);if(Q.write_shift(2,R),Q.write_shift(1,z),Q.write_shift(1,K),H==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var de=0,xe=0,me=0,ue=0;return H<0&&(de=1,H=-H),xe=Math.log2(H)|0,H/=Math.pow(2,xe-31),ue=H>>>0,ue&2147483648||(H/=2,++xe,ue=H>>>0),H-=ue,ue|=2147483648,ue>>>=0,H*=Math.pow(2,32),me=H>>>0,Q.write_shift(4,me),Q.write_shift(4,ue),xe+=16383+(de?32768:0),Q.write_shift(2,xe),Q}function A(R,K){var z=E(R);return R.l+=K-14,z}function F(R,K){var z=j(R),H=R.read_shift(4);return z[1].v=H>>6,z}function M(R,K){var z=j(R),H=R.read_shift(8,"f");return z[1].v=H,z}function Y(R,K){var z=M(R);return R.l+=K-10,z}function L(R,K){return R[R.l+K-1]==0?R.read_shift(K,"cstr"):""}function G(R,K){var z=R[R.l++];z>K-1&&(z=K-1);for(var H="";H.length<z;)H+=String.fromCharCode(R[R.l++]);return H}function oe(R,K,z){if(!(!z.qpro||K<21)){var H=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var Q=R.read_shift(K-21,"cstr");return[H,Q]}}function ne(R,K){for(var z={},H=R.l+K;R.l<H;){var Q=R.read_shift(2);if(Q==14e3){for(z[Q]=[0,""],z[Q][0]=R.read_shift(2);R[R.l];)z[Q][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return z}function V(R,K){var z=Jt(5+R.length);z.write_shift(2,14e3),z.write_shift(2,K);for(var H=0;H<R.length;++H){var Q=R.charCodeAt(H);z[z.l++]=Q>127?95:Q}return z[z.l++]=0,z}var X={0:{n:"BOF",f:Xt},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:n,to_workbook:t}}();function hz(e){var t={},r=e.match(Ur),s=0,n=!1;if(r)for(;s!=r.length;++s){var a=Ue(r[s]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=_y[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(a[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+a[0])}}return t}var mz=function(){var e=xu("t"),t=xu("rPr");function r(a){var i=a.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:ot(i[1])},c=a.match(t);return c&&(l.s=hz(c[1])),l}var s=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(s,"").split(n).map(r).filter(function(l){return l.v})}}(),xz=function(){var t=/(\r\n|\n)/g;function r(n,a,i){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),a.push('<span style="'+l.join("")+'">'),n.b&&(a.push("<b>"),i.push("</b>")),n.i&&(a.push("<i>"),i.push("</i>")),n.strike&&(a.push("<s>"),i.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),n}function s(n){var a=[[],n.v,[]];return n.v?(n.s&&r(n.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(s).join("")}}(),pz=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,gz=/<(?:\w+:)?r>/,yz=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Uy(e,t){var r=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=ot(gt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=gt(e),r&&(s.h=Ay(s.t))):e.match(gz)&&(s.r=gt(e),s.t=ot(gt((e.replace(yz,"").match(pz)||[]).join("").replace(Ur,""))),r&&(s.h=xz(mz(s.r)))),s):{t:""}}var vz=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,bz=/<(?:\w+:)?(?:si|sstItem)>/g,wz=/<\/(?:\w+:)?(?:si|sstItem)>/;function kz(e,t){var r=[],s="";if(!e)return r;var n=e.match(vz);if(n){s=n[2].replace(bz,"").split(wz);for(var a=0;a!=s.length;++a){var i=Uy(s[a].trim(),t);i!=null&&(r[r.length]=i)}n=Ue(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}function _z(e){return[e.read_shift(4),e.read_shift(4)]}function Nz(e,t){var r=[],s=!1;return Na(e,function(a,i,l){switch(l){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(i.T,!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function $E(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function fa(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function jz(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=fa(e,4),t.U=fa(e,4),t.W=fa(e,4),t}function Ez(e){for(var t=e.read_shift(4),r=e.l+t-4,s={},n=e.read_shift(4),a=[];n-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return s}function Sz(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Ez(e));return t}function Cz(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Tz(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=fa(e,4),t.U=fa(e,4),t.W=fa(e,4),t}function Az(e){var t=Tz(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function zE(e,t){var r=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var n=!1;switch(s.AlgID){case 26126:case 26127:case 26128:n=s.Flags==36;break;case 26625:n=s.Flags==4;break;case 0:n=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,s}function VE(e,t){var r={},s=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,s),e.l=s,r}function Fz(e){var t=fa(e);switch(t.Minor){case 2:return[t.Minor,Rz(e)];case 3:return[t.Minor,Pz()];case 4:return[t.Minor,Mz(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Rz(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),s=zE(e,r),n=VE(e,e.length-e.l);return{t:"Std",h:s,v:n}}function Pz(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Mz(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),s={};return r.replace(Ur,function(a){var i=Ue(a);switch($n(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){s[l]=i[l]});break;case"<dataIntegrity":s.encryptedHmacKey=i.encryptedHmacKey,s.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(i);break;default:throw i[0]}}),s}function Oz(e,t){var r={},s=r.EncryptionVersionInfo=fa(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=zE(e,n),t-=n,r.EncryptionVerifier=VE(e,t),r}function Lz(e){var t={},r=t.EncryptionVersionInfo=fa(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Dz(e){var t=0,r,s=$E(e),n=s.length+1,a,i,l,c,d;for(r=Ei(n),r[0]=s.length,a=1;a!=n;++a)r[a]=s[a-1];for(a=n-1;a>=0;--a)i=r[a],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^i;return t^52811}var HE=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(i){return(i/2|i*128)&255},n=function(i,l){return s(i^l)},a=function(i){for(var l=t[i.length-1],c=104,d=i.length-1;d>=0;--d)for(var u=i[d],f=0;f!=7;++f)u&64&&(l^=r[c]),u*=2,--c;return l};return function(i){for(var l=$E(i),c=a(l),d=l.length,u=Ei(16),f=0;f!=16;++f)u[f]=0;var h,m,x;for((d&1)===1&&(h=c>>8,u[d]=n(e[0],h),--d,h=c&255,m=l[l.length-1],u[d]=n(m,h));d>0;)--d,h=c>>8,u[d]=n(l[d],h),--d,h=c&255,u[d]=n(l[d],h);for(d=15,x=15-l.length;x>0;)h=c>>8,u[d]=n(e[x],h),--d,--x,h=c&255,u[d]=n(l[d],h),--d,--x;return u}}(),Iz=function(e,t,r,s,n){n||(n=t),s||(s=HE(e));var a,i;for(a=0;a!=t.length;++a)i=t[a],i^=s[r],i=(i>>5|i<<3)&255,n[a]=i,++r;return[n,r,s]},Bz=function(e){var t=0,r=HE(e);return function(s){var n=Iz("",s,t,r);return t=n[1],n[0]}};function Uz(e,t,r,s){var n={key:Xt(e),verificationBytes:Xt(e)};return r.password&&(n.verifier=Dz(r.password)),s.valid=n.verificationBytes===n.verifier,s.valid&&(s.insitu=Bz(r.password)),n}function $z(e,t,r){var s=r||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=Lz(e):s.Data=Oz(e,t),s}function zz(e,t,r){var s={Type:r.biff>=8?e.read_shift(2):0};return s.Type?$z(e,t-2,s):Uz(e,r.biff>=8?t:t-2,r,s),s}var Vz=function(){function e(n,a){switch(a.type){case"base64":return t(js(n),a);case"binary":return t(n,a);case"buffer":return t(et&&Buffer.isBuffer(n)?n.toString("binary"):Ho(n),a);case"array":return t(Lo(n),a)}throw new Error("Unrecognized type "+a.type)}function t(n,a){var i=a||{},l=i.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,x,p=-1;x=h.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(m,h.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var y={v:g,t:"s"};Array.isArray(l)?l[f][p]=y:l[ze({r:f,c:p})]=y}break}m=h.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=st(d),l}function r(n,a){return Mi(e(n,a),a)}function s(n){for(var a=["{\\rtf1\\ansi"],i=Dt(n["!ref"]),l,c=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){a.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var f=ze({r:d,c:u});l=c?(n[d]||[])[u]:n[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(wa(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function Hz(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function yu(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Wz(e){var t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.max(t,r,s),a=Math.min(t,r,s),i=n-a;if(i===0)return[0,0,t];var l=0,c=0,d=n+a;switch(c=i/(d>1?2-d:d),n){case t:l=((r-s)/i+6)%6;break;case r:l=(s-t)/i+2;break;case s:l=(t-r)/i+4;break}return[l/6,c,d/2]}function qz(e){var t=e[0],r=e[1],s=e[2],n=r*2*(s<.5?s:1-s),a=s-n/2,i=[a,a,a],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=n*l,i[0]+=n,i[1]+=c;break;case 1:c=n*(2-l),i[0]+=c,i[1]+=n;break;case 2:c=n*(l-2),i[1]+=n,i[2]+=c;break;case 3:c=n*(4-l),i[1]+=c,i[2]+=n;break;case 4:c=n*(l-4),i[2]+=n,i[0]+=c;break;case 5:c=n*(6-l),i[2]+=c,i[0]+=n;break}for(var d=0;d!=3;++d)i[d]=Math.round(i[d]*255);return i}function Ch(e,t){if(t===0)return e;var r=Wz(Hz(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),yu(qz(r))}var WE=6,Gz=15,Kz=1,Gr=WE;function Th(e){return Math.floor((e+Math.round(128/Gr)/256)*Gr)}function Ah(e){return Math.floor((e-5)/Gr*100+.5)/100}function Sg(e){return Math.round((e*Gr+5)/Gr*256)/256}function Fx(e){return Sg(Ah(Th(e)))}function $y(e){var t=Math.abs(e-Fx(e)),r=Gr;if(t>.005)for(Gr=Kz;Gr<Gz;++Gr)Math.abs(e-Fx(e))<=t&&(t=Math.abs(e-Fx(e)),r=Gr);Gr=r}function ic(e){e.width?(e.wpx=Th(e.width),e.wch=Ah(e.wpx),e.MDW=Gr):e.wpx?(e.wch=Ah(e.wpx),e.width=Sg(e.wch),e.MDW=Gr):typeof e.wch=="number"&&(e.width=Sg(e.wch),e.wpx=Th(e.width),e.MDW=Gr),e.customWidth&&delete e.customWidth}var Xz=96,qE=Xz;function GE(e){return e*96/qE}function vu(e){return e*qE/96}var Yz={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Qz(e,t,r,s){t.Borders=[];var n={},a=!1;(e[0].match(Ur)||[]).forEach(function(i){var l=Ue(i);switch($n(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=Nt(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=Nt(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in borders")}})}function Zz(e,t,r,s){t.Fills=[];var n={},a=!1;(e[0].match(Ur)||[]).forEach(function(i){var l=Ue(i);switch($n(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fills")}})}function Jz(e,t,r,s){t.Fonts=[];var n={},a=!1;(e[0].match(Ur)||[]).forEach(function(i){var l=Ue(i);switch($n(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=gt(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?Nt(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?Nt(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?Nt(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?Nt(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?Nt(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?Nt(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?Nt(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=_y[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=Nt(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var c=vo[n.color.index];n.color.index==81&&(c=vo[1]),c||(c=vo[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=Ch(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+l[0]+" in fonts")}})}function eV(e,t,r){t.NumberFmt=[];for(var s=Bn(We),n=0;n<s.length;++n)t.NumberFmt[s[n]]=We[s[n]];var a=e[0].match(Ur);if(a)for(n=0;n<a.length;++n){var i=Ue(a[n]);switch($n(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ot(gt(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}yo(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Y0=["numFmtId","fillId","fontId","borderId","xfId"],Q0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function tV(e,t,r){t.CellXf=[];var s,n=!1;(e[0].match(Ur)||[]).forEach(function(a){var i=Ue(a),l=0;switch($n(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=i,delete s[0],l=0;l<Y0.length;++l)s[Y0[l]]&&(s[Y0[l]]=parseInt(s[Y0[l]],10));for(l=0;l<Q0.length;++l)s[Q0[l]]&&(s[Q0[l]]=Nt(s[Q0[l]]));if(t.NumberFmt&&s.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[l]){s.numFmtId=l;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Nt(i.wrapText)),s.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var rV=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&eV(f,u,d),(f=l.match(n))&&Jz(f,u,c,d),(f=l.match(s))&&Zz(f,u,c,d),(f=l.match(a))&&Qz(f,u,c,d),(f=l.match(r))&&tV(f,u,d),u}}();function sV(e,t){var r=e.read_shift(2),s=Lr(e);return[r,s]}function nV(e,t,r){var s={};s.sz=e.read_shift(2)/20;var n=mU(e);n.fItalic&&(s.italic=1),n.fCondense&&(s.condense=1),n.fExtend&&(s.extend=1),n.fShadow&&(s.shadow=1),n.fOutline&&(s.outline=1),n.fStrikeout&&(s.strike=1);var a=e.read_shift(2);switch(a===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(s.underline=i);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=hU(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Lr(e),s}var aV=Br;function iV(e,t){var r=e.l+t,s=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:n}}var oV=Br;function lV(e,t,r){var s={};s.NumberFmt=[];for(var n in We)s.NumberFmt[n]=We[n];s.CellXf=[],s.Fonts=[];var a=[],i=!1;return Na(e,function(c,d,u){switch(u){case 44:s.NumberFmt[c[0]]=c[1],yo(c[1],c[0]);break;case 43:s.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ch(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&s.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(u),i=!0;break;case 38:a.pop(),i=!1;break;default:if(d.T>0)a.push(u);else if(d.T<0)a.pop();else if(!i||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}var cV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dV(e,t,r){t.themeElements.clrScheme=[];var s={};(e[0].match(Ur)||[]).forEach(function(n){var a=Ue(n);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=a.val;break;case"<a:sysClr":s.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[cV.indexOf(a[0])]=s,s={}):s.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function uV(){}function fV(){}var hV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,xV=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function pV(e,t,r){t.themeElements={};var s;[["clrScheme",hV,dV],["fontScheme",mV,uV],["fmtScheme",xV,fV]].forEach(function(n){if(!(s=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](s,t,r)})}var gV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function KE(e,t){(!e||e.length===0)&&(e=yV());var r,s={};if(!(r=e.match(gV)))throw new Error("themeElements not found in theme");return pV(r[0],s,t),s.raw=e,s}function yV(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[aE];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function vV(e,t,r){var s=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=s;return}var a=e.slice(e.l);e.l=s;var i;try{i=nE(a,{type:"array"})}catch{return}var l=bs(i,"theme/theme/theme1.xml",!0);if(l)return KE(l,r)}}function bV(e){return e.read_shift(4)}function wV(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=kV(e,4);break;case 2:t.xclrValue=ME(e);break;case 3:t.xclrValue=bV(e);break;case 4:e.l+=4;break}return e.l+=8,t}function kV(e,t){return Br(e,t)}function _V(e,t){return Br(e,t)}function NV(e){var t=e.read_shift(2),r=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=wV(e);break;case 6:s[1]=_V(e,r);break;case 14:case 15:s[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return s}function jV(e,t){var r=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(NV(e,r-e.l));return{ixfe:s,ext:a}}function EV(e,t){t.forEach(function(r){switch(r[0]){}})}function SV(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Lr(e)}}function CV(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function TV(e){return e.l+=4,e.read_shift(4)!=0}function AV(e,t,r){var s={Types:[],Cell:[],Value:[]},n=r||{},a=[],i=!1,l=2;return Na(e,function(c,d,u){switch(u){case 335:s.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?s.Cell.push({type:s.Types[f[0]-1].name,index:f[1]}):l==0&&s.Value.push({type:s.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:a.push(u),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!d.T){if(!i||n.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function FV(e,t,r){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var n=!1,a=2,i;return e.replace(Ur,function(l){var c=Ue(l);switch($n(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<s.Types.length;++d)s.Types[d].name==c.name&&(i=s.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?s.Cell.push({type:s.Types[c.t-1].name,index:+c.v}):a==0&&s.Value.push({type:s.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),s}function RV(e){var t=[];if(!e)return t;var r=1;return(e.match(Ur)||[]).forEach(function(s){var n=Ue(s);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function PV(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ze(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function MV(e,t,r){var s=[];return Na(e,function(a,i,l){switch(l){case 63:s.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function OV(e,t,r,s){if(!e)return e;var n=s||{},a=!1;Na(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function LV(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function Ek(e,t,r,s){var n=Array.isArray(e),a;t.forEach(function(i){var l=Kr(i.ref);if(n?(e[l.r]||(e[l.r]=[]),a=e[l.r][l.c]):a=e[i.ref],!a){a={t:"z"},n?e[l.r][l.c]=a:e[i.ref]=a;var c=Dt(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=st(c);d!==e["!ref"]&&(e["!ref"]=d)}a.c||(a.c=[]);var u={a:i.author,t:i.t,r:i.r,T:r};i.h&&(u.h=i.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&s){for(f=0;f<s.length;++f)if(u.a==s[f].id){u.a=s[f].name||u.a;break}}a.c.push(u)})}function DV(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],s=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Ue(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Kr(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Uy(f[1])||{r:"",t:"",h:""};d.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),d.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=h.h),s.push(d)}}}}),s}function IV(e,t){var r=[],s=!1,n={},a=0;return e.replace(Ur,function(l,c){var d=Ue(l);switch($n(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":a=c+l.length;break;case"</text>":n.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function BV(e,t){var r=[],s=!1;return e.replace(Ur,function(a){var i=Ue(a);switch($n(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),r}function UV(e){var t={};t.iauthor=e.read_shift(4);var r=qo(e);return t.rfx=r.s,t.ref=ze(r.s),e.l+=16,t}var $V=Lr;function zV(e,t){var r=[],s=[],n={},a=!1;return Na(e,function(l,c,d){switch(d){case 632:s.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=s[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var VV="application/vnd.ms-office.vbaProject";function HV(e){var t=rt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,s){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rt.utils.cfb_add(t,n,e.FileIndex[s].content)}}),rt.write(t)}function WV(){return{"!type":"dialog"}}function qV(){return{"!type":"dialog"}}function GV(){return{"!type":"macro"}}function KV(){return{"!type":"macro"}}var Al=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,n,a,i){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var d=a.length>0?parseInt(a,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,n+(l?"":"$")+ar(u)+(c?"":"$")+vr(d)}return function(n,a){return t=a,n.replace(e,r)}}(),XE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,XV=function(){return function(t,r){return t.replace(XE,function(s,n,a,i,l,c){var d=My(i)-(a?0:r.c),u=Py(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",h=d==0?"":a?d+1:"["+d+"]";return n+"R"+f+"C"+h})}}();function YE(e,t){return e.replace(XE,function(r,s,n,a,i,l){return s+(n=="$"?n+a:ar(My(a)+t.c))+(i=="$"?i+l:vr(Py(l)+t.r))})}function YV(e,t,r){var s=bc(t),n=s.s,a=Kr(r),i={r:a.r-n.r,c:a.c-n.c};return YE(e,i)}function QV(e){return e.length!=1}function Sk(e){return e.replace(/_xlfn\./g,"")}function Wt(e){e.l+=1}function Si(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function QE(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return ZE(e);r.biff==12&&(s=4)}var n=e.read_shift(s),a=e.read_shift(s),i=Si(e,2),l=Si(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function ZE(e){var t=Si(e,2),r=Si(e,2),s=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function ZV(e,t,r){if(r.biff<8)return ZE(e);var s=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),a=Si(e,2),i=Si(e,2);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:i[0],cRel:i[1],rRel:i[2]}}}function JE(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return JV(e);var s=e.read_shift(r&&r.biff==12?4:2),n=Si(e,2);return{r:s,c:n[0],cRel:n[1],rRel:n[2]}}function JV(e){var t=Si(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function eH(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function tH(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return rH(e);var n=e.read_shift(s>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;n>524287;)n-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:n,c:a,cRel:i,rRel:l}}function rH(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:s}}function sH(e,t,r){var s=(e[e.l++]&96)>>5,n=QE(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,n]}function nH(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=QE(e,a,r);return[s,n,i]}function aH(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function iH(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[s,n]}function oH(e,t,r){var s=(e[e.l++]&96)>>5,n=ZV(e,t-1,r);return[s,n]}function lH(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function Ck(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function cH(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),n=[],a=0;a<=s;++a)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function dH(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function uH(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function fH(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function hH(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function e3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function mH(e){return e.read_shift(2),e3(e)}function xH(e){return e.read_shift(2),e3(e)}function pH(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=JE(e,0,r);return[s,n]}function gH(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=tH(e,0,r);return[s,n]}function yH(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=JE(e,0,r);return[s,n,a]}function vH(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[bW[n],s3[n],s]}function bH(e,t,r){var s=e[e.l++],n=e.read_shift(1),a=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:wH(e);return[n,(a[0]===0?s3:vW)[a[1]]]}function wH(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kH(e,t,r){e.l+=r&&r.biff==2?3:4}function _H(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function NH(e){return e.l++,Go[e.read_shift(1)]}function jH(e){return e.l++,e.read_shift(2)}function EH(e){return e.l++,e.read_shift(1)!==0}function SH(e){return e.l++,Fr(e)}function CH(e,t,r){return e.l++,Xu(e,t-1,r)}function TH(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=It(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Go[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Fr(e);break;case 2:r[1]=Ko(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function AH(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),n=[],a=0;a!=s;++a)n.push((r.biff==12?qo:wm)(e));return n}function FH(e,t,r){var s=0,n=0;r.biff==12?(s=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--n==0&&(n=256));for(var a=0,i=[];a!=s&&(i[a]=[]);++a)for(var l=0;l!=n;++l)i[a][l]=TH(e,r.biff);return i}function RH(e,t,r){var s=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,a=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,a]}function PH(e,t,r){if(r.biff==5)return MH(e);var s=e.read_shift(1)>>>5&3,n=e.read_shift(2),a=e.read_shift(4);return[s,n,a]}function MH(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function OH(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function LH(e,t,r){var s=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[s,n]}function DH(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function IH(e,t,r){var s=(e[e.l++]&96)>>5,n=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[s,n]}var BH=Br,UH=Br,$H=Br;function Qu(e,t,r){return e.l+=2,[eH(e)]}function zy(e){return e.l+=6,[]}var zH=Qu,VH=zy,HH=zy,WH=Qu;function t3(e){return e.l+=2,[Xt(e),e.read_shift(2)&1]}var qH=Qu,GH=t3,KH=zy,XH=Qu,YH=Qu,QH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZH(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),n=e.read_shift(2),a=e.read_shift(2),i=QH[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:s,c:n,C:a}}function JH(e){return e.l+=2,[e.read_shift(4)]}function eW(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function tW(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function rW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function sW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function nW(e){return e.l+=4,[0,0]}var Tk={1:{n:"PtgExp",f:_H},2:{n:"PtgTbl",f:$H},3:{n:"PtgAdd",f:Wt},4:{n:"PtgSub",f:Wt},5:{n:"PtgMul",f:Wt},6:{n:"PtgDiv",f:Wt},7:{n:"PtgPower",f:Wt},8:{n:"PtgConcat",f:Wt},9:{n:"PtgLt",f:Wt},10:{n:"PtgLe",f:Wt},11:{n:"PtgEq",f:Wt},12:{n:"PtgGe",f:Wt},13:{n:"PtgGt",f:Wt},14:{n:"PtgNe",f:Wt},15:{n:"PtgIsect",f:Wt},16:{n:"PtgUnion",f:Wt},17:{n:"PtgRange",f:Wt},18:{n:"PtgUplus",f:Wt},19:{n:"PtgUminus",f:Wt},20:{n:"PtgPercent",f:Wt},21:{n:"PtgParen",f:Wt},22:{n:"PtgMissArg",f:Wt},23:{n:"PtgStr",f:CH},26:{n:"PtgSheet",f:eW},27:{n:"PtgEndSheet",f:tW},28:{n:"PtgErr",f:NH},29:{n:"PtgBool",f:EH},30:{n:"PtgInt",f:jH},31:{n:"PtgNum",f:SH},32:{n:"PtgArray",f:lH},33:{n:"PtgFunc",f:vH},34:{n:"PtgFuncVar",f:bH},35:{n:"PtgName",f:RH},36:{n:"PtgRef",f:pH},37:{n:"PtgArea",f:sH},38:{n:"PtgMemArea",f:OH},39:{n:"PtgMemErr",f:BH},40:{n:"PtgMemNoMem",f:UH},41:{n:"PtgMemFunc",f:LH},42:{n:"PtgRefErr",f:DH},43:{n:"PtgAreaErr",f:aH},44:{n:"PtgRefN",f:gH},45:{n:"PtgAreaN",f:oH},46:{n:"PtgMemAreaN",f:rW},47:{n:"PtgMemNoMemN",f:sW},57:{n:"PtgNameX",f:PH},58:{n:"PtgRef3d",f:yH},59:{n:"PtgArea3d",f:nH},60:{n:"PtgRefErr3d",f:IH},61:{n:"PtgAreaErr3d",f:iH},255:{}},aW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iW={1:{n:"PtgElfLel",f:t3},2:{n:"PtgElfRw",f:XH},3:{n:"PtgElfCol",f:zH},6:{n:"PtgElfRwV",f:YH},7:{n:"PtgElfColV",f:WH},10:{n:"PtgElfRadical",f:qH},11:{n:"PtgElfRadicalS",f:KH},13:{n:"PtgElfColS",f:VH},15:{n:"PtgElfColSV",f:HH},16:{n:"PtgElfRadicalLel",f:GH},25:{n:"PtgList",f:ZH},29:{n:"PtgSxName",f:JH},255:{}},oW={0:{n:"PtgAttrNoop",f:nW},1:{n:"PtgAttrSemi",f:hH},2:{n:"PtgAttrIf",f:uH},4:{n:"PtgAttrChoose",f:cH},8:{n:"PtgAttrGoto",f:dH},16:{n:"PtgAttrSum",f:kH},32:{n:"PtgAttrBaxcel",f:Ck},33:{n:"PtgAttrBaxcel",f:Ck},64:{n:"PtgAttrSpace",f:mH},65:{n:"PtgAttrSpaceSemi",f:xH},128:{n:"PtgAttrIfError",f:fH},255:{}};function Zu(e,t,r,s){if(s.biff<8)return Br(e,t);for(var n=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=FH(e,0,s),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=AH(e,r[i][1],s),a.push(r[i][2]);break;case"PtgExp":s&&s.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=n-e.l,t!==0&&a.push(Br(e,t)),a}function Ju(e,t,r){for(var s=e.l+t,n,a,i=[];s!=e.l;)t=s-e.l,a=e[e.l],n=Tk[a]||Tk[aW[a]],(a===24||a===25)&&(n=(a===24?iW:oW)[e[e.l+1]]),!n||!n.f?Br(e,t):i.push([n.n,n.f(e,t,r)]);return i}function lW(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],n=[],a=0;a<s.length;++a){var i=s[a];if(i)switch(i[0]){case 2:n.push('"'+i[1].replace(/"/g,'""')+'"');break;default:n.push(i[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var cW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dW(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function r3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[s[0]][0]){case 357:return n=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return n=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?n:n+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[s[0]][0][3]?(n=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?n:n+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function Ak(e,t,r){var s=r3(e,t,r);return s=="#REF"?s:dW(s,r)}function Sr(e,t,r,s,n){var a=n&&n.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",y=0,v=e[0].length;y<v;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Mt(" ",e[0][p][1][1]);break;case 1:g=Mt("\r",e[0][p][1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+cW[b[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Td(b[1][1],i,n),l.push(Ad(u,a));break;case"PtgRefN":u=r?Td(b[1][1],r,n):b[1][1],l.push(Ad(u,a));break;case"PtgRef3d":f=b[1][1],u=Td(b[1][2],i,n),x=Ak(s,f,n),l.push(x+"!"+Ad(u,a));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],j=b[1][1];_||(_=0),_&=127;var S=_==0?[]:l.slice(-_);l.length-=_,j==="User"&&(j=S.shift()),l.push(j+"("+S.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=dk(b[1][1],r?{s:r}:i,n),l.push(Tx(m,n));break;case"PtgArea":m=dk(b[1][1],i,n),l.push(Tx(m,n));break;case"PtgArea3d":f=b[1][1],m=b[1][2],x=Ak(s,f,n),l.push(x+"!"+Tx(m,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var N=(s.names||[])[h-1]||(s[0]||[])[h],k=N?N.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!n.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var E=b[1][1];h=b[1][2];var C;if(n.biff<=5)E<0&&(E=-E),s[E]&&(C=s[E][h]);else{var A="";if(((s[E]||[])[0]||[])[0]==14849||(((s[E]||[])[0]||[])[0]==1025?s[E][h]&&s[E][h].itab>0&&(A=s.SheetNames[s[E][h].itab-1]+"!"):A=s.SheetNames[h-1]+"!"),s[E]&&s[E][h])A+=s[E][h].Name;else if(s[0]&&s[0][h])A+=s[0][h].Name;else{var F=(r3(s,E,n)||"").split(";;");F[h-1]?A=F[h-1]:A+="SH33TJSERRX"}l.push(A);break}C||(C={Name:"SH33TJSERRY"}),l.push(C.Name);break;case"PtgParen":var M="(",Y=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:M=Mt(" ",e[0][p][1][1])+M;break;case 3:M=Mt("\r",e[0][p][1][1])+M;break;case 4:Y=Mt(" ",e[0][p][1][1])+Y;break;case 5:Y=Mt("\r",e[0][p][1][1])+Y;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(M+l.pop()+Y);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var L={c:r.c,r:r.r};if(s.sharedf[ze(u)]){var G=s.sharedf[ze(u)];l.push(Sr(G,i,L,s,n))}else{var oe=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Sr(d[1],i,L,s,n)),oe=!0;break}oe||l.push(b[1])}break;case"PtgArray":l.push("{"+lW(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&p>=0&&ne.indexOf(e[0][y][0])==-1){b=e[0][p];var V=!0;switch(b[1][0]){case 4:V=!1;case 0:g=Mt(" ",b[1][1]);break;case 5:V=!1;case 1:g=Mt("\r",b[1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((V?g:"")+l.pop()+(V?"":g)),p=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function uW(e,t,r){var s=e.l+t,n=r.biff==2?1:2,a,i=e.read_shift(n);if(i==65535)return[[],Br(e,t-2)];var l=Ju(e,i,r);return t!==i+n&&(a=Zu(e,t-i-n,l,r)),e.l=s,[l,a]}function fW(e,t,r){var s=e.l+t,n=r.biff==2?1:2,a,i=e.read_shift(n);if(i==65535)return[[],Br(e,t-2)];var l=Ju(e,i,r);return t!==i+n&&(a=Zu(e,t-i-n,l,r)),e.l=s,[l,a]}function hW(e,t,r,s){var n=e.l+t,a=Ju(e,s,r),i;return n!==e.l&&(i=Zu(e,n-e.l,a,r)),[a,i]}function mW(e,t,r){var s=e.l+t,n,a=e.read_shift(2),i=Ju(e,a,r);return a==65535?[[],Br(e,t-2)]:(t!==a+2&&(n=Zu(e,s-a-2,i,r)),[i,n])}function xW(e){var t;if(la(e,e.l+6)!==65535)return[Fr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Rx(e,t,r){var s=e.l+t,n=zn(e);r.biff==2&&++e.l;var a=xW(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=fW(e,s-e.l,r);return{cell:n,val:a[0],formula:l,shared:i>>3&1,tt:a[1]}}function km(e,t,r){var s=e.read_shift(4),n=Ju(e,s,r),a=e.read_shift(4),i=a>0?Zu(e,a,n,r):null;return[n,i]}var pW=km,_m=km,gW=km,yW=km,vW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},s3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Fk(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Px(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Md={},Fl={};function Od(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function n3(e,t,r,s,n,a){try{s.cellNF&&(e.z=We[t])}catch(l){if(s.WTF)throw l}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=fr(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(We[t]==null&&yo(kB[t]||"General",t),e.t==="e")e.w=e.w||Go[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v);else if(e.t==="d"){var i=Zr(e.v);(i|0)===i?e.w=i.toString(10):e.w=mu(i)}else{if(e.v===void 0)return"";e.w=Oo(e.v,Fl)}else e.t==="d"?e.w=Ws(t,Zr(e.v),Fl):e.w=Ws(t,e.v,Fl)}catch(l){if(s.WTF)throw l}if(s.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ch(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ch(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(s.WTF&&a.Fills)throw l}}}function wW(e,t){var r=Dt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=st(r))}var kW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_W=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,NW=/<(?:\w:)?hyperlink [^>]*>/mg,jW=/"(\w*:\w*)"/,EW=/<(?:\w:)?col\b[^>]*[\/]?>/g,SW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,CW=/<(?:\w:)?pageMargins[^>]*\/>/g,a3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,TW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,AW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function FW(e,t,r,s,n,a,i){if(!e)return e;s||(s={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(_W);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var h=d.match(a3);h?Vy(h[0],l,n,r):(h=d.match(TW))&&RW(h[0],h[1]||"",l,n,r);var m=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var x=d.slice(m,m+50).match(jW);x&&wW(l,x[1])}var p=d.match(AW);p&&p[1]&&IW(p[1],n);var g=[];if(t.cellStyles){var y=d.match(EW);y&&OW(g,y)}f&&BW(f[1],l,t,c,a,i);var v=u.match(SW);v&&(l["!autofilter"]=LW(v[0]));var b=[],_=u.match(kW);if(_)for(m=0;m!=_.length;++m)b[m]=Dt(_[m].slice(_[m].indexOf('"')+1));var j=u.match(NW);j&&PW(l,j,s);var S=u.match(CW);if(S&&(l["!margins"]=MW(Ue(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=st(c)),t.sheetRows>0&&l["!ref"]){var N=Dt(l["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=st(N))}return g.length>0&&(l["!cols"]=g),b.length>0&&(l["!merges"]=b),l}function Vy(e,t,r,s){var n=Ue(e);r.Sheets[s]||(r.Sheets[s]={}),n.codeName&&(r.Sheets[s].CodeName=ot(gt(n.codeName)))}function RW(e,t,r,s,n){Vy(e.slice(0,e.indexOf(">")),r,s,n)}function PW(e,t,r){for(var s=Array.isArray(e),n=0;n!=t.length;++n){var a=Ue(gt(t[n]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+ot(a.location))):(a.Target="#"+ot(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var l=Dt(a.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=ze({c:d,r:c});s?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=a):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=a)}}}function MW(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function OW(e,t){for(var r=!1,s=0;s!=t.length;++s){var n=Ue(t[s],!0);n.hidden&&(n.hidden=Nt(n.hidden));var a=parseInt(n.min,10)-1,i=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,$y(n.width)),ic(n);a<=i;)e[a++]=yr(n)}}function LW(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var DW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function IW(e,t){t.Views||(t.Views=[{}]),(e.match(DW)||[]).forEach(function(r,s){var n=Ue(r);t.Views[s]||(t.Views[s]={}),+n.zoomScale&&(t.Views[s].zoom=+n.zoomScale),Nt(n.rightToLeft)&&(t.Views[s].RTL=!0)})}var BW=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,a=xu("v"),i=xu("f");return function(c,d,u,f,h,m){for(var x=0,p="",g=[],y=[],v=0,b=0,_=0,j="",S,N,k=0,E=0,C,A,F=0,M=0,Y=Array.isArray(m.CellXf),L,G=[],oe=[],ne=Array.isArray(d),V=[],X={},ee=!1,R=!!u.sheetStubs,K=c.split(t),z=0,H=K.length;z!=H;++z){p=K[z].trim();var Q=p.length;if(Q!==0){var de=0;e:for(x=0;x<Q;++x)switch(p[x]){case">":if(p[x-1]!="/"){++x;break e}if(u&&u.cellStyles){if(N=Ue(p.slice(de,x),!0),k=N.r!=null?parseInt(N.r,10):k+1,E=-1,u.sheetRows&&u.sheetRows<k)continue;X={},ee=!1,N.ht&&(ee=!0,X.hpt=parseFloat(N.ht),X.hpx=vu(X.hpt)),N.hidden=="1"&&(ee=!0,X.hidden=!0),N.outlineLevel!=null&&(ee=!0,X.level=+N.outlineLevel),ee&&(V[k-1]=X)}break;case"<":de=x;break}if(de>=x)break;if(N=Ue(p.slice(de,x),!0),k=N.r!=null?parseInt(N.r,10):k+1,E=-1,!(u.sheetRows&&u.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),u&&u.cellStyles&&(X={},ee=!1,N.ht&&(ee=!0,X.hpt=parseFloat(N.ht),X.hpx=vu(X.hpt)),N.hidden=="1"&&(ee=!0,X.hidden=!0),N.outlineLevel!=null&&(ee=!0,X.level=+N.outlineLevel),ee&&(V[k-1]=X)),g=p.slice(x).split(e);for(var xe=0;xe!=g.length&&g[xe].trim().charAt(0)=="<";++xe);for(g=g.slice(xe),x=0;x!=g.length;++x)if(p=g[x].trim(),p.length!==0){if(y=p.match(r),v=x,b=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(v=0,j=y[1],b=0;b!=j.length&&!((_=j.charCodeAt(b)-64)<1||_>26);++b)v=26*v+_;--v,E=v}else++E;for(b=0;b!=p.length&&p.charCodeAt(b)!==62;++b);if(++b,N=Ue(p.slice(0,b),!0),N.r||(N.r=ze({r:k-1,c:E})),j=p.slice(b),S={t:""},(y=j.match(a))!=null&&y[1]!==""&&(S.v=ot(y[1])),u.cellFormula){if((y=j.match(i))!=null&&y[1]!==""){if(S.f=ot(gt(y[1])).replace(/\r\n/g,`
`),u.xlfn||(S.f=Sk(S.f)),y[0].indexOf('t="array"')>-1)S.F=(j.match(n)||[])[1],S.F.indexOf(":")>-1&&G.push([Dt(S.F),S.F]);else if(y[0].indexOf('t="shared"')>-1){A=Ue(y[0]);var me=ot(gt(y[1]));u.xlfn||(me=Sk(me)),oe[parseInt(A.si,10)]=[A,me,N.r]}}else(y=j.match(/<f[^>]*\/>/))&&(A=Ue(y[0]),oe[A.si]&&(S.f=YV(oe[A.si][1],oe[A.si][2],N.r)));var ue=Kr(N.r);for(b=0;b<G.length;++b)ue.r>=G[b][0].s.r&&ue.r<=G[b][0].e.r&&ue.c>=G[b][0].s.c&&ue.c<=G[b][0].e.c&&(S.F=G[b][1])}if(N.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(R)S.t="z";else continue;else S.t=N.t||"n";switch(f.s.c>E&&(f.s.c=E),f.e.c<E&&(f.e.c=E),S.t){case"n":if(S.v==""||S.v==null){if(!R)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!R)continue;S.t="z"}else C=Md[parseInt(S.v,10)],S.v=C.t,S.r=C.r,u.cellHTML&&(S.h=C.h);break;case"str":S.t="s",S.v=S.v!=null?gt(S.v):"",u.cellHTML&&(S.h=Ay(S.v));break;case"inlineStr":y=j.match(s),S.t="s",y!=null&&(C=Uy(y[1]))?(S.v=C.t,u.cellHTML&&(S.h=C.h)):S.v="";break;case"b":S.v=Nt(S.v);break;case"d":u.cellDates?S.v=fr(S.v,1):(S.v=Zr(fr(S.v,1)),S.t="n");break;case"e":(!u||u.cellText!==!1)&&(S.w=S.v),S.v=EE[S.v];break}if(F=M=0,L=null,Y&&N.s!==void 0&&(L=m.CellXf[N.s],L!=null&&(L.numFmtId!=null&&(F=L.numFmtId),u.cellStyles&&L.fillId!=null&&(M=L.fillId))),n3(S,F,M,u,h,m),u.cellDates&&Y&&S.t=="n"&&vc(We[F])&&(S.t="d",S.v=bm(S.v)),N.cm&&u.xlmeta){var Ce=(u.xlmeta.Cell||[])[+N.cm-1];Ce&&Ce.type=="XLDAPR"&&(S.D=!0)}if(ne){var B=Kr(N.r);d[B.r]||(d[B.r]=[]),d[B.r][B.c]=S}else d[N.r]=S}}}}V.length>0&&(d["!rows"]=V)}}();function UW(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=s,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=n/20),r}var $W=qo;function zW(){}function VW(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=uU(e),r}function HW(e){var t=Gs(e);return[t]}function WW(e){var t=Wo(e);return[t]}function qW(e){var t=Gs(e),r=e.read_shift(1);return[t,r,"b"]}function GW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function KW(e){var t=Gs(e),r=e.read_shift(1);return[t,r,"e"]}function XW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function YW(e){var t=Gs(e),r=e.read_shift(4);return[t,r,"s"]}function QW(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function ZW(e){var t=Gs(e),r=Fr(e);return[t,r,"n"]}function i3(e){var t=Wo(e),r=Fr(e);return[t,r,"n"]}function JW(e){var t=Gs(e),r=Dy(e);return[t,r,"n"]}function eq(e){var t=Wo(e),r=Dy(e);return[t,r,"n"]}function tq(e){var t=Gs(e),r=Oy(e);return[t,r,"is"]}function rq(e){var t=Gs(e),r=Lr(e);return[t,r,"str"]}function sq(e){var t=Wo(e),r=Lr(e);return[t,r,"str"]}function nq(e,t,r){var s=e.l+t,n=Gs(e);n.r=r["!row"];var a=e.read_shift(1),i=[n,a,"b"];if(r.cellFormula){e.l+=2;var l=_m(e,s-e.l,r);i[3]=Sr(l,null,n,r.supbooks,r)}else e.l=s;return i}function aq(e,t,r){var s=e.l+t,n=Gs(e);n.r=r["!row"];var a=e.read_shift(1),i=[n,a,"e"];if(r.cellFormula){e.l+=2;var l=_m(e,s-e.l,r);i[3]=Sr(l,null,n,r.supbooks,r)}else e.l=s;return i}function iq(e,t,r){var s=e.l+t,n=Gs(e);n.r=r["!row"];var a=Fr(e),i=[n,a,"n"];if(r.cellFormula){e.l+=2;var l=_m(e,s-e.l,r);i[3]=Sr(l,null,n,r.supbooks,r)}else e.l=s;return i}function oq(e,t,r){var s=e.l+t,n=Gs(e);n.r=r["!row"];var a=Lr(e),i=[n,a,"str"];if(r.cellFormula){e.l+=2;var l=_m(e,s-e.l,r);i[3]=Sr(l,null,n,r.supbooks,r)}else e.l=s;return i}var lq=qo;function cq(e,t){var r=e.l+t,s=qo(e),n=Ly(e),a=Lr(e),i=Lr(e),l=Lr(e);e.l=r;var c={rfx:s,relId:n,loc:a,display:l};return i&&(c.Tooltip=i),c}function dq(){}function uq(e,t,r){var s=e.l+t,n=_E(e),a=e.read_shift(1),i=[n];if(i[2]=a,r.cellFormula){var l=pW(e,s-e.l,r);i[1]=l}else e.l=s;return i}function fq(e,t,r){var s=e.l+t,n=qo(e),a=[n];if(r.cellFormula){var i=yW(e,s-e.l,r);a[1]=i,e.l=s}else e.l=s;return a}var hq=["left","right","top","bottom","header","footer"];function mq(e){var t={};return hq.forEach(function(r){t[r]=Fr(e)}),t}function xq(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function pq(){}function gq(){}function yq(e,t,r,s,n,a,i){if(!e)return e;var l=t||{};s||(s={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,x,p,g,y,v,b,_,j,S=[];l.biff=12,l["!row"]=0;var N=0,k=!1,E=[],C={},A=l.supbooks||n.supbooks||[[]];if(A.sharedf=C,A.arrayf=E,A.SheetNames=n.SheetNames||n.Sheets.map(function(ne){return ne.name}),!l.supbooks&&(l.supbooks=A,n.Names))for(var F=0;F<n.Names.length;++F)A[0][F+1]=n.Names[F];var M=[],Y=[],L=!1;Fh[16]={n:"BrtShortReal",f:i3};var G;if(Na(e,function(V,X,ee){if(!h)switch(ee){case 148:d=V;break;case 0:m=V,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=vr(g=m.r),l["!row"]=m.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=vu(V.hpt)),Y[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:V[2]},V[2]){case"n":x.v=V[1];break;case"s":b=Md[V[1]],x.v=b.t,x.r=b.r;break;case"b":x.v=!!V[1];break;case"e":x.v=V[1],l.cellText!==!1&&(x.w=Go[x.v]);break;case"str":x.t="s",x.v=V[1];break;case"is":x.t="s",x.v=V[1].t;break}if((p=i.CellXf[V[0].iStyleRef])&&n3(x,p.numFmtId,null,l,a,i),y=V[0].c==-1?y+1:V[0].c,l.dense?(c[g]||(c[g]=[]),c[g][y]=x):c[ar(y)+_]=x,l.cellFormula){for(k=!1,N=0;N<E.length;++N){var R=E[N];m.r>=R[0].s.r&&m.r<=R[0].e.r&&y>=R[0].s.c&&y<=R[0].e.c&&(x.F=st(R[0]),k=!0)}!k&&V.length>3&&(x.f=V[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),l.cellDates&&p&&x.t=="n"&&vc(We[p.numFmtId])){var K=Ji(x.v);K&&(x.t="d",x.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}G&&(G.type=="XLDAPR"&&(x.D=!0),G=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;x={t:"z",v:void 0},y=V[0].c==-1?y+1:V[0].c,l.dense?(c[g]||(c[g]=[]),c[g][y]=x):c[ar(y)+_]=x,u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),G&&(G.type=="XLDAPR"&&(x.D=!0),G=void 0);break;case 176:S.push(V);break;case 49:G=((l.xlmeta||{}).Cell||[])[V-1];break;case 494:var z=s["!id"][V.relId];for(z?(V.Target=z.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=z):V.relId==""&&(V.Target="#"+V.loc),g=V.rfx.s.r;g<=V.rfx.e.r;++g)for(y=V.rfx.s.c;y<=V.rfx.e.c;++y)l.dense?(c[g]||(c[g]=[]),c[g][y]||(c[g][y]={t:"z",v:void 0}),c[g][y].l=V):(v=ze({c:y,r:g}),c[v]||(c[v]={t:"z",v:void 0}),c[v].l=V);break;case 426:if(!l.cellFormula)break;E.push(V),j=l.dense?c[g][y]:c[ar(y)+_],j.f=Sr(V[1],u,{r:m.r,c:y},A,l),j.F=st(V[0]);break;case 427:if(!l.cellFormula)break;C[ze(V[0].s)]=V[1],j=l.dense?c[g][y]:c[ar(y)+_],j.f=Sr(V[1],u,{r:m.r,c:y},A,l);break;case 60:if(!l.cellStyles)break;for(;V.e>=V.s;)M[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},L||(L=!0,$y(V.w/256)),ic(M[V.e+1]);break;case 161:c["!autofilter"]={ref:st(V)};break;case 476:c["!margins"]=V;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),V.name&&(n.Sheets[r].CodeName=V.name),(V.above||V.left)&&(c["!outline"]={above:V.above,left:V.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),V.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=st(d||u)),l.sheetRows&&c["!ref"]){var oe=Dt(c["!ref"]);l.sheetRows<=+oe.e.r&&(oe.e.r=l.sheetRows-1,oe.e.r>u.e.r&&(oe.e.r=u.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>u.e.c&&(oe.e.c=u.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),c["!fullref"]=c["!ref"],c["!ref"]=st(oe))}return S.length>0&&(c["!merges"]=S),M.length>0&&(c["!cols"]=M),Y.length>0&&(c["!rows"]=Y),c}function vq(e){var t=[],r=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var n=ot((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){s=a.replace(/<.*?>/g,"")}),[t,n,s]}function bq(e,t,r,s,n,a){var i=a||{"!type":"chart"};if(!e)return a;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=vq(f);u.s.r=u.s.c=0,u.e.c=l,d=ar(l),h[0].forEach(function(m,x){i[d+vr(x)]={t:"n",v:m,z:h[1]},c=x}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(i["!ref"]=st(u)),i}function wq(e,t,r,s,n){if(!e)return e;s||(s={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(a3);return l&&Vy(l[0],a,n,r),(i=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),s["!id"][a["!rel"]]&&(a["!drawel"]=s["!id"][a["!rel"]]),a}function kq(e,t){e.l+=10;var r=Lr(e);return{name:r}}function _q(e,t,r,s,n){if(!e)return e;s||(s={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Na(e,function(c,d,u){switch(u){case 550:a["!rel"]=c;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),c.name&&(n.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),s["!id"][a["!rel"]]&&(a["!drawel"]=s["!id"][a["!rel"]]),a}var o3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Nq=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],jq=[],Eq=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Rk(e,t){for(var r=0;r!=e.length;++r)for(var s=e[r],n=0;n!=t.length;++n){var a=t[n];if(s[a[0]]==null)s[a[0]]=a[1];else switch(a[2]){case"bool":typeof s[a[0]]=="string"&&(s[a[0]]=Nt(s[a[0]]));break;case"int":typeof s[a[0]]=="string"&&(s[a[0]]=parseInt(s[a[0]],10));break}}}function Pk(e,t){for(var r=0;r!=t.length;++r){var s=t[r];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=Nt(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function l3(e){Pk(e.WBProps,o3),Pk(e.CalcPr,Eq),Rk(e.WBView,Nq),Rk(e.Sheets,jq),Fl.date1904=Nt(e.WBProps.date1904)}var Sq="][*?/\\".split("");function Cq(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return Sq.forEach(function(s){if(e.indexOf(s)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var Tq=/<\w+:workbook/;function Aq(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,n="xmlns",a={},i=0;if(e.replace(Ur,function(c,d){var u=Ue(c);switch($n(u[0])){case"<?xml":break;case"<workbook":c.match(Tq)&&(n="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":o3.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Nt(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=gt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=ot(gt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":a={},a.Name=gt(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),Nt(u.hidden||"0")&&(a.Hidden=!0),i=d+c.length;break;case"</definedName>":a.Ref=ot(gt(e.slice(i,d))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),KB.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return l3(r),r}function Fq(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ng(e),r.name=Lr(e),r}function Rq(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Lr(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function Pq(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Mq(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),a=fU(e),i=gW(e,0,r),l=Ly(e);e.l=s;var c={Name:a,Ptg:i};return n<268435455&&(c.Sheet=n),l&&(c.Comment=l),c}function Oq(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],n=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],Fh[16]={n:"BrtFRTArchID$",f:Pq},Na(e,function(c,d,u){switch(u){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Sr(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,c]):i[0]=[u,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),n=!0;break;case 36:s.pop(),n=!1;break;case 37:s.push(u),n=!0;break;case 38:s.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),l3(r),r.Names=a,r.supbooks=i,r}function Lq(e,t,r){return t.slice(-4)===".bin"?Oq(e,r):Aq(e,r)}function Dq(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?yq(e,s,r,n,a,i,l):FW(e,s,r,n,a,i,l)}function Iq(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?_q(e,s,r,n,a):wq(e,s,r,n,a)}function Bq(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?GV():KV()}function Uq(e,t,r,s,n,a,i,l){return t.slice(-4)===".bin"?WV():qV()}function $q(e,t,r,s){return t.slice(-4)===".bin"?lV(e,r,s):rV(e,r,s)}function zq(e,t,r){return KE(e,r)}function Vq(e,t,r){return t.slice(-4)===".bin"?Nz(e,r):kz(e,r)}function Hq(e,t,r){return t.slice(-4)===".bin"?zV(e,r):DV(e,r)}function Wq(e,t,r){return t.slice(-4)===".bin"?MV(e):RV(e)}function qq(e,t,r,s){return r.slice(-4)===".bin"?OV(e,t,r,s):void 0}function Gq(e,t,r){return t.slice(-4)===".bin"?AV(e,t,r):FV(e,t,r)}var c3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,d3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Qs(e,t){var r=e.split(/\s+/),s=[];if(t||(s[0]=r[0]),r.length===1)return s;var n=e.match(c3),a,i,l,c;if(n)for(c=0;c!=n.length;++c)a=n[c].match(d3),(i=a[1].indexOf(":"))===-1?s[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),s[l]=a[2].slice(1,a[2].length-1));return s}function Kq(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var s=e.match(c3),n,a,i,l;if(s)for(l=0;l!=s.length;++l)n=s[l].match(d3),(a=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?i="xmlns"+n[1].slice(6):i=n[1].slice(a+1),r[i]=n[2].slice(1,n[2].length-1));return r}var Ld;function Xq(e,t){var r=Ld[e]||ot(e);return r==="General"?Oo(t):Ws(r,t)}function Yq(e,t,r,s){var n=s;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Nt(s);break;case"i2":case"int":n=parseInt(s,10);break;case"r4":case"float":n=parseFloat(s);break;case"date":case"dateTime.tz":n=fr(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ot(t)]=n}function Qq(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Go[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v):e.w=Oo(e.v):e.w=Xq(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var s=Ld[t]||t||"General";if(r.cellNF&&(e.z=s),r.cellDates&&e.t=="n"&&vc(s)){var n=Ji(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(a){if(r.WTF)throw a}}}function Zq(e,t,r){if(r.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=Yz[s.Pattern]||s.Pattern)}e[t.ID]=t}function Jq(e,t,r,s,n,a,i,l,c,d){var u="General",f=s.StyleID,h={};d=d||{};var m=[],x=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&m.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":s.t="b",s.v=Nt(e);break;case"String":s.t="s",s.r=tk(ot(e)),s.v=e.indexOf("<")>-1?ot(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(fr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),s.v!==s.v?s.v=ot(e):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=EE[e],d.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=tk(t||e));break}if(Qq(s,u,d),d.cellFormula!==!1)if(s.Formula){var p=ot(s.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),s.f=Al(p,n),delete s.Formula,s.ArrayRange=="RC"?s.F=Al("RC:RC",n):s.ArrayRange&&(s.F=Al(s.ArrayRange,n),c.push([Dt(s.F),s.F]))}else for(x=0;x<c.length;++x)n.r>=c[x][0].s.r&&n.r<=c[x][0].e.r&&n.c>=c[x][0].s.c&&n.c<=c[x][0].e.c&&(s.F=c[x][1]);d.cellStyles&&(m.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),s.s=h),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function eG(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Mx(e,t){var r=t||{};Qj();var s=od(Fy(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(s=gt(s));var n=s.slice(0,1024).toLowerCase(),a=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var i=yr(r);return i.type="string",gu.to_workbook(s,i)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){n.indexOf("<"+nt)>=0&&(a=!0)}),a)return cG(s,r);Ld={"General Number":"General","General Date":We[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":We[15],"Short Date":We[14],"Long Time":We[19],"Medium Time":We[18],"Short Time":We[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:We[2],Standard:We[4],Percent:We[10],Scientific:We[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},f=[],h=r.dense?[]:{},m="",x={},p={},g=Qs('<Data ss:Type="String">'),y=0,v=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},S={},N="",k=0,E=[],C={},A={},F=0,M=[],Y=[],L={},G=[],oe,ne=!1,V=[],X=[],ee={},R=0,K=0,z={Sheets:[],WBProps:{date1904:!1}},H={};pu.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";l=pu.exec(s);)switch(l[3]=(Q=l[3]).toLowerCase()){case"data":if(Q=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Jq(s.slice(y,l.index),N,g,c[c.length-1][0]=="comment"?L:x,{c:v,r:b},j,G[v],p,V,r):(N="",g=Qs(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(Y.length>0&&(x.c=Y),(!r.sheetRows||r.sheetRows>b)&&x.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][v]=x):h[ar(v)+vr(b)]=x),x.HRef&&(x.l={Target:ot(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(R=v+(parseInt(x.MergeAcross,10)|0),K=b+(parseInt(x.MergeDown,10)|0),E.push({s:{c:v,r:b},e:{c:R,r:K}})),!r.sheetStubs)x.MergeAcross?v=R+1:++v;else if(x.MergeAcross||x.MergeDown){for(var de=v;de<=R;++de)for(var xe=b;xe<=K;++xe)(de>v||xe>b)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][de]={t:"z"}):h[ar(de)+vr(xe)]={t:"z"});v=R+1}else++v;else x=Kq(l[0]),x.Index&&(v=+x.Index-1),v<_.s.c&&(_.s.c=v),v>_.e.c&&(_.e.c=v),l[0].slice(-2)==="/>"&&++v,Y=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),l[0].slice(-2)==="/>"&&(p=Qs(l[0]),p.Index&&(b=+p.Index-1)),v=0,++b):(p=Qs(l[0]),p.Index&&(b=+p.Index-1),ee={},(p.AutoFitHeight=="0"||p.Height)&&(ee.hpx=parseInt(p.Height,10),ee.hpt=GE(ee.hpx),X[b]=ee),p.Hidden=="1"&&(ee.hidden=!0,X[b]=ee));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=st(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=st(_))),E.length&&(h["!merges"]=E),G.length>0&&(h["!cols"]=G),X.length>0&&(h["!rows"]=X),u[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=v=0,c.push([l[3],!1]),d=Qs(l[0]),m=ot(d.Name),h=r.dense?[]:{},E=[],V=[],X=[],H={name:m,Hidden:0},z.Sheets.push(H);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),G=[],ne=!1}break;case"style":l[1]==="/"?Zq(j,S,r):S=Qs(l[0]);break;case"numberformat":S.nf=ot(Qs(l[0]).Format||"General"),Ld[S.nf]&&(S.nf=Ld[S.nf]);for(var me=0;me!=392&&We[me]!=S.nf;++me);if(me==392){for(me=57;me!=392;++me)if(We[me]==null){yo(S.nf,me);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(oe=Qs(l[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!ne&&oe.wpx>10){ne=!0,Gr=WE;for(var ue=0;ue<G.length;++ue)G[ue]&&ic(G[ue])}ne&&ic(oe),G[oe.Index-1||G.length]=oe;for(var Ce=0;Ce<+oe.Span;++Ce)G[G.length]=yr(oe);break;case"namedrange":if(l[1]==="/")break;z.Names||(z.Names=[]);var B=Ue(l[0]),fe={Name:B.Name,Ref:Al(B.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(fe.Sheet=z.Sheets.length-1),z.Names.push(fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=s.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=Qs(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?DU(C,Q,s.slice(F,l.index)):F=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));eG(L),Y.push(L)}else c.push([l[3],!1]),d=Qs(l[0]),L={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var _e=Qs(l[0]);h["!autofilter"]={ref:Al(_e.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return Bk(s,r);var Me=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Me=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Me=!1}break;case"excelworkbook":switch(l[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Me=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Me=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(s.slice(F,l.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else F=l.index+l[0].length;break;case"header":h["!margins"]||Od(h["!margins"]={},"xlml"),isNaN(+Ue(l[0]).Margin)||(h["!margins"].header=+Ue(l[0]).Margin);break;case"footer":h["!margins"]||Od(h["!margins"]={},"xlml"),isNaN(+Ue(l[0]).Margin)||(h["!margins"].footer=+Ue(l[0]).Margin);break;case"pagemargins":var Re=Ue(l[0]);h["!margins"]||Od(h["!margins"]={},"xlml"),isNaN(+Re.Top)||(h["!margins"].top=+Re.Top),isNaN(+Re.Left)||(h["!margins"].left=+Re.Left),isNaN(+Re.Right)||(h["!margins"].right=+Re.Right),isNaN(+Re.Bottom)||(h["!margins"].bottom=+Re.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Me=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Me=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Me=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Me=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Me=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Me=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Me=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Me=!1}break;case"smarttags":break;default:Me=!1;break}if(Me||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Yq(A,Q,M,s.slice(F,l.index)):(M=l,F=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var be={};return!r.bookSheets&&!r.bookProps&&(be.Sheets=u),be.SheetNames=f,be.Workbook=z,be.SSF=yr(We),be.Props=C,be.Custprops=A,be}function Cg(e,t){switch(qy(t=t||{}),t.type||"base64"){case"base64":return Mx(js(e),t);case"binary":case"buffer":case"file":return Mx(e,t);case"array":return Mx(Ho(e),t)}}function tG(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=xU(r),r.length-r.l<=4)return t;var s=r.read_shift(4);if(s==0||s>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(s=r.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=pU(r),s=r.read_shift(4),s==0||s>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var rG=[60,1084,2066,2165,2175];function sG(e,t,r,s,n){var a=s,i=[],l=r.slice(r.l,r.l+a);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}i.push(l),r.l+=a;for(var c=la(r,r.l),d=Tg[c],u=0;d!=null&&rG.indexOf(c)>-1;)a=la(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+a),i.push(l),r.l+=4+a,d=Tg[c=la(r,r.l)];var f=Ua(i);xr(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+s;return t.f(f,f.length,n)}function _n(e,t,r){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=We[s])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Go[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=mu(e.v):e.w=Oo(e.v):e.w=Ws(s,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&s&&e.t=="n"&&vc(We[s]||String(s))){var n=Ji(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Z0(e,t,r){return{v:e,ixfe:t,t:r}}function nG(e,t){var r={opts:{}},s={},n=t.dense?[]:{},a={},i={},l=null,c=[],d="",u={},f,h="",m,x,p,g,y={},v=[],b,_,j=[],S=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},E=function(J){return J<8?vo[J]:J<64&&S[J-8]||vo[J]},C=function(J,Oe,ut){var ft=Oe.XF.data;if(!(!ft||!ft.patternType||!ut||!ut.cellStyles)){Oe.s={},Oe.s.patternType=ft.patternType;var Xs;(Xs=yu(E(ft.icvFore)))&&(Oe.s.fgColor={rgb:Xs}),(Xs=yu(E(ft.icvBack)))&&(Oe.s.bgColor={rgb:Xs})}},A=function(J,Oe,ut){if(!(ee>1)&&!(ut.sheetRows&&J.r>=ut.sheetRows)){if(ut.cellStyles&&Oe.XF&&Oe.XF.data&&C(J,Oe,ut),delete Oe.ixfe,delete Oe.XF,f=J,h=ze(J),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),J.r<i.s.r&&(i.s.r=J.r),J.c<i.s.c&&(i.s.c=J.c),J.r+1>i.e.r&&(i.e.r=J.r+1),J.c+1>i.e.c&&(i.e.c=J.c+1),ut.cellFormula&&Oe.f){for(var ft=0;ft<v.length;++ft)if(!(v[ft][0].s.c>J.c||v[ft][0].s.r>J.r)&&!(v[ft][0].e.c<J.c||v[ft][0].e.r<J.r)){Oe.F=st(v[ft][0]),(v[ft][0].s.c!=J.c||v[ft][0].s.r!=J.r)&&delete Oe.f,Oe.f&&(Oe.f=""+Sr(v[ft][1],i,J,V,F));break}}ut.dense?(n[J.r]||(n[J.r]=[]),n[J.r][J.c]=Oe):n[h]=Oe}},F={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:v,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var M,Y=[],L=[],G=[],oe=[],ne=!1,V=[];V.SheetNames=F.snames,V.sharedf=F.sharedf,V.arrayf=F.arrayf,V.names=[],V.XTI=[];var X=0,ee=0,R=0,K=[],z=[],H;F.codepage=1200,cn(1200);for(var Q=!1;e.l<e.length-1;){var de=e.l,xe=e.read_shift(2);if(xe===0&&X===10)break;var me=e.l===e.length?0:e.read_shift(2),ue=Tg[xe];if(ue&&ue.f){if(t.bookSheets&&X===133&&xe!==133)break;if(X=xe,ue.r===2||ue.r==12){var Ce=e.read_shift(2);if(me-=2,!F.enc&&Ce!==xe&&((Ce&255)<<8|Ce>>8)!==xe)throw new Error("rt mismatch: "+Ce+"!="+xe);ue.r==12&&(e.l+=10,me-=10)}var B={};if(xe===10?B=ue.f(e,me,F):B=sG(xe,ue,e,me,F),ee==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(xe){case 34:r.opts.Date1904=N.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=B;break;case 66:var fe=Number(B);switch(fe){case 21010:fe=1200;break;case 32768:fe=1e4;break;case 32769:fe=1252;break}cn(F.codepage=fe),Q=!0;break;case 317:F.rrtabid=B;break;case 25:F.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:F.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(n["!type"]="dialog"),B.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),B.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:j.push(B);break;case 430:V.push([B]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(B);break;case 24:case 536:H={Name:B.Name,Ref:Sr(B.rgce,i,null,V,F)},B.itab>0&&(H.Sheet=B.itab-1),V.names.push(H),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(z[B.itab-1]={ref:st(B.rgce[0][0][1][2])});break;case 22:F.ExternCount=B;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(B),V.XTI=V.XTI.concat(B);break;case 2196:if(F.biff<8)break;H!=null&&(H.Comment=B[1]);break;case 18:n["!protect"]=B;break;case 19:B!==0&&F.WTF&&console.error("Password verifier: "+B);break;case 133:a[B.pos]=B,F.snames.push(B.name);break;case 10:{if(--ee)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,n["!ref"]=st(i),t.sheetRows&&t.sheetRows<=i.e.r){var _e=i.e.r;i.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=st(i),i.e.r=_e}i.e.r++,i.e.c++}Y.length>0&&(n["!merges"]=Y),L.length>0&&(n["!objects"]=L),G.length>0&&(n["!cols"]=G),oe.length>0&&(n["!rows"]=oe),N.Sheets.push(k)}d===""?u=n:s[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),F.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(F.biff=5,Q=!0,cn(F.codepage=28591)),F.biff==8&&B.BIFFVer==0&&B.dt==16&&(F.biff=2),ee++)break;if(n=t.dense?[]:{},F.biff<8&&!Q&&(Q=!0,cn(F.codepage=t.codepage||1252)),F.biff<5||B.BIFFVer==0&&B.dt==4096){d===""&&(d="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Me={pos:e.l-me,name:d};a[Me.pos]=Me,F.snames.push(d)}else d=(a[de]||{name:""}).name;B.dt==32&&(n["!type"]="chart"),B.dt==64&&(n["!type"]="macro"),Y=[],L=[],F.arrayf=v=[],G=[],oe=[],ne=!1,k={Hidden:(a[de]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[B.r]||[])[B.c]:n[ze({c:B.c,r:B.r})])&&++B.c,b={ixfe:B.ixfe,XF:j[B.ixfe]||{},v:B.val,t:"n"},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t);break;case 5:case 517:b={ixfe:B.ixfe,XF:j[B.ixfe],v:B.val,t:B.t},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t);break;case 638:b={ixfe:B.ixfe,XF:j[B.ixfe],v:B.rknum,t:"n"},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t);break;case 189:for(var Re=B.c;Re<=B.C;++Re){var be=B.rkrec[Re-B.c][0];b={ixfe:be,XF:j[be],v:B.rkrec[Re-B.c][1],t:"n"},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:Re,r:B.r},b,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){l=B;break}if(b=Z0(B.val,B.cell.ixfe,B.tt),b.XF=j[b.ixfe],t.cellFormula){var nt=B.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var Ht=nt[0][0][1][0],W=nt[0][0][1][1],Z=ze({r:Ht,c:W});y[Z]?b.f=""+Sr(B.formula,i,B.cell,V,F):b.F=((t.dense?(n[Ht]||[])[W]:n[Z])||{}).F}else b.f=""+Sr(B.formula,i,B.cell,V,F)}R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A(B.cell,b,t),l=B}break;case 7:case 519:if(l)l.val=B,b=Z0(B,l.cell.ixfe,"s"),b.XF=j[b.ixfe],t.cellFormula&&(b.f=""+Sr(l.formula,i,l.cell,V,F)),R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{v.push(B);var le=ze(B[0].s);if(m=t.dense?(n[B[0].s.r]||[])[B[0].s.c]:n[le],t.cellFormula&&m){if(!l||!le||!m)break;m.f=""+Sr(B[1],i,B[0],V,F),m.F=st(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[ze(l.cell)]=B[0],m=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[ze(l.cell)],(m||{}).f=""+Sr(B[0],i,f,V,F)}}break;case 253:b=Z0(c[B.isst].t,B.ixfe,"s"),c[B.isst].h&&(b.h=c[B.isst].h),b.XF=j[b.ixfe],R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:B.ixfe,XF:j[B.ixfe],t:"z"},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t));break;case 190:if(t.sheetStubs)for(var ke=B.c;ke<=B.C;++ke){var ge=B.ixfe[ke-B.c];b={ixfe:ge,XF:j[ge],t:"z"},R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:ke,r:B.r},b,t)}break;case 214:case 516:case 4:b=Z0(B.val,B.ixfe,"s"),b.XF=j[b.ixfe],R>0&&(b.z=K[b.ixfe>>8&63]),_n(b,t,r.opts.Date1904),A({c:B.c,r:B.r},b,t);break;case 0:case 512:ee===1&&(i=B);break;case 252:c=B;break;case 1054:if(F.biff==4){K[R++]=B[1];for(var pe=0;pe<R+163&&We[pe]!=B[1];++pe);pe>=163&&yo(B[1],R+163)}else yo(B[1],B[0]);break;case 30:{K[R++]=B;for(var Ae=0;Ae<R+163&&We[Ae]!=B;++Ae);Ae>=163&&yo(B,R+163)}break;case 229:Y=Y.concat(B);break;case 93:L[B.cmo[0]]=F.lastobj=B;break;case 438:F.lastobj.TxO=B;break;case 127:F.lastobj.ImData=B;break;case 440:for(g=B[0].s.r;g<=B[0].e.r;++g)for(p=B[0].s.c;p<=B[0].e.c;++p)m=t.dense?(n[g]||[])[p]:n[ze({c:p,r:g})],m&&(m.l=B[1]);break;case 2048:for(g=B[0].s.r;g<=B[0].e.r;++g)for(p=B[0].s.c;p<=B[0].e.c;++p)m=t.dense?(n[g]||[])[p]:n[ze({c:p,r:g})],m&&m.l&&(m.l.Tooltip=B[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;m=t.dense?(n[B[0].r]||[])[B[0].c]:n[ze(B[0])];var Ye=L[B[2]];m||(t.dense?(n[B[0].r]||(n[B[0].r]=[]),m=n[B[0].r][B[0].c]={t:"z"}):m=n[ze(B[0])]={t:"z"},i.e.r=Math.max(i.e.r,B[0].r),i.s.r=Math.min(i.s.r,B[0].r),i.e.c=Math.max(i.e.c,B[0].c),i.s.c=Math.min(i.s.c,B[0].c)),m.c||(m.c=[]),x={a:B[1],t:Ye.TxO.t},m.c.push(x)}break;case 2173:EV(j[B.ixfe],B.ext);break;case 125:{if(!F.cellStyles)break;for(;B.e>=B.s;)G[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},ne||(ne=!0,$y(B.w/256)),ic(G[B.e+1])}break;case 520:{var $e={};B.level!=null&&(oe[B.r]=$e,$e.level=B.level),B.hidden&&(oe[B.r]=$e,$e.hidden=!0),B.hpt&&(oe[B.r]=$e,$e.hpt=B.hpt,$e.hpx=vu(B.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Od(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=B;break;case 161:n["!margins"]||Od(n["!margins"]={}),n["!margins"].header=B.header,n["!margins"].footer=B.footer;break;case 574:B.RTL&&(N.Views[0].RTL=!0);break;case 146:S=B;break;case 2198:M=B;break;case 140:_=B;break;case 442:d?k.CodeName=B||k.name:N.WBProps.CodeName=B||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=me}return r.SheetNames=Bn(a).sort(function(ht,J){return Number(ht)-Number(J)}).map(function(ht){return a[ht].name}),t.bookSheets||(r.Sheets=s),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(ht,J){r.Sheets[r.SheetNames[J]]["!autofilter"]=ht}),r.Strings=c,r.SSF=yr(We),F.enc&&(r.Encryption=F.enc),M&&(r.Themes=M),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),V.names.length>0&&(N.Names=V.names),r.Workbook=N,r}var Mk={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function aG(e,t,r){var s=rt.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var n=gk(s,kU,Mk.DSI);for(var a in n)t[a]=n[a]}catch(d){if(r.WTF)throw d}var i=rt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=gk(i,_U,Mk.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(CE(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function u3(e,t){t||(t={}),qy(t),Bj(),t.codepage&&Ny(t.codepage);var r,s;if(e.FullPaths){if(rt.find(e,"/encryption"))throw new Error("File is password-protected");r=rt.find(e,"!CompObj"),s=rt.find(e,"/Workbook")||rt.find(e,"/Book")}else{switch(t.type){case"base64":e=on(js(e));break;case"binary":e=on(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}xr(e,0),s={content:e}}var n,a;if(r&&tG(r),t.bookProps&&!t.bookSheets)n={};else{var i=et?"buffer":"array";if(s&&s.content)n=nG(s.content,t);else if((a=rt.find(e,"PerfectOffice_MAIN"))&&a.content)n=Pd.to_workbook(a.content,(t.type=i,t));else if((a=rt.find(e,"NativeContent_MAIN"))&&a.content)n=Pd.to_workbook(a.content,(t.type=i,t));else throw(a=rt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&rt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=HV(e))}var l={};return e.FullPaths&&aG(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}var Fh={0:{f:UW},1:{f:HW},2:{f:JW},3:{f:KW},4:{f:qW},5:{f:ZW},6:{f:rq},7:{f:YW},8:{f:oq},9:{f:iq},10:{f:nq},11:{f:aq},12:{f:WW},13:{f:eq},14:{f:XW},15:{f:GW},16:{f:i3},17:{f:sq},18:{f:QW},19:{f:Oy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Mq},40:{},42:{},43:{f:nV},44:{f:sV},45:{f:aV},46:{f:oV},47:{f:iV},48:{},49:{f:lU},50:{},51:{f:CV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UE},62:{f:tq},63:{f:PV},64:{f:pq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Br,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:xq},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:VW},148:{f:$W,p:16},151:{f:dq},152:{},153:{f:Rq},154:{},155:{},156:{f:Fq},157:{},158:{},159:{T:1,f:_z},160:{T:-1},161:{T:1,f:qo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:SV},336:{T:-1},337:{f:TV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ng},357:{},358:{},359:{},360:{T:1},361:{},362:{f:BE},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uq},427:{f:fq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ng},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$V},633:{T:1},634:{T:-1},635:{T:1,f:UV},636:{T:-1},637:{f:dU},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Tg={6:{f:Rx},10:{f:Ca},12:{f:Xt},13:{f:Xt},14:{f:It},15:{f:It},16:{f:Fr},17:{f:It},18:{f:It},19:{f:Xt},20:{f:wk},21:{f:wk},23:{f:BE},24:{f:_k},25:{f:It},26:{},27:{},28:{f:I$},29:{},34:{f:It},35:{f:kk},38:{f:Fr},39:{f:Fr},40:{f:Fr},41:{f:Fr},42:{f:It},43:{f:It},47:{f:zz},49:{f:v$},51:{f:Xt},60:{},61:{f:p$},64:{f:It},65:{f:y$},66:{f:Xt},77:{},80:{},81:{},82:{},85:{f:Xt},89:{},90:{},91:{},92:{f:l$},93:{f:U$},94:{},95:{f:It},96:{},97:{},99:{f:It},125:{f:UE},128:{f:T$},129:{f:c$},130:{f:Xt},131:{f:It},132:{f:It},133:{f:d$},134:{},140:{f:q$},141:{f:Xt},144:{},146:{f:K$},151:{},152:{},153:{},154:{},155:{},156:{f:Xt},157:{},158:{},160:{f:J$},161:{f:Y$},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:j$},190:{f:E$},193:{f:Ca},197:{},198:{},199:{},200:{},201:{},202:{f:It},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xt},220:{},221:{f:It},222:{},224:{f:C$},225:{f:o$},226:{f:Ca},227:{},229:{f:B$},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:u$},253:{f:b$},255:{f:f$},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PE},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:It},353:{f:Ca},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:F$},431:{f:It},432:{},433:{},434:{},437:{},438:{f:V$},439:{f:It},440:{f:H$},441:{},442:{f:Yu},443:{},444:{f:Xt},445:{},446:{},448:{f:Ca},449:{f:x$,r:2},450:{f:Ca},512:{f:vk},513:{f:Z$},515:{f:A$},516:{f:w$},517:{f:bk},519:{f:ez},520:{f:h$},523:{},545:{f:Nk},549:{f:yk},566:{},574:{f:g$},638:{f:N$},659:{},1048:{},1054:{f:k$},1084:{},1212:{f:O$},2048:{f:W$},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:X0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ca},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:X$,r:12},2173:{f:jV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:It,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:M$,r:12},2197:{},2198:{f:vV,r:12},2199:{},2200:{},2201:{},2202:{f:L$,r:12},2203:{f:Ca},2204:{},2205:{},2206:{},2207:{},2211:{f:m$},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xt},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Q$},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:G$},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:vk},1:{},2:{f:nz},3:{f:sz},4:{f:rz},5:{f:bk},7:{f:az},8:{},9:{f:X0},11:{},22:{f:Xt},30:{f:_$},31:{},32:{},33:{f:Nk},36:{},37:{f:yk},50:{f:iz},62:{},52:{},67:{},68:{f:Xt},69:{},86:{},126:{},127:{f:tz},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:oz},223:{},234:{},354:{},421:{},518:{f:Rx},521:{f:X0},536:{f:_k},547:{f:kk},561:{},579:{},1030:{f:Rx},1033:{f:X0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zs(e,t,r,s){var n=t;if(!isNaN(n)){var a=s||(r||[]).length||0,i=e.next(4);i.write_shift(2,n),i.write_shift(2,a),a>0&&bE(r)&&e.push(r)}}function Ok(e,t){var r=t||{},s=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=n.index,l=a&&a.index||e.length,c=FB(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(i=0;i<c.length;++i){var p=c[i].trim(),g=p.slice(0,3).toLowerCase();if(g=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var y=p.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var v=y[l].trim();if(v.match(/<t[dh]/i)){for(var b=v,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var j=0;j<x.length;++j){var S=x[j];S.s.c==u&&S.s.r<d&&d<=S.e.r&&(u=S.e.c+1,j=-1)}var N=Ue(v.slice(0,v.indexOf(">")));h=N.colspan?+N.colspan:1,((f=+N.rowspan)>1||h>1)&&x.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+h-1}});var k=N.t||N["data-t"]||"";if(!b.length){u+=h;continue}if(b=oE(b),m.s.r>d&&(m.s.r=d),m.e.r<d&&(m.e.r=d),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!b.length){u+=h;continue}var E={t:"s",v:b};r.raw||!b.trim().length||k=="s"||(b==="TRUE"?E={t:"b",v:!0}:b==="FALSE"?E={t:"b",v:!1}:isNaN(xn(b))?isNaN(ac(b).getDate())||(E={t:"d",v:fr(b)},r.cellDates||(E={t:"n",v:Zr(E.v)}),E.z=r.dateNF||We[14]):E={t:"n",v:xn(b)}),r.dense?(s[d]||(s[d]=[]),s[d][u]=E):s[ze({r:d,c:u})]=E,u+=h}}}}return s["!ref"]=st(m),x.length&&(s["!merges"]=x),s}function iG(e,t,r,s){for(var n=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>i)&&!(n[d].e.r<r||n[d].e.c<i)){if(n[d].s.r<r||n[d].s.c<i){l=-1;break}l=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(l<0)){var u=ze({r,c:i}),f=s.dense?(e[r]||[])[i]:e[u],h=f&&f.v!=null&&(f.h||Ay(f.w||(wa(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),s.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(s.id||"sjs")+"-"+u,a.push(qB("td",h,m))}}var x="<tr>";return x+a.join("")+"</tr>"}var oG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lG="</body></html>";function cG(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Mi(Ok(r[0],t),t);var s=Ky();return r.forEach(function(n,a){Xy(s,Ok(n,t),"Sheet"+(a+1))}),s}function dG(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function uG(e,t){var r=t||{},s=r.header!=null?r.header:oG,n=r.footer!=null?r.footer:lG,a=[s],i=bc(e["!ref"]);r.dense=Array.isArray(e),a.push(dG(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)a.push(iG(e,i,l,r));return a.push("</table>"+n),a.join("")}function f3(e,t,r){var s=r||{},n=0,a=0;if(s.origin!=null)if(typeof s.origin=="number")n=s.origin;else{var i=typeof s.origin=="string"?Kr(s.origin):s.origin;n=i.r,a=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:n,c:a}};if(e["!ref"]){var u=bc(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,y=0,v=0,b=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var _=l[x];if(Lk(_)){if(s.display)continue;m[p]={hidden:!0}}var j=_.children;for(g=y=0;g<j.length;++g){var S=j[g];if(!(s.display&&Lk(S))){var N=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):oE(S.innerHTML),k=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var E=f[h];E.s.c==y+a&&E.s.r<p+n&&p+n<=E.e.r&&(y=E.e.c+1-a,h=-1)}b=+S.getAttribute("colspan")||1,((v=+S.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:p+n,c:y+a},e:{r:p+n+(v||1)-1,c:y+a+(b||1)-1}});var C={t:"s",v:N},A=S.getAttribute("data-t")||S.getAttribute("t")||"";N!=null&&(N.length==0?C.t=A||"z":s.raw||N.trim().length==0||A=="s"||(N==="TRUE"?C={t:"b",v:!0}:N==="FALSE"?C={t:"b",v:!1}:isNaN(xn(N))?isNaN(ac(N).getDate())||(C={t:"d",v:fr(N)},s.cellDates||(C={t:"n",v:Zr(C.v)}),C.z=s.dateNF||We[14]):C={t:"n",v:xn(N)})),C.z===void 0&&k!=null&&(C.z=k);var F="",M=S.getElementsByTagName("A");if(M&&M.length)for(var Y=0;Y<M.length&&!(M[Y].hasAttribute("href")&&(F=M[Y].getAttribute("href"),F.charAt(0)!="#"));++Y);F&&F.charAt(0)!="#"&&(C.l={Target:F}),s.dense?(e[p+n]||(e[p+n]=[]),e[p+n][y+a]=C):e[ze({c:y+a,r:p+n})]=C,d.e.c<y+a&&(d.e.c=y+a),y+=b}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+n),e["!ref"]=st(d),p>=c&&(e["!fullref"]=st((d.e.r=l.length-x+p-1+n,d))),e}function h3(e,t){var r=t||{},s=r.dense?[]:{};return f3(s,e,t)}function fG(e,t){return Mi(h3(e,t),t)}function Lk(e){var t="",r=hG(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function hG(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mG(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ot(t.replace(/<[^>]*>/g,""));return[r]}var Dk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function m3(e,t){var r=t||{},s=Fy(e),n=[],a,i,l={name:""},c="",d=0,u,f,h={},m=[],x=r.dense?[]:{},p,g,y={value:""},v="",b=0,_=[],j=-1,S=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,E={},C=[],A={},F=0,M=0,Y=[],L=1,G=1,oe=[],ne={Names:[]},V={},X=["",""],ee=[],R={},K="",z=0,H=!1,Q=!1,de=0;for(pu.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=pu.exec(s);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?x["!ref"]=st(N):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=r.sheetRows-1,x["!ref"]=st(N)),C.length&&(x["!merges"]=C),Y.length&&(x["!rows"]=Y),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),h[u.name]=x,Q=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=Ue(p[0],!1),j=S=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,x=r.dense?[]:{},C=[],Y=[],Q=!0);break;case"table-row-group":p[1]==="/"?--k:++k;break;case"table-row":case"":if(p[1]==="/"){j+=L,L=1;break}if(f=Ue(p[0],!1),f.?j=f.-1:j==-1&&(j=0),L=+f["number-rows-repeated"]||1,L<10)for(de=0;de<L;++de)k>0&&(Y[j+de]={level:k});S=-1;break;case"covered-table-cell":p[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(x[j]||(x[j]=[]),x[j][S]={t:"z"}):x[ze({r:j,c:S})]={t:"z"}),v="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++S,y=Ue(p[0],!1),G=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=Fk(ot(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=ot(y["string-value"]||""),r.dense?(x[j]||(x[j]=[]),x[j][S]=g):x[ze({r:j,c:S})]=g),S+=G-1;else if(p[1]!=="/"){++S,v="",b=0,_=[],G=1;var xe=L?j+L-1:j;if(S>N.e.c&&(N.e.c=S),S<N.s.c&&(N.s.c=S),j<N.s.r&&(N.s.r=j),xe>N.e.r&&(N.e.r=xe),y=Ue(p[0],!1),ee=[],R={},g={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=ot(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(F=parseInt(y["number-matrix-rows-spanned"],10)||0,M=parseInt(y["number-matrix-columns-spanned"],10)||0,A={s:{r:j,c:S},e:{r:j+F-1,c:S+M-1}},g.F=st(A),oe.push([A,g.F])),y.formula)g.f=Fk(y.formula);else for(de=0;de<oe.length;++de)j>=oe[de][0].s.r&&j<=oe[de][0].e.r&&S>=oe[de][0].s.c&&S<=oe[de][0].e.c&&(g.F=oe[de][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(F=parseInt(y["number-rows-spanned"],10)||0,M=parseInt(y["number-columns-spanned"],10)||0,A={s:{r:j,c:S},e:{r:j+F-1,c:S+M-1}},C.push(A)),y["number-columns-repeated"]&&(G=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Nt(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=fr(y["date-value"]),r.cellDates||(g.t="n",g.v=Zr(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=CB(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=bm(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(v=ot(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=v||"",_.length&&(g.R=_),H=b==0),V.Target&&(g.l=V),ee.length>0&&(g.c=ee,ee=[]),v&&r.cellText!==!1&&(g.w=v),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var me=0;me<L;++me){if(G=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(x[j+me]||(x[j+me]=[]),x[j+me][S]=me==0?g:yr(g);--G>0;)x[j+me][S+G]=yr(g);else for(x[ze({r:j+me,c:S})]=g;--G>0;)x[ze({r:j+me,c:S+G})]=yr(g);N.e.c<=S&&(N.e.c=S)}G=parseInt(y["number-columns-repeated"]||"1",10),S+=G-1,G=0,g={},v="",_=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((a=n.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((a=n.pop())[0]!==p[3])throw"Bad state: "+a;R.t=v,_.length&&(R.R=_),R.a=K,ee.push(R)}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!1]);K="",z=0,v="",b=0,_=[];break;case"creator":p[1]==="/"?K=s.slice(z,p.index):z=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((a=n.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&n.push([p[3],!1]);v="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(E[l.name]=c,(a=n.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=Ue(p[0],!1),n.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Ue(p[0],!1),c+=Dk[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Ue(p[0],!1),c+=Dk[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=s.slice(d,p.index);break}else d=p.index+p[0].length;break;case"named-range":i=Ue(p[0],!1),X=Px(i["cell-range-address"]);var ue={Name:i.name,Ref:X[0]+"!"+X[1]};Q&&(ue.Sheet=m.length),ne.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var Ce=mG(s.slice(b,p.index));v=(v.length>0?v+`
`:"")+Ce[0]}else Ue(p[0],!1),b=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{X=Px(Ue(p[0])["target-range-address"]),h[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(V=Ue(p[0],!1),!V.href)break;V.Target=ot(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(X=Px(V.Target.slice(1)),V.Target="#"+X[0]+"!"+X[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var B={Sheets:h,SheetNames:m,Workbook:ne};return r.bookSheets&&delete B.Sheets,B}function Ik(e,t){t=t||{},Rs(e,"META-INF/manifest.xml")&&AU(Kt(e,"META-INF/manifest.xml"),t);var r=bs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=m3(gt(r),t);return Rs(e,"meta.xml")&&(s.Props=SE(Kt(e,"meta.xml"))),s}function Bk(e,t){return m3(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Hy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ag(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gt(Ho(e))}function Fg(e){var t=e.reduce(function(n,a){return n+a.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(n){r.set(n,s),s+=n.length}),r}function Uk(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function xG(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,n=t+13;n>=t;--n)s=s*256+e[n];return(e[t+15]&128?-s:s)*Math.pow(10,r-6176)}function bu(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function ir(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Mr(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],n=bu(e,r),a=n&7;n=Math.floor(n/8);var i=0,l;if(n==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=bu(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(n," at offset ").concat(s))}var d={data:l,type:a};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Wy(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function pG(e){for(var t,r=[],s=[0];s[0]<e.length;){var n=bu(e,s),a=Mr(e.slice(s[0],s[0]+n));s[0]+=n;var i={id:ir(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Mr(l.data),d=ir(c[3][0].data);i.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=a[3])!=null&&t[0]&&(i.merge=ir(a[3][0].data)>>>0>0),r.push(i)}return r}function gG(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=bu(t,r),n=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}n.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,d=0;if(a==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[Fg(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=Fg(n);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function yG(e){for(var t=[],r=0;r<e.length;){var s=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(gG(s,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Fg(t)}function vG(e,t,r,s){var n=Hy(e),a=n.getUint32(4,!0),i=(s>1?12:8)+Uk(a&(s>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);a&512&&(l=n.getUint32(i,!0),i+=4),i+=Uk(a&(s>1?12288:4096))*4,a&16&&(c=n.getUint32(i,!0),i+=4),a&32&&(d=n.getFloat64(i,!0),i+=8),a&64&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function bG(e,t,r){var s=Hy(e),n=s.getUint32(8,!0),a=12,i=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=xG(e,a),a+=16),n&2&&(d=s.getFloat64(a,!0),a+=8),n&4&&(u.setTime(u.getTime()+s.getFloat64(a,!0)*1e3),a+=8),n&8&&(l=s.getUint32(a,!0),a+=4),n&16&&(i=s.getUint32(a,!0),a+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function wG(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return vG(e,t,r,e[0]);case 5:return bG(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function bi(e){var t=Mr(e);return bu(t[1][0].data)}function $k(e,t){var r=Mr(t.data),s=ir(r[1][0].data),n=r[3],a=[];return(n||[]).forEach(function(i){var l=Mr(i.data),c=ir(l[1][0].data)>>>0;switch(s){case 1:a[c]=Ag(l[3][0].data);break;case 8:{var d=e[bi(l[9][0].data)][0],u=Mr(d.data),f=e[bi(u[1][0].data)][0],h=ir(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Mr(f.data);a[c]=m[3].map(function(x){return Ag(x.data)}).join("")}break}}),a}function kG(e,t){var r,s,n,a,i,l,c,d,u,f,h,m,x,p,g=Mr(e),y=ir(g[1][0].data)>>>0,v=ir(g[2][0].data)>>>0,b=((s=(r=g[8])==null?void 0:r[0])==null?void 0:s.data)&&ir(g[8][0].data)>0||!1,_,j;if((a=(n=g[7])==null?void 0:n[0])!=null&&a.data&&t!=0)_=(l=(i=g[7])==null?void 0:i[0])==null?void 0:l.data,j=(d=(c=g[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)_=(m=(h=g[4])==null?void 0:h[0])==null?void 0:m.data,j=(p=(x=g[3])==null?void 0:x[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=b?4:1,N=Hy(_),k=[],E=0;E<_.length/2;++E){var C=N.getUint16(E*2,!0);C<65535&&k.push([E,C])}if(k.length!=v)throw"Expected ".concat(v," cells, found ").concat(k.length);var A=[];for(E=0;E<k.length-1;++E)A[k[E][0]]=j.subarray(k[E][1]*S,k[E+1][1]*S);return k.length>=1&&(A[k[k.length-1][0]]=j.subarray(k[k.length-1][1]*S)),{R:y,cells:A}}function _G(e,t){var r,s=Mr(t.data),n=(r=s==null?void 0:s[7])!=null&&r[0]?ir(s[7][0].data)>>>0>0?1:0:-1,a=Wy(s[5],function(i){return kG(i,n)});return{nrows:ir(s[4][0].data)>>>0,data:a.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,d){if(i[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));i[l.R][d]=c}),i},[])}}function NG(e,t,r){var s,n=Mr(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(ir(n[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(a.e.c=(ir(n[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=st(a);var i=Mr(n[4][0].data),l=$k(e,e[bi(i[4][0].data)][0]),c=(s=i[17])!=null&&s[0]?$k(e,e[bi(i[17][0].data)][0]):[],d=Mr(i[3][0].data),u=0;d[1].forEach(function(f){var h=Mr(f.data),m=e[bi(h[2][0].data)][0],x=ir(m.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var p=_G(e,m);p.data.forEach(function(g,y){g.forEach(function(v,b){var _=ze({r:u+y,c:b}),j=wG(v,l,c);j&&(r[_]=j)})}),u+=p.nrows})}function jG(e,t){var r=Mr(t.data),s={"!ref":"A1"},n=e[bi(r[2][0].data)],a=ir(n[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return NG(e,n[0],s),s}function EG(e,t){var r,s=Mr(t.data),n={name:(r=s[1])!=null&&r[0]?Ag(s[1][0].data):"",sheets:[]},a=Wy(s[2],bi);return a.forEach(function(i){e[i].forEach(function(l){var c=ir(l.meta[1][0].data);c==6e3&&n.sheets.push(jG(e,l))})}),n}function SG(e,t){var r=Ky(),s=Mr(t.data),n=Wy(s[1],bi);if(n.forEach(function(a){e[a].forEach(function(i){var l=ir(i.meta[1][0].data);if(l==2){var c=EG(e,i);c.sheets.forEach(function(d,u){Xy(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Ox(e){var t,r,s,n,a={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=yG(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=pG(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((n=(s=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:s[1])==null?void 0:n[0].data)&&ir(a[1][0].meta[1][0].data)==1&&a[1][0];if(l||i.forEach(function(c){a[c].forEach(function(d){var u=ir(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return SG(a,l)}function CG(e){return function(r){for(var s=0;s!=e.length;++s){var n=e[s];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function qy(e){CG([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function TG(e){return vl.WS.indexOf(e)>-1?"sheet":e==vl.CS?"chart":e==vl.DS?"dialog":e==vl.MS?"macro":e&&e.length?e:"sheet"}function AG(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,TG(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function FG(e,t,r,s,n,a,i,l,c,d,u,f){try{a[s]=Fd(bs(e,r,!0),t);var h=Kt(e,t),m;switch(l){case"sheet":m=Dq(h,t,n,c,a[s],d,u,f);break;case"chart":if(m=Iq(h,t,n,c,a[s],d,u,f),!m||!m["!drawel"])break;var x=cd(m["!drawel"].Target,t),p=jg(x),g=LV(bs(e,x,!0),Fd(bs(e,p,!0),x)),y=cd(g,x),v=jg(y);m=bq(bs(e,y,!0),y,c,Fd(bs(e,v,!0),y),d,m);break;case"macro":m=Bq(h,t,n,c,a[s],d,u,f);break;case"dialog":m=Uq(h,t,n,c,a[s],d,u,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[s]=m;var b=[];a&&a[s]&&Bn(a[s]).forEach(function(_){var j="";if(a[s][_].Type==vl.CMNT){j=cd(a[s][_].Target,t);var S=Hq(Kt(e,j,!0),j,c);if(!S||!S.length)return;Ek(m,S,!1)}a[s][_].Type==vl.TCMNT&&(j=cd(a[s][_].Target,t),b=b.concat(IV(Kt(e,j,!0),c)))}),b&&b.length&&Ek(m,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function As(e){return e.charAt(0)=="/"?e.slice(1):e}function RG(e,t){if(Qj(),t=t||{},qy(t),Rs(e,"META-INF/manifest.xml")||Rs(e,"objectdata.xml"))return Ik(e,t);if(Rs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Ox<"u"){if(e.FileIndex)return Ox(e);var r=rt.utils.cfb_new();return Jw(e).forEach(function(Y){PB(r,Y,sE(e,Y))}),Ox(r)}throw new Error("Unsupported NUMBERS file")}if(!Rs(e,"[Content_Types].xml"))throw Rs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Rs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=Jw(e),n=CU(bs(e,"[Content_Types].xml")),a=!1,i,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",Kt(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!Kt(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),a=!0}n.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Md=[],n.sst)try{Md=Vq(Kt(e,As(n.sst)),n.sst,t)}catch(Y){if(t.WTF)throw Y}t.cellStyles&&n.themes.length&&(c=zq(bs(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=$q(Kt(e,As(n.style)),n.style,c,t))}n.links.map(function(Y){try{var L=Fd(bs(e,jg(As(Y))),Y);return qq(Kt(e,As(Y)),L,Y,t)}catch{}});var u=Lq(Kt(e,As(n.workbooks[0])),n.workbooks[0],t),f={},h="";n.coreprops.length&&(h=Kt(e,As(n.coreprops[0]),!0),h&&(f=SE(h)),n.extprops.length!==0&&(h=Kt(e,As(n.extprops[0]),!0),h&&PU(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(h=bs(e,As(n.custprops[0]),!0),h&&(m=OU(h,t)));var x={};if((t.bookSheets||t.bookProps)&&(u.Sheets?i=u.Sheets.map(function(L){return L.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(x.Props=f,x.Custprops=m),t.bookSheets&&typeof i<"u"&&(x.SheetNames=i),t.bookSheets?x.SheetNames:t.bookProps))return x;i={};var p={};t.bookDeps&&n.calcchain&&(p=Wq(Kt(e,As(n.calcchain)),n.calcchain));var g=0,y={},v,b;{var _=u.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var j=0;j!=_.length;++j)f.SheetNames[j]=_[j].name}var S=a?"bin":"xml",N=n.workbooks[0].lastIndexOf("/"),k=(n.workbooks[0].slice(0,N+1)+"_rels/"+n.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Rs(e,k)||(k="xl/_rels/workbook."+S+".rels");var E=Fd(bs(e,k,!0),k.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=Gq(Kt(e,As(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=BV(Kt(e,As(n.people[0])),t)),E&&(E=AG(E,u.Sheets));var C=Kt(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var A="sheet";if(E&&E[g]?(v="xl/"+E[g][1].replace(/[\/]?xl\//,""),Rs(e,v)||(v=E[g][1]),Rs(e,v)||(v=k.replace(/_rels\/.*$/,"")+E[g][1]),A=E[g][2]):(v="xl/worksheets/sheet"+(g+1-C)+"."+S,v=v.replace(/sheet0\./,"sheet.")),b=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==g&&(F=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[g].toLowerCase()&&(F=1);if(!F)continue e}}FG(e,v,b,f.SheetNames[g],g,y,i,A,t,u,c,d)}return x={Directory:n,Workbook:u,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:Md,Styles:d,Themes:c,SSF:yr(We)},t&&t.bookFiles&&(e.files?(x.keys=s,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(Y,L){Y=Y.replace(/^Root Entry[\/]/,""),x.keys.push(Y),x.files[Y]=e.FileIndex[L]}))),t&&t.bookVBA&&(n.vba.length>0?x.vbaraw=Kt(e,As(n.vba[0]),!0):n.defaults&&n.defaults.bin===VV&&(x.vbaraw=Kt(e,"xl/vbaProject.bin",!0))),x}function PG(e,t){var r=t||{},s="Workbook",n=rt.find(e,s);try{if(s="/!DataSpaces/Version",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(jz(n.content),s="/!DataSpaces/DataSpaceMap",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var a=Sz(n.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var i=Cz(n.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);Az(n.content)}catch{}if(s="/EncryptionInfo",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=Fz(n.content);if(s="/EncryptedPackage",n=rt.find(e,s),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function Gy(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=js(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function MG(e,t){return rt.find(e,"EncryptedPackage")?PG(e,t):u3(e,t)}function OG(e,t){var r,s=e,n=t||{};return n.type||(n.type=et&&Buffer.isBuffer(e)?"buffer":"base64"),r=nE(s,n),RG(r,n)}function x3(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Cg(e.slice(r),t);default:break e}return gu.to_workbook(e,t)}function LG(e,t){var r="",s=Gy(e,t);switch(t.type){case"base64":r=js(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Lo(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(r=gt(r)),t.type="binary",x3(r,t)}function DG(e,t){var r=e;return t.type=="base64"&&(r=js(r)),r=Ba.utils.decode(1200,r.slice(2),"str"),t.type="binary",x3(r,t)}function IG(e){return e.match(/[^\x00-\x7F]/)?dd(e):e}function Lx(e,t,r,s){return s?(r.type="string",gu.to_workbook(e,r)):gu.to_workbook(t,r)}function Rh(e,t){Bj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Rh(new Uint8Array(e),(r=yr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var s=e,n=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Fl={},r.dateNF&&(Fl.dateNF=r.dateNF),r.type||(r.type=et&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=et?"buffer":"binary",s=EB(e),typeof Uint8Array<"u"&&!et&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,s=IG(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=yr(r),r.type="array",Rh(jy(s),r)}switch((n=Gy(s,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return MG(rt.read(s,r),r);break;case 9:if(n[1]<=8)return u3(s,r);break;case 60:return Cg(s,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return fz(s,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return dz.to_workbook(s,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?OG(s,r):Lx(e,s,r,a);case 239:return n[3]===60?Cg(s,r):Lx(e,s,r,a);case 255:if(n[1]===254)return DG(s,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Pd.to_workbook(s,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Pd.to_workbook(s,r);break;case 3:case 131:case 139:case 140:return jk.to_workbook(s,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return Vz.to_workbook(s,r);break;case 10:case 13:case 32:return LG(s,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return lz.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?jk.to_workbook(s,r):Lx(e,s,r,a)}function BG(e,t,r,s,n,a,i,l){var c=vr(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=i?e[r][m]:e[s[m]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;a[m]!=null&&(h[a[m]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[m]!=null){if(p==null)if(x.t=="e"&&p===null)h[a[m]]=null;else if(d!==void 0)h[a[m]]=d;else if(u&&p===null)h[a[m]]=null;else continue;else h[a[m]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:wa(x,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function Rg(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,n=1,a=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=Dt(u);break;case"number":c=Dt(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(n=0);var f=vr(c.s.r),h=[],m=[],x=0,p=0,g=Array.isArray(e),y=c.s.r,v=0,b={};g&&!e[y]&&(e[y]=[]);var _=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(_[v]||{}).hidden)switch(h[v]=ar(v),r=g?e[y][v]:e[h[v]+f],s){case 1:a[v]=v-c.s.c;break;case 2:a[v]=h[v];break;case 3:a[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=wa(r,null,d),p=b[i]||0,!p)b[i]=1;else{do l=i+"_"+p++;while(b[l]);b[i]=p,b[l]=1}a[v]=l}for(y=c.s.r+n;y<=c.e.r;++y)if(!(j[y]||{}).hidden){var S=BG(e,c,y,h,s,a,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(m[x++]=S.row)}return m.length=x,m}var zk=/"/g;function UG(e,t,r,s,n,a,i,l){for(var c=!0,d=[],u="",f=vr(r),h=t.s.c;h<=t.e.c;++h)if(s[h]){var m=l.dense?(e[r]||[])[h]:e[s[h]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(l.rawNumbers&&m.t=="n"?m.v:wa(m,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===n||p===a||p===34||l.forceQuotes){u='"'+u.replace(zk,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(zk,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(i)}function p3(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var n=Dt(e["!ref"]),a=s.FS!==void 0?s.FS:",",i=a.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var h=s.skipHidden&&e["!cols"]||[],m=s.skipHidden&&e["!rows"]||[],x=n.s.c;x<=n.e.c;++x)(h[x]||{}).hidden||(f[x]=ar(x));for(var p=0,g=n.s.r;g<=n.e.r;++g)(m[g]||{}).hidden||(u=UG(e,n,g,f,i,c,a,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function $G(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=p3(e,t);return r}function zG(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var n=Dt(e["!ref"]),a="",i=[],l,c=[],d=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)i[l]=ar(l);for(var u=n.s.r;u<=n.e.r;++u)for(a=vr(u),l=n.s.c;l<=n.e.c;++l)if(t=i[l]+a,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function g3(e,t,r){var s=r||{},n=+!s.skipHeader,a=e||{},i=0,l=0;if(a&&s.origin!=null)if(typeof s.origin=="number")i=s.origin;else{var c=typeof s.origin=="string"?Kr(s.origin):s.origin;i=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:i+t.length-1+n}};if(a["!ref"]){var f=Dt(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(i=f.e.r+1,u.e.r=i+t.length-1+n)}else i==-1&&(i=0,u.e.r=t.length-1+n);var h=s.header||[],m=0;t.forEach(function(p,g){Bn(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var v=p[y],b="z",_="",j=ze({c:l+m,r:i+g+n});d=wu(a,j),v&&typeof v=="object"&&!(v instanceof Date)?a[j]=v:(typeof v=="number"?b="n":typeof v=="boolean"?b="b":typeof v=="string"?b="s":v instanceof Date?(b="d",s.cellDates||(b="n",v=Zr(v)),_=s.dateNF||We[14]):v===null&&s.nullError&&(b="e",v=0),d?(d.t=b,d.v=v,delete d.w,delete d.R,_&&(d.z=_)):a[j]=d={t:b,v},_&&(d.z=_))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var x=vr(i);if(n)for(m=0;m<h.length;++m)a[ar(m+l)+x]={t:"s",v:h[m]};return a["!ref"]=st(u),a}function VG(e,t){return g3(null,e,t)}function wu(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Kr(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?wu(e,ze(t)):wu(e,ze({r:t,c:r||0}))}function HG(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Ky(){return{SheetNames:[],Sheets:{}}}function Xy(e,t,r,s){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);n=a&&+a[2]||0;var i=a&&a[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=i+n)!=-1;++n);}if(Cq(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function WG(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=HG(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function qG(e,t){return e.z=t,e}function y3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function GG(e,t,r){return y3(e,"#"+t,r)}function KG(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function XG(e,t,r,s){for(var n=typeof t!="string"?t:Dt(t),a=typeof t=="string"?t:st(t),i=n.s.r;i<=n.e.r;++i)for(var l=n.s.c;l<=n.e.c;++l){var c=wu(e,i,l);c.t="n",c.F=a,delete c.v,i==n.s.r&&l==n.s.c&&(c.f=r,s&&(c.D=!0))}return e}var v3={encode_col:ar,encode_row:vr,encode_cell:ze,encode_range:st,decode_col:My,decode_row:Py,split_cell:oU,decode_cell:Kr,decode_range:bc,format_cell:wa,sheet_add_aoa:kE,sheet_add_json:g3,sheet_add_dom:f3,aoa_to_sheet:wc,json_to_sheet:VG,table_to_sheet:h3,table_to_book:fG,sheet_to_csv:p3,sheet_to_txt:$G,sheet_to_json:Rg,sheet_to_html:uG,sheet_to_formulae:zG,sheet_to_row_object_array:Rg,sheet_get_cell:wu,book_new:Ky,book_append_sheet:Xy,book_set_sheet_visibility:WG,cell_set_number_format:qG,cell_set_hyperlink:y3,cell_set_internal_link:GG,cell_add_comment:KG,sheet_set_array_formula:XG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const sl=[{id:1,title:"Subir Archivo",icon:El},{id:2,title:"Mapear Columnas",icon:S5},{id:3,title:"Configuracin",icon:mn},{id:4,title:"Importar",icon:Is}],J0=[{key:"first_name",label:"Nombre",required:!0},{key:"last_name",label:"Apellido",required:!0},{key:"email",label:"Email",required:!0},{key:"phone",label:"Telfono",required:!0}],Dx=[{key:"company",label:"Empresa",required:!1},{key:"position",label:"Posicin",required:!1},{key:"country",label:"Pas",required:!1},{key:"city",label:"Ciudad",required:!1},{key:"budget",label:"Presupuesto",required:!1},{key:"notes",label:"Notas",required:!1}];function YG({isOpen:e,onClose:t,onSuccess:r}){var Y,L,G,oe,ne,V;const[s,n]=w.useState(1),[a,i]=w.useState(null),[l,c]=w.useState([]),[d,u]=w.useState([]),[f,h]=w.useState({}),[m,x]=w.useState({source:"Import",status:"new",skipDuplicates:!1}),[p,g]=w.useState([]),y=w.useRef(null),{data:v}=tt({queryKey:["desks-for-import"],queryFn:()=>hr.getDesks(),enabled:e,staleTime:5*60*1e3}),{data:b}=tt({queryKey:["users-for-import"],queryFn:()=>_a.getUsers({status:"active"}),enabled:e,staleTime:5*60*1e3}),_=pt({mutationFn:X=>ed.importFile(X),onSuccess:X=>{he.dismiss("import-progress");const{imported:ee=0,errors:R=0,duplicates:K=0,total:z=0,error_details:H=[]}=X;ee>0?he.success(`Importacin completada! ${ee} leads importados exitosamente`):he("Importacin completada sin nuevos leads",{icon:"",style:{background:"#3b82f6",color:"#1e40af"},duration:4e3}),setTimeout(()=>{he(` Resumen completo: ${ee} importados, ${R} errores, ${K} duplicados de ${z} procesados`,{duration:1e4,style:{background:ee>0?"#10b981":"#6b7280",color:ee>0?"#065f46":"#374151"}})},1e3),R>0&&(setTimeout(()=>{he(` ${R} leads tuvieron errores durante la importacin`,{icon:"",style:{background:"#fbbf24",color:"#92400e"},duration:8e3})},2e3),H.length>0&&console.log("Detalles de errores:",H)),K>0&&setTimeout(()=>{he(` ${K} leads duplicados fueron omitidos`,{icon:"",style:{background:"#3b82f6",color:"#1e40af"},duration:6e3})},3e3),r(),j()},onError:X=>{var ee,R;he.dismiss("import-progress"),he.error(((R=(ee=X.response)==null?void 0:ee.data)==null?void 0:R.message)||"Error al importar leads")}}),j=()=>{n(1),i(null),c([]),u([]),h({}),x({source:"Import",status:"new",skipDuplicates:!1}),g([]),t()},S=X=>{var K,z;const ee=(K=X.target.files)==null?void 0:K[0];if(!ee)return;const R=(z=ee.name.split(".").pop())==null?void 0:z.toLowerCase();if(!["csv","xlsx","xls"].includes(R||"")){he.error("Solo se permiten archivos CSV, XLS o XLSX");return}i(ee),N(ee)},N=X=>{var R;const ee=(R=X.name.split(".").pop())==null?void 0:R.toLowerCase();if(ee==="csv"){const K=new FileReader;K.onload=z=>{var Q;const H=(Q=z.target)==null?void 0:Q.result;k(H)},K.onerror=()=>{he.error("Error al leer el archivo CSV")},K.readAsText(X,"UTF-8")}else if(ee==="xlsx"||ee==="xls"){const K=new FileReader;K.onload=z=>{var H;try{const Q=new Uint8Array((H=z.target)==null?void 0:H.result),de=Rh(Q,{type:"array"}),xe=de.SheetNames[0],me=de.Sheets[xe],ue=v3.sheet_to_json(me,{header:1});if(ue.length===0){he.error("El archivo Excel est vaco");return}const Ce=ue[0].map(fe=>String(fe||"").trim()),B=ue.slice(1).filter(fe=>fe&&fe.some(_e=>_e!=null&&String(_e).trim()!=="")).map(fe=>{const _e={};return Ce.forEach((Me,Re)=>{_e[Me]=String(fe[Re]||"").trim()}),_e});E(Ce,B)}catch(Q){console.error("Error parsing Excel:",Q),he.error("Error al procesar el archivo Excel")}},K.onerror=()=>{he.error("Error al leer el archivo Excel")},K.readAsArrayBuffer(X)}},k=X=>{const ee=X.split(`
`).filter(xe=>xe.trim());if(ee.length===0){he.error("El archivo CSV est vaco");return}const R=ee[0];let K=",";const z=[",",";","	","|"];let H=0;for(const xe of z){const me=R.split(xe);me.length>H&&(H=me.length,K=xe)}const Q=ee[0].split(K).map(xe=>xe.trim().replace(/['"]/g,"")),de=ee.slice(1).filter(xe=>xe.trim()).map(xe=>{const me=xe.split(K).map(Ce=>Ce.trim().replace(/['"]/g,"")),ue={};return Q.forEach((Ce,B)=>{ue[Ce]=me[B]||""}),ue});E(Q,de)},E=(X,ee)=>{if(X.length===0||ee.length===0){he.error("No se pudieron detectar columnas o datos en el archivo");return}u(X),c(ee),g(ee.slice(0,5));const R={};J0.concat(Dx).forEach(K=>{const z=X.find(H=>{const Q=H.toLowerCase(),de=K.key.toLowerCase(),xe=K.label.toLowerCase();return Q.includes(de)||Q.includes(xe)||de.includes(Q)||xe.includes(Q)||de==="first_name"&&(Q.includes("nombre")||Q.includes("name"))||de==="last_name"&&(Q.includes("apellido")||Q.includes("surname"))||de==="email"&&(Q.includes("correo")||Q.includes("mail"))||de==="phone"&&(Q.includes("telefono")||Q.includes("tel")||Q.includes("phone"))||de==="company"&&(Q.includes("empresa")||Q.includes("company"))||de==="position"&&(Q.includes("cargo")||Q.includes("puesto")||Q.includes("position"))});z&&(R[K.key]=z)}),h(R),he.success(`Archivo procesado: ${X.length} columnas, ${ee.length} filas`)},C=()=>{F()&&n(X=>Math.min(X+1,sl.length))},A=()=>{n(X=>Math.max(X-1,1))},F=()=>{switch(s){case 1:return a?l.length===0?(he.error("El archivo est vaco o no se pudo procesar"),!1):!0:(he.error("Debe seleccionar un archivo"),!1);case 2:const X=J0.filter(ee=>!f[ee.key]);return X.length>0?(he.error(`Debe mapear los campos requeridos: ${X.map(ee=>ee.label).join(", ")}`),!1):!0;case 3:return!0;default:return!0}},M=()=>{if(!F())return;const X=l.map(R=>{const K={};return Object.keys(f).forEach(z=>{const H=f[z];H&&R[H]&&(K[z]=R[H])}),K.desk_id=m.desk_id||null,K.assigned_to=m.assigned_to||null,K.source=m.source,K.status=m.status,K});X.length>100&&he.loading(`Procesando ${X.length} leads...`,{duration:4e3,id:"import-progress"});const ee={};Object.keys(f).forEach(R=>{const K=f[R];K&&(ee[K]=R)}),_.mutate({data:X,mapping:ee,options:{skip_first_row:!1,duplicate_action:m.skipDuplicates?"skip":"create"}})};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg w-full max-w-5xl mx-4 max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Asistente de Importacin"}),o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:["Paso ",s," de ",sl.length,": ",sl[s-1].title]})]}),o.jsx("button",{onClick:j,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"px-6 py-4 border-b border-secondary-200 dark:border-secondary-700",children:o.jsx("div",{className:"flex items-center justify-between",children:sl.map((X,ee)=>{const R=X.icon,K=s===X.id,z=s>X.id;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`
                    flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors
                    ${K?"border-primary-600 bg-primary-600 text-white":z?"border-success-600 bg-success-600 text-white":"border-secondary-300 text-secondary-400"}
                  `,children:z?o.jsx(Is,{className:"w-5 h-5"}):o.jsx(R,{className:"w-5 h-5"})}),o.jsx("div",{className:"ml-3 hidden sm:block",children:o.jsx("p",{className:`text-sm font-medium ${K?"text-primary-600":z?"text-success-600":"text-secondary-500"}`,children:X.title})}),ee<sl.length-1&&o.jsx("div",{className:`
                      w-12 h-0.5 mx-4 transition-colors
                      ${z?"bg-success-600":"bg-secondary-300"}
                    `})]},X.id)})})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[s===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(El,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Subir Archivo"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Selecciona un archivo Excel o CSV con los datos de leads"})]}),o.jsx("div",{className:"border-2 border-dashed border-secondary-300 dark:border-secondary-600 rounded-lg p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(El,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Arrastra tu archivo aqu"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"o haz clic para seleccionar"})]}),o.jsx("input",{ref:y,type:"file",accept:".csv,.xlsx,.xls",onChange:S,className:"hidden"}),o.jsx("button",{onClick:()=>{var X;return(X=y.current)==null?void 0:X.click()},className:"btn-primary mt-4",children:"Seleccionar Archivo"})]})}),a&&o.jsx("div",{className:"bg-success-50 dark:bg-success-900/20 border border-success-200 dark:border-success-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Is,{className:"w-5 h-5 text-success-600 mr-2"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-success-800 dark:text-success-200",children:["Archivo cargado: ",a.name]}),o.jsxs("p",{className:"text-sm text-success-600 dark:text-success-300",children:[l.length," filas detectadas"]})]})]})}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Formato requerido:"}),o.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Campos obligatorios:"})," Nombre, Apellido, Email, Telfono"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Campos opcionales:"})," Empresa, Posicin, Pas, Ciudad, Presupuesto, Notas"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Formatos soportados:"})," Excel (.xlsx, .xls), CSV"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Excel:"})," Se lee la primera hoja automticamente"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"CSV:"})," Separadores detectados automticamente (,;|\\t)"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Codificacin:"})," UTF-8 recomendado"]})]})]})]}),s===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(S5,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Mapear Columnas"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Relaciona las columnas de tu archivo con los campos del sistema"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-4",children:"Campos Requeridos"}),o.jsx("div",{className:"space-y-3",children:J0.map(X=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:[X.label," *"]}),o.jsxs("select",{value:f[X.key]||"",onChange:ee=>h({...f,[X.key]:ee.target.value}),className:"input",children:[o.jsx("option",{value:"",children:"Seleccionar columna..."}),d.map(ee=>o.jsx("option",{value:ee,children:ee},ee))]})]},X.key))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-4",children:"Campos Opcionales"}),o.jsx("div",{className:"space-y-3",children:Dx.map(X=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:X.label}),o.jsxs("select",{value:f[X.key]||"",onChange:ee=>h({...f,[X.key]:ee.target.value}),className:"input",children:[o.jsx("option",{value:"",children:"No mapear"}),d.map(ee=>o.jsx("option",{value:ee,children:ee},ee))]})]},X.key))})]})]}),p.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-4",children:"Vista Previa (primeras 5 filas)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-secondary-200 dark:divide-secondary-700",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsx("tr",{children:d.map(X=>o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:X},X))})}),o.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:p.map((X,ee)=>o.jsx("tr",{children:d.map(R=>o.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:X[R]},R))},ee))})]})})]})]}),s===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(mn,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Configuracin de Importacin"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Configura las opciones de importacin"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Mesa por Defecto"}),o.jsxs("select",{value:m.desk_id||"",onChange:X=>x({...m,desk_id:X.target.value?parseInt(X.target.value):void 0}),className:"input",children:[o.jsx("option",{value:"",children:"Sin mesa asignada"}),(Y=v==null?void 0:v.data)==null?void 0:Y.map(X=>o.jsx("option",{value:X.id,children:X.name},X.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Usuario por Defecto"}),o.jsxs("select",{value:m.assigned_to||"",onChange:X=>x({...m,assigned_to:X.target.value?parseInt(X.target.value):void 0}),className:"input",children:[o.jsx("option",{value:"",children:"Sin asignar"}),(L=b==null?void 0:b.data)==null?void 0:L.map(X=>o.jsxs("option",{value:X.id,children:[X.first_name," ",X.last_name]},X.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Fuente"}),o.jsx("input",{type:"text",value:m.source,onChange:X=>x({...m,source:X.target.value}),className:"input",placeholder:"ej: Import, CSV, Excel"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado por Defecto"}),o.jsxs("select",{value:m.status,onChange:X=>x({...m,status:X.target.value}),className:"input",children:[o.jsx("option",{value:"new",children:"Nuevo"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"})]})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"skipDuplicates",checked:m.skipDuplicates,onChange:X=>x({...m,skipDuplicates:X.target.checked}),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"skipDuplicates",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Omitir leads duplicados (basado en email)"})]})]}),s===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Is,{className:"w-12 h-12 text-success-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Listo para Importar"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revisa el resumen antes de proceder con la importacin"})]}),o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Archivo:"}),o.jsx("span",{className:"ml-2 font-medium",children:a==null?void 0:a.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Total de leads:"}),o.jsx("span",{className:"ml-2 font-medium",children:l.length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Mesa por defecto:"}),o.jsx("span",{className:"ml-2 font-medium",children:((oe=(G=v==null?void 0:v.data)==null?void 0:G.find(X=>X.id===m.desk_id))==null?void 0:oe.name)||"No asignada"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Usuario por defecto:"}),o.jsx("span",{className:"ml-2 font-medium",children:((V=(ne=b==null?void 0:b.data)==null?void 0:ne.find(X=>X.id===m.assigned_to))==null?void 0:V.first_name)||"No asignado"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Fuente:"}),o.jsx("span",{className:"ml-2 font-medium",children:m.source})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Estado:"}),o.jsx("span",{className:"ml-2 font-medium capitalize",children:m.status})]})]}),o.jsxs("div",{className:"border-t border-secondary-200 dark:border-secondary-700 pt-4",children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-2",children:"Campos Mapeados:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(f).map(([X,ee])=>{var R;return o.jsxs("div",{children:[o.jsxs("span",{className:"text-secondary-600 dark:text-secondary-400",children:[(R=J0.concat(Dx).find(K=>K.key===X))==null?void 0:R.label,":"]}),o.jsx("span",{className:"ml-2 font-medium",children:ee})]},X)})})]})]}),m.skipDuplicates&&o.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(ba,{className:"w-5 h-5 text-yellow-600 mr-2"}),o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Los leads con emails duplicados sern omitidos automticamente"})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsxs("button",{onClick:A,disabled:s===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Anterior"]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:j,className:"btn-secondary",children:"Cancelar"}),s<sl.length?o.jsxs("button",{onClick:C,className:"btn-primary",children:["Siguiente",o.jsx(da,{className:"w-4 h-4 ml-2"})]}):o.jsx("button",{onClick:M,disabled:_.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:_.isPending?"Importando...":`Importar ${l.length} Leads`})]})]})]})}):null}const QG=({selectedLeads:e,users:t,onClose:r,onAssign:s})=>{const[n,a]=w.useState([]),[i,l]=w.useState(""),c=()=>{if(n.length===0)return;const f=Math.floor(e.length/n.length),h=e.length%n.length,m=[];let x=0;n.forEach((p,g)=>{const y=f+(g<h?1:0),v=e.slice(x,x+y);m.push({userId:p,leadIds:v,status:i||"contacted"}),x+=y}),s(m)},d=f=>{a(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])},u=()=>{if(n.length===0)return[];const f=Math.floor(e.length/n.length),h=e.length%n.length;return n.map((m,x)=>({userId:m,user:t.find(p=>p.id===m),leadsCount:f+(x<h?1:0)}))};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-2xl mx-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:["Asignar ",e.length," Leads Masivamente"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Seleccionar Empleados"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:t.map(f=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-secondary-50 dark:hover:bg-secondary-700",children:[o.jsx("input",{type:"checkbox",checked:n.includes(f.id),onChange:()=>d(f.id),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("span",{className:"text-sm text-secondary-900 dark:text-white",children:[f.first_name," ",f.last_name]})]},f.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nuevo Estado (Opcional)"}),o.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"input",children:[o.jsx("option",{value:"",children:"Mantener estado actual"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"}),o.jsx("option",{value:"converted",children:"Convertido"})]})]}),n.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Distribucin Automtica:"}),o.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-700 rounded p-3 space-y-2",children:u().map(({user:f,leadsCount:h})=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-secondary-900 dark:text-white",children:[f==null?void 0:f.first_name," ",f==null?void 0:f.last_name]}),o.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:[h," leads"]})]},f==null?void 0:f.id))})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancelar"}),o.jsx("button",{onClick:c,disabled:n.length===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Asignar Leads"})]})]})})},ZG=({leadId:e,users:t,onClose:r,onAssign:s})=>{const[n,a]=w.useState(null),[i,l]=w.useState(""),c=()=>{n&&s({userId:n,status:i||"contacted"})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:["Asignar Lead #",e]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Seleccionar Empleado"}),o.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto",children:t.map(d=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-secondary-50 dark:hover:bg-secondary-700",children:[o.jsx("input",{type:"radio",name:"assign-user",checked:n===d.id,onChange:()=>a(d.id),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("span",{className:"text-sm text-secondary-900 dark:text-white",children:[d.first_name," ",d.last_name]})]},d.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nuevo Estado (Opcional)"}),o.jsxs("select",{value:i,onChange:d=>l(d.target.value),className:"input",children:[o.jsx("option",{value:"",children:"Mantener estado actual"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"}),o.jsx("option",{value:"converted",children:"Convertido"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancelar"}),o.jsx("button",{onClick:c,disabled:!n,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Asignar Lead"})]})]})})};function qc(e,t){const[r,s]=w.useState(e);return w.useEffect(()=>{const n=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(n)}},[e,t]),r}function JG(){var de,xe,me,ue,Ce,B;const[e,t]=w.useState({status:"",desk:"",assigned_to:"",source:"",country:"",date_from:"",date_to:""}),[r,s]=w.useState({general:"",email:"",id:"",name:"",phone:""}),[n,a]=w.useState({}),[i,l]=w.useState(1),[c,d]=w.useState(20),[u,f]=w.useState([]),[h,m]=w.useState(!1),[x,p]=w.useState(!1),[g,y]=w.useState(!1),[v,b]=w.useState(null),_=qc(r.general,300),j=qc(r.email,300),S=qc(r.id,300),N=qc(r.name,300),k=qc(r.phone,300),E=hs(),{hasPermission:C,loading:A}=Dj();w.useEffect(()=>{A||(async()=>{try{const _e=await He.getLeadsFilters();a(_e.filters||{})}catch(_e){console.error("Error cargando filtros de usuario:",_e)}})()},[A]);const F=()=>{const fe={...e};return _&&(fe.search=_),j&&(fe.email=j),S&&(fe.id=S),N&&(fe.name=N),k&&(fe.phone=k),fe},{data:M,isLoading:Y}=tt({queryKey:["leads",F(),i,c,n],queryFn:()=>Yr.getLeads({...F(),...n,page:i,limit:c}),placeholderData:fe=>fe,staleTime:3e4,enabled:!A}),L=(fe,_e)=>{t(Me=>({...Me,[fe]:_e})),l(1)},G=(fe,_e)=>{s(Me=>({...Me,[fe]:_e})),l(1)},oe=()=>{s({general:"",email:"",id:"",name:"",phone:""}),l(1)},ne=()=>{const fe=Object.values(e).filter(Me=>Me!==""&&Me!==null&&Me!==void 0).length,_e=Object.values(r).filter(Me=>Me!==""&&Me!==null&&Me!==void 0).length;return fe+_e},V=fe=>{t(_e=>({..._e,...fe})),l(1)},{data:X}=tt({queryKey:["users-for-assignment"],queryFn:()=>_a.getUsers({status:"active",role:"Sales Agent"}),staleTime:5*60*1e3}),{data:ee}=tt({queryKey:["desks-for-filters"],queryFn:()=>hr.getDesks({status:"active"}),staleTime:5*60*1e3}),R=fe=>{const _e=Me=>{const Re=Me.toLowerCase();return Re.includes("nuevo")||Re.includes("new")?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":Re.includes("contactado")||Re.includes("contacted")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":Re.includes("calificado")||Re.includes("qualified")?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":Re.includes("convertido")||Re.includes("converted")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":Re.includes("perdido")||Re.includes("lost")?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return o.jsx("span",{className:Be("badge",_e(fe)),children:fe})},K=fe=>new Date(fe).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),z=fe=>{fe!==null&&f(_e=>_e.includes(fe)?_e.filter(Me=>Me!==fe):[..._e,fe])},H=()=>{var fe,_e;u.length===(((fe=M==null?void 0:M.data)==null?void 0:fe.length)||0)?f([]):f(((_e=M==null?void 0:M.data)==null?void 0:_e.map(Me=>Me.id).filter(Me=>Me!==null))||[])},Q=()=>{u.length!==0&&m(!0)};return A?o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx(Ut,{size:"lg"}),o.jsx("p",{className:"ml-3 text-secondary-600 dark:text-secondary-400",children:"Verificando permisos..."})]}):C("leads.view")?Y&&!M?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})}):o.jsx(BI,{permission:"leads.view",children:o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Gestin de Leads"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Administra y da seguimiento a todos tus leads"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs(Ex,{permission:"leads.create",onClick:()=>y(!0),className:"btn-secondary",children:[o.jsx(iR,{className:"w-4 h-4 mr-2"}),"Importar"]}),u.length>0&&C("leads.assign")&&o.jsxs(Ex,{permission:"leads.assign",onClick:Q,className:"btn-primary",children:[o.jsx(ey,{className:"w-4 h-4 mr-2"}),"Asignar ",u.length," Leads"]}),o.jsxs(Ex,{permission:"leads.create",onClick:()=>p(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nuevo Lead"]})]})]}),o.jsx(UI,{searchValues:r,onSearchChange:G,onClearSearch:oe}),o.jsx(GI,{currentFilters:e,onFilterChange:L,onLoadFilter:V,desksData:ee,activeFiltersCount:ne()}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:((de=M==null?void 0:M.pagination)==null?void 0:de.total)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Total Leads"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success-600 dark:text-success-400",children:((xe=M==null?void 0:M.stats)==null?void 0:xe.converted_leads)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Convertidos"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-warning-600 dark:text-warning-400",children:((me=M==null?void 0:M.stats)==null?void 0:me.qualified_leads)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Calificados"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-secondary-600 dark:text-secondary-400",children:((ue=M==null?void 0:M.stats)==null?void 0:ue.new_leads)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Nuevos"})]})})]}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:o.jsx("input",{type:"checkbox",checked:u.length===(((Ce=M==null?void 0:M.data)==null?void 0:Ce.length)||0)&&(((B=M==null?void 0:M.data)==null?void 0:B.length)||0)>0,onChange:H,className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Lead"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Contacto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Mesa"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Asignado a"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:Array.isArray(M==null?void 0:M.data)?M.data.map(fe=>{var _e,Me;return o.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:fe.id!==null&&u.includes(fe.id),onChange:()=>z(fe.id),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:o.jsxs("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:[(_e=fe.first_name)==null?void 0:_e.charAt(0),(Me=fe.last_name)==null?void 0:Me.charAt(0)]})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs(ei,{to:`/leads/${fe.id}`,className:"text-sm font-medium text-secondary-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400 transition-colors cursor-pointer",children:[fe.first_name," ",fe.last_name]}),o.jsxs(ei,{to:`/leads/${fe.id}`,className:"block text-sm text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors cursor-pointer",children:["ID: ",fe.id]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:fe.email}),o.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:fe.phone||"Sin telfono"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(fe.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:fe.desk_name||"Sin mesa"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:fe.assigned_to_name||"Sin asignar"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:K(fe.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[(C("leads.assign")||C("leads.update"))&&o.jsx("button",{onClick:()=>b(fe.id),className:"text-warning-600 hover:text-warning-900 dark:text-warning-400 dark:hover:text-warning-300",title:"Asignar lead",children:o.jsx(da,{className:"w-4 h-4"})}),o.jsx(ei,{to:`/leads/${fe.id}`,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Ver detalles",children:o.jsx($o,{className:"w-4 h-4"})}),C("leads.edit")&&o.jsx("button",{className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar lead",children:o.jsx(Ao,{className:"w-4 h-4"})}),C("leads.delete")&&o.jsx("button",{className:"text-danger-600 hover:text-danger-900 dark:text-danger-400 dark:hover:text-danger-300",title:"Eliminar lead",children:o.jsx(Fo,{className:"w-4 h-4"})})]})})]},fe.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-secondary-500 dark:text-secondary-400",children:"No hay datos disponibles"})})})]})}),M&&M.pagination&&M.pagination.total_pages>1&&o.jsx("div",{className:"px-6 py-4 border-t border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Mostrando ",(i-1)*c+1," a ",Math.min(i*c,M.pagination.total)," de ",M.pagination.total," resultados"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Mostrar:"}),o.jsxs("select",{value:c,onChange:fe=>{d(Number(fe.target.value)),l(1)},className:"px-2 py-1 text-sm border border-secondary-300 dark:border-secondary-600 rounded bg-white dark:bg-secondary-800 text-secondary-900 dark:text-white",children:[o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"por pgina"})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>l(i-1),disabled:i===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsxs("span",{className:"px-3 py-2 text-sm text-secondary-700 dark:text-secondary-300",children:["Pgina ",i," de ",M.pagination.total_pages]}),o.jsx("button",{onClick:()=>l(i+1),disabled:i>=M.pagination.total_pages,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})})]})}),(M==null?void 0:M.data)&&M.data.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-secondary-400 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-2",children:"No se encontraron leads"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-6",children:"Comienza agregando tu primer lead o ajusta los filtros de bsqueda."}),o.jsxs("button",{className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Crear Primer Lead"]})]}),h&&o.jsx(QG,{selectedLeads:u,users:(X==null?void 0:X.data)||[],onClose:()=>m(!1),onAssign:async fe=>{var _e,Me;console.log("Asignaciones masivas:",fe);try{const Re=fe.flatMap(nt=>(nt.leadIds||[]).map(Ht=>({lead_id:Ht,assigned_to:nt.userId,status:nt.status})));console.log("Payload normalizado para API:",{leadIds:u,assignments:Re});const be=await Yr.bulkAssign(u,Re);E.invalidateQueries({queryKey:["leads"]}),f([]),m(!1),alert(`Asignacin completada! ${(be==null?void 0:be.updated_count)||0} leads asignados exitosamente.`),console.log("Asignacin masiva completada exitosamente:",be)}catch(Re){console.error("Error en asignacin masiva:",Re),alert("Error al asignar leads: "+(((Me=(_e=Re.response)==null?void 0:_e.data)==null?void 0:Me.message)||Re.message||"Error desconocido"))}m(!1),f([])}}),v!==null&&o.jsx(ZG,{leadId:v,users:(X==null?void 0:X.data)||[],onClose:()=>b(null),onAssign:async({userId:fe,status:_e})=>{var Me,Re;try{const be=[{lead_id:v,assigned_to:fe,status:_e}],nt=await Yr.bulkAssign([v],be);E.invalidateQueries({queryKey:["leads"]}),b(null),alert(`Lead asignado correctamente (${(nt==null?void 0:nt.updated_count)||0} actualizado).`)}catch(be){console.error("Error asignando lead:",be),alert("Error al asignar lead: "+(((Re=(Me=be.response)==null?void 0:Me.data)==null?void 0:Re.message)||be.message||"Error desconocido"))}}}),o.jsx(XI,{isOpen:x,onClose:()=>p(!1),onSuccess:()=>{E.invalidateQueries({queryKey:["leads"]})}}),o.jsx(YG,{isOpen:g,onClose:()=>y(!1),onSuccess:()=>{E.invalidateQueries({queryKey:["leads"]})}})]})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-4",children:"Acceso Denegado"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"No tienes permisos para ver los leads."})]})}function Ix({currentPage:e,totalItems:t,itemsPerPage:r,onPageChange:s,className:n}){const a=Math.ceil(t/r);if(a<=1)return null;const i=(e-1)*r+1,l=Math.min(e*r,t),d=(()=>{const f=[],h=[];for(let m=Math.max(2,e-2);m<=Math.min(a-1,e+2);m++)f.push(m);return e-2>2?h.push(1,"..."):h.push(1),h.push(...f),e+2<a-1?h.push("...",a):h.push(a),h})();return o.jsxs("div",{className:Be("flex items-center justify-between border-t border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-900 px-4 py-3 sm:px-6",n),children:[o.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[o.jsx("button",{onClick:()=>s(e-1),disabled:e===1,className:"relative inline-flex items-center rounded-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-800 px-4 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsx("button",{onClick:()=>s(e+1),disabled:e===a,className:"relative ml-3 inline-flex items-center rounded-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-800 px-4 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),o.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Mostrando ",o.jsx("span",{className:"font-medium",children:i})," a"," ",o.jsx("span",{className:"font-medium",children:l})," de"," ",o.jsx("span",{className:"font-medium",children:t})," resultados"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[o.jsxs("button",{onClick:()=>s(e-1),disabled:e===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-secondary-400 ring-1 ring-inset ring-secondary-300 dark:ring-secondary-600 hover:bg-secondary-50 dark:hover:bg-secondary-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"sr-only",children:"Anterior"}),o.jsx(Q1,{className:"h-5 w-5","aria-hidden":"true"})]}),d.map((u,f)=>o.jsx("button",{onClick:()=>typeof u=="number"?s(u):void 0,disabled:typeof u!="number",className:Be("relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-secondary-300 dark:ring-secondary-600 focus:z-20 focus:outline-offset-0",typeof u=="number"&&u===e?"z-10 bg-primary-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600":typeof u=="number"?"text-secondary-900 dark:text-secondary-100 hover:bg-secondary-50 dark:hover:bg-secondary-700":"text-secondary-700 dark:text-secondary-300 cursor-default"),children:u},f)),o.jsxs("button",{onClick:()=>s(e+1),disabled:e===a,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-secondary-400 ring-1 ring-inset ring-secondary-300 dark:ring-secondary-600 hover:bg-secondary-50 dark:hover:bg-secondary-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"sr-only",children:"Siguiente"}),o.jsx(Z1,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})}const b3={call:{icon:Hu,label:"Llamada",color:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400"},email:{icon:gc,label:"Email",color:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400"},meeting:{icon:mn,label:"Reunin",color:"bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-400"},note:{icon:mn,label:"Nota",color:"bg-gray-100 text-gray-600 dark:bg-gray-900 dark:text-gray-400"},task:{icon:mn,label:"Tarea",color:"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-400"},follow_up:{icon:Ni,label:"Seguimiento",color:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-400"}};function eK({leadId:e,onLeadStatusChange:t}){const[r,s]=w.useState(!1),[n,a]=w.useState(1),[i,l]=w.useState(""),[c,d]=w.useState(!1),u=hs(),{data:f,isLoading:h}=tt({queryKey:["lead-activities",e,n,i],queryFn:async()=>{const g=localStorage.getItem("auth_token"),y=new URLSearchParams({lead_id:e.toString(),page:n.toString(),limit:"3"});i&&y.append("date",i);const v=await fetch(`/api/lead-activities.php?${y}`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error("Error al cargar actividades");return v.json()}}),m=(f==null?void 0:f.activities)||[],x=(f==null?void 0:f.pagination)||{},p=pt({mutationFn:async g=>{const y=localStorage.getItem("auth_token"),v=await fetch("/api/lead-activities.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({...g,lead_id:e})});if(!v.ok)throw new Error("Error al crear actividad");return v.json()},onSuccess:(g,y)=>{u.invalidateQueries({queryKey:["lead-activities",e]}),y.leadStatus&&t&&t(y.leadStatus),s(!1),a(1),he.success("Actividad creada exitosamente")},onError:()=>{he.error("Error al crear la actividad")}});return h?o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center",children:o.jsx(Q2,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Actividades y Comunicaciones"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>d(!0),className:`p-2 rounded-lg transition-colors ${i?"bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-400":"text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-800 hover:text-secondary-700 dark:hover:text-secondary-300"}`,title:i?`Filtrado por: ${i}`:"Filtrar por fecha",children:o.jsx(su,{className:"w-5 h-5"})}),o.jsxs("button",{onClick:()=>s(!0),className:"btn btn-primary text-sm",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nueva Actividad"]})]})]})}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"space-y-4",children:m.length>0?m.map(g=>{const y=b3[g.type]||{icon:mn,label:"Actividad",color:"bg-gray-100 text-gray-600 dark:bg-gray-900 dark:text-gray-400"},v=y.icon;return o.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg p-4 hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:Be("w-10 h-10 rounded-lg flex items-center justify-center",y.color),children:o.jsx(v,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[g.description&&o.jsx("p",{className:"text-sm text-secondary-900 dark:text-white mb-3",children:g.description}),o.jsx("div",{className:"flex items-center justify-between text-xs text-secondary-500 dark:text-secondary-400",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(pr,{className:"w-3 h-3 mr-1"}),g.user_name||"Usuario"]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx(Ni,{className:"w-3 h-3 mr-1"}),new Date(g.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})})]})]})},g.id)}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Q2,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay actividades registradas"})]})}),x.total_pages>1&&o.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-secondary-200 dark:border-secondary-700 pt-4",children:[o.jsxs("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Pgina ",x.current_page," de ",x.total_pages,"(",x.total_records," actividades en total)"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>a(n-1),disabled:!x.has_prev_page,className:"flex items-center px-3 py-2 text-sm font-medium text-secondary-500 bg-white border border-secondary-300 rounded-md hover:bg-secondary-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-secondary-800 dark:border-secondary-600 dark:text-secondary-400 dark:hover:bg-secondary-700",children:[o.jsx(Q1,{className:"w-4 h-4 mr-1"}),"Anterior"]}),o.jsx("span",{className:"px-3 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300",children:x.current_page}),o.jsxs("button",{onClick:()=>a(n+1),disabled:!x.has_next_page,className:"flex items-center px-3 py-2 text-sm font-medium text-secondary-500 bg-white border border-secondary-300 rounded-md hover:bg-secondary-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-secondary-800 dark:border-secondary-600 dark:text-secondary-400 dark:hover:bg-secondary-700",children:["Siguiente",o.jsx(Z1,{className:"w-4 h-4 ml-1"})]})]})]})]}),r&&o.jsx(rK,{onClose:()=>s(!1),onSubmit:g=>p.mutate(g),isLoading:p.isPending}),c&&o.jsx(tK,{currentFilter:i,onApply:g=>{l(g),a(1),d(!1)},onClear:()=>{l(""),a(1),d(!1)},onClose:()=>d(!1)})]})}function tK({currentFilter:e,onApply:t,onClear:r,onClose:s}){const[n,a]=w.useState(e),i=l=>{l.preventDefault(),t(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Filtrar por fecha"}),o.jsx("button",{onClick:s,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:i,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Seleccionar fecha"}),o.jsx("input",{type:"date",value:n,onChange:l=>a(l.target.value),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-800 dark:text-white"})]}),o.jsxs("div",{className:"flex justify-between space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:text-secondary-900 dark:hover:text-white border border-secondary-300 dark:border-secondary-600 rounded-lg hover:bg-secondary-50 dark:hover:bg-secondary-700",children:"Limpiar filtro"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:text-secondary-900 dark:hover:text-white",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn btn-primary text-sm",children:"Aplicar filtro"})]})]})]})]})})})}function rK({onClose:e,onSubmit:t,isLoading:r}){const[s,n]=w.useState({type:"note",description:"",leadStatus:"",visibility:"team"}),a=[{value:"new",label:"Nuevo"},{value:"contacted",label:"Contactado"},{value:"qualified",label:"Calificado"},{value:"converted",label:"Convertido"},{value:"lost",label:"Perdido"}],i=l=>{if(l.preventDefault(),!s.description.trim()){he.error("El comentario es requerido");return}t(s)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Nueva Actividad"}),o.jsx("button",{onClick:e,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:i,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Actividad"}),o.jsx("select",{value:s.type,onChange:l=>n({...s,type:l.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-800 dark:text-white",children:Object.entries(b3).map(([l,c])=>o.jsx("option",{value:l,children:c.label},l))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Comentario *"}),o.jsx("textarea",{value:s.description,onChange:l=>n({...s,description:l.target.value}),rows:3,className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-800 dark:text-white",placeholder:"Ingrese su comentario",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado del Lead (opcional)"}),o.jsxs("select",{value:s.leadStatus,onChange:l=>n({...s,leadStatus:l.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-secondary-800 dark:text-white",children:[o.jsx("option",{value:"",children:"Sin cambios"}),a.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:text-secondary-900 dark:hover:text-white",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary text-sm",children:r?"Creando...":"Crear Actividad"})]})]})]})})})}function Vk({leadId:e,currentStateName:t,onStateChange:r,showHistory:s=!1,disabled:n=!1}){var N;const[a,i]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState(null),[f,h]=w.useState(""),m=hs(),{data:x,isLoading:p}=tt({queryKey:["lead-available-states",e],queryFn:async()=>{const k=await fetch(`/api/leads.php?action=available-states&id=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!k.ok)throw new Error("Error al cargar estados disponibles");return k.json()},enabled:!!e}),{data:g,isLoading:y}=tt({queryKey:["lead-state-history",e],queryFn:async()=>{const k=await fetch(`/api/leads.php?action=state-history&id=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!k.ok)throw new Error("Error al cargar historial de estados");return k.json()},enabled:!!e&&s}),v=pt({mutationFn:async({toStateId:k,comment:E})=>{const C=await fetch("/api/lead-state-change.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({lead_id:e,to_state_id:k,comment:E})});if(!C.ok){const A=await C.json();throw new Error(A.message||"Error al cambiar estado")}return C.json()},onSuccess:k=>{m.invalidateQueries({queryKey:["lead",e]}),m.invalidateQueries({queryKey:["lead-available-states",e]}),m.invalidateQueries({queryKey:["lead-state-history",e]}),m.invalidateQueries({queryKey:["leads"]}),u(null),h(""),i(!1),r&&k.success&&r(k.new_state_id,k.new_state_name),he.success("Estado cambiado correctamente")},onError:k=>{he.error(k.message)}}),b=k=>{k.requires_comment?u(k):v.mutate({toStateId:k.to_state_id})},_=()=>{d&&v.mutate({toStateId:d.to_state_id,comment:f.trim()||void 0})},j=k=>{const E={blue:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",green:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",red:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",purple:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",pink:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",gray:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return E[k]||E.gray},S=x==null?void 0:x.current_state;return o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>!n&&i(!a),disabled:n||p,className:Be("inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",S?j(S.color):"bg-gray-100 text-gray-800",!n&&"hover:shadow-md cursor-pointer",n&&"opacity-50 cursor-not-allowed"),children:[p?o.jsx(wd,{className:"w-4 h-4 animate-spin mr-1.5"}):o.jsx(_s,{className:"w-4 h-4 mr-1.5"}),o.jsx("span",{className:"capitalize",children:(S==null?void 0:S.name)||t||"Sin estado"}),!n&&o.jsx(ti,{className:Be("w-4 h-4 ml-1.5 transition-transform duration-200",a&&"rotate-180")})]}),a&&(x==null?void 0:x.available_transitions)&&o.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-secondary-800 rounded-lg shadow-lg border border-secondary-200 dark:border-secondary-700 z-50",children:o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wide px-2 py-1 mb-1",children:"Cambiar a:"}),x.available_transitions.map(k=>{var E;return o.jsxs("button",{onClick:()=>b(k),disabled:v.isPending,className:"w-full text-left px-3 py-2 rounded-md hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors disabled:opacity-50",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:Be("w-3 h-3 rounded-full",`bg-${((E=x.states.find(C=>C.id===k.to_state_id))==null?void 0:E.color)||"gray"}-500`)}),o.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.name})]}),k.requires_comment&&o.jsx(ba,{className:"w-4 h-4 text-amber-500"})]}),k.description&&o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1 ml-5",children:k.description})]},k.id)})]})})]}),s&&o.jsx("button",{onClick:()=>c(!0),className:"p-1.5 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300 transition-colors rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-800",title:"Ver historial de estados",children:o.jsx(Ni,{className:"w-4 h-4"})})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:"Cambiar Estado"}),o.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400 mb-4",children:["Ests seguro de cambiar el estado a ",o.jsx("strong",{children:d.name}),"?"]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:["Comentario ",d.requires_comment&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:f,onChange:k=>h(k.target.value),placeholder:"Describe la razn del cambio de estado...",className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",rows:3,required:d.requires_comment})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>{u(null),h("")},className:"px-4 py-2 text-secondary-600 dark:text-secondary-400 hover:text-secondary-800 dark:hover:text-secondary-200 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:_,disabled:v.isPending||d.requires_comment&&!f.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v.isPending?"Cambiando...":"Confirmar"})]})]})})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-secondary-200 dark:border-secondary-700",children:o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Historial de Estados"})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:y?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(wd,{className:"w-6 h-6 animate-spin text-secondary-400"})}):((N=g==null?void 0:g.data)==null?void 0:N.length)>0?o.jsx("div",{className:"space-y-4",children:g.data.map(k=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:o.jsx(_s,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.from_state_name?`${k.from_state_name}  ${k.to_state_name}`:`Estado inicial: ${k.to_state_name}`}),o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:new Date(k.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:["Por: ",k.changed_by_name]}),k.comment&&o.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-300 mt-2 italic",children:['"',k.comment,'"']})]})]},k.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ni,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay historial de cambios de estado"})]})}),o.jsx("div",{className:"p-6 border-t border-secondary-200 dark:border-secondary-700",children:o.jsx("button",{onClick:()=>c(!1),className:"w-full px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-md hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:"Cerrar"})})]})}),a&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})}function sK(){var B,fe,_e,Me,Re,be,nt,Ht,W,Z,le,ke,ge,pe,Ae,Ye,$e,ht;const{id:e}=l6(),t=fc(),r=hs(),{hasPermission:s}=pc(),[n,a]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(!0),[u,f]=w.useState(!0),[h,m]=w.useState(!1),[x,p]=w.useState(!0),[g,y]=w.useState("open"),[v,b]=w.useState(1),[_,j]=w.useState(1),[S,N]=w.useState(1),k=5,{data:E,isLoading:C}=tt({queryKey:["lead",e],queryFn:()=>Yr.getLead(Number(e)),enabled:!!e}),{data:A,isLoading:F}=tt({queryKey:["lead-finances",e],queryFn:async()=>{const J=await He.getApiUrl(),Oe=localStorage.getItem("auth_token");return fetch(`${J}/lead-finances.php?lead_id=${e}`,{headers:{Authorization:Oe?`Bearer ${Oe}`:"",Accept:"application/json"}}).then(ut=>ut.json())},enabled:!!e,refetchOnWindowFocus:!1}),{data:M}=tt({queryKey:["desk",E==null?void 0:E.desk_id],queryFn:async()=>{const J=await He.getApiUrl(),Oe=localStorage.getItem("auth_token");return(await fetch(`${J}/desks.php?id=${E==null?void 0:E.desk_id}`,{headers:{Authorization:Oe?`Bearer ${Oe}`:"",Accept:"application/json"}})).json()},enabled:!!(E!=null&&E.desk_id),refetchOnWindowFocus:!1}),{data:Y,isLoading:L}=tt({queryKey:["trading-accounts",e],queryFn:()=>lg.getLeadAccounts(Number(e)),enabled:!!e,refetchOnWindowFocus:!1}),{data:G,isLoading:oe}=tt({queryKey:["positions",e],queryFn:()=>Promise.resolve({success:!0,data:{open_positions:[{id:1,symbol:"EURUSD",type:"buy",volume:.1,open_price:1.085,current_price:1.0875,profit_loss:25,swap:-.5,commission:-2,open_time:"2024-01-15T10:30:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"},{id:2,symbol:"GBPUSD",type:"sell",volume:.2,open_price:1.265,current_price:1.263,profit_loss:40,swap:-1.2,commission:-4,open_time:"2024-01-15T14:15:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"},{id:5,symbol:"USDCAD",type:"buy",volume:.15,open_price:1.345,current_price:1.3465,profit_loss:15.75,swap:-.8,commission:-3,open_time:"2024-01-15T16:45:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"},{id:6,symbol:"GOLD",type:"sell",volume:.05,open_price:2025.5,current_price:2020.3,profit_loss:26,swap:-1.5,commission:-2.5,open_time:"2024-01-15T18:20:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"},{id:7,symbol:"NZDUSD",type:"buy",volume:.12,open_price:.618,current_price:.6195,profit_loss:18,swap:-.6,commission:-2.4,open_time:"2024-01-15T20:10:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"},{id:8,symbol:"EURGBP",type:"sell",volume:.08,open_price:.858,current_price:.857,profit_loss:8,swap:-.4,commission:-1.6,open_time:"2024-01-15T21:30:00Z",status:"open",account_number:"12345678",platform:"MetaTrader 5"}],closed_positions:[{id:3,symbol:"USDJPY",type:"buy",volume:.15,open_price:148.5,current_price:149.2,profit_loss:70.5,swap:-2.3,commission:-3,open_time:"2024-01-14T09:00:00Z",close_time:"2024-01-14T16:30:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"},{id:9,symbol:"EURJPY",type:"sell",volume:.1,open_price:161.2,current_price:160.85,profit_loss:35,swap:-1.8,commission:-2,open_time:"2024-01-13T11:15:00Z",close_time:"2024-01-13T17:45:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"},{id:10,symbol:"GBPJPY",type:"buy",volume:.08,open_price:187.9,current_price:188.45,profit_loss:44,swap:-2.1,commission:-1.6,open_time:"2024-01-12T14:20:00Z",close_time:"2024-01-12T19:30:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"},{id:11,symbol:"AUDJPY",type:"sell",volume:.12,open_price:97.8,current_price:97.45,profit_loss:42,swap:-1.4,commission:-2.4,open_time:"2024-01-11T08:30:00Z",close_time:"2024-01-11T15:15:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"},{id:12,symbol:"USDCHF",type:"buy",volume:.18,open_price:.872,current_price:.8745,profit_loss:45,swap:-.9,commission:-3.6,open_time:"2024-01-10T13:45:00Z",close_time:"2024-01-10T18:20:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"},{id:13,symbol:"CADCHF",type:"sell",volume:.06,open_price:.649,current_price:.6475,profit_loss:9,swap:-.3,commission:-1.2,open_time:"2024-01-09T10:10:00Z",close_time:"2024-01-09T16:40:00Z",status:"closed",account_number:"12345678",platform:"MetaTrader 5"}],pending_positions:[{id:4,symbol:"AUDUSD",type:"buy",volume:.1,open_price:.675,profit_loss:0,swap:0,commission:0,open_time:"2024-01-15T18:00:00Z",status:"pending",account_number:"12345678",platform:"MetaTrader 5"},{id:14,symbol:"CHFJPY",type:"sell",volume:.07,open_price:170.25,profit_loss:0,swap:0,commission:0,open_time:"2024-01-15T19:30:00Z",status:"pending",account_number:"12345678",platform:"MetaTrader 5"},{id:15,symbol:"SILVER",type:"buy",volume:.2,open_price:23.45,profit_loss:0,swap:0,commission:0,open_time:"2024-01-15T20:45:00Z",status:"pending",account_number:"12345678",platform:"MetaTrader 5"}]}}),enabled:!!e,refetchOnWindowFocus:!1,refetchInterval:5e3}),ne=(J,Oe)=>{r.invalidateQueries({queryKey:["lead",e]}),r.invalidateQueries({queryKey:["leads"]}),he.success(`Estado cambiado a: ${Oe}`)},V=pt({mutationFn:J=>Yr.update(Number(e),J),onSuccess:()=>{r.invalidateQueries({queryKey:["lead",e]}),a(!1),he.success("Lead actualizado correctamente")},onError:()=>{he.error("Error al actualizar el lead")}}),X=pt({mutationFn:J=>Yr.update(Number(e),{assigned_to:J}),onSuccess:()=>{r.invalidateQueries({queryKey:["lead",e]}),r.invalidateQueries({queryKey:["leads"]}),l(!1),he.success("Lead asignado correctamente")},onError:J=>{var ut,ft;console.error("Error al asignar lead:",J);const Oe=((ft=(ut=J.response)==null?void 0:ut.data)==null?void 0:ft.message)||J.message||"Error desconocido";he.error(`Error al asignar el lead: ${Oe}`)}}),ee=pt({mutationFn:J=>lg.unlinkAccount(J),onSuccess:()=>{r.invalidateQueries({queryKey:["trading-accounts",e]}),he.success("Cuenta desvinculada correctamente")},onError:()=>{he.error("Error al desvincular la cuenta")}}),R=J=>{J.preventDefault();const Oe=new FormData(J.target),ut={name:Oe.get("name"),email:Oe.get("email"),phone:Oe.get("phone"),country:Oe.get("country"),status:Oe.get("status"),source:Oe.get("source"),campaign:Oe.get("campaign"),assigned_to:Oe.get("assigned_to")?Number(Oe.get("assigned_to")):null};V.mutate(ut)},K=J=>{X.mutate(J)},z=(J,Oe)=>{const ut=(Oe-1)*k,ft=ut+k;return J.slice(ut,ft)},H=J=>Math.ceil(J.length/k),Q=(B=G==null?void 0:G.data)!=null&&B.open_positions?z(G.data.open_positions,v):[],de=(fe=G==null?void 0:G.data)!=null&&fe.closed_positions?z(G.data.closed_positions,_):[],xe=(_e=G==null?void 0:G.data)!=null&&_e.pending_positions?z(G.data.pending_positions,S):[],me=(Me=G==null?void 0:G.data)!=null&&Me.open_positions?H(G.data.open_positions):0,ue=(Re=G==null?void 0:G.data)!=null&&Re.closed_positions?H(G.data.closed_positions):0,Ce=(be=G==null?void 0:G.data)!=null&&be.pending_positions?H(G.data.pending_positions):0;return C?o.jsx("div",{className:"flex justify-center items-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ut,{}),o.jsx("p",{className:"mt-4 text-secondary-600 dark:text-secondary-400",children:"Cargando informacin del lead..."})]})}):E?o.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>t("/leads"),className:"p-2 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300 transition-colors rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-800",children:o.jsx(_i,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center text-white font-bold text-lg",children:((Ht=(nt=E.name)==null?void 0:nt.charAt(0))==null?void 0:Ht.toUpperCase())||"L"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:E.name}),o.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[o.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400",children:["Lead #",E.id]}),o.jsx("span",{className:"text-secondary-300 dark:text-secondary-600",children:""}),o.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 flex items-center",children:[o.jsx(su,{className:"w-4 h-4 mr-1"}),new Date(E.created_at).toLocaleDateString("es-ES")]})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Vk,{leadId:Number(e),currentStateName:E.status,onStateChange:ne,showHistory:!0,disabled:n}),o.jsxs("button",{onClick:()=>a(!n),className:Be("btn transition-all duration-200",n?"btn-secondary":"btn-primary hover:shadow-lg"),children:[o.jsx(Ao,{className:"w-4 h-4 mr-2"}),n?"Cancelar":"Editar"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>m(!h),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:o.jsx(pr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Informacin del Lead"})]}),h?o.jsx(ti,{className:"w-5 h-5 text-secondary-400"}):o.jsx(yl,{className:"w-5 h-5 text-secondary-400"})]})}),!h&&o.jsx("div",{className:"card-body",children:n?o.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre Completo"}),o.jsx("input",{type:"text",name:"name",defaultValue:E.name,className:"input",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",defaultValue:E.email,className:"input",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Telfono"}),o.jsx("input",{type:"tel",name:"phone",defaultValue:E.phone,className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Pas"}),o.jsx("input",{type:"text",name:"country",defaultValue:E.country,className:"input"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado"}),o.jsxs("select",{name:"status",defaultValue:E.status,className:"input",children:[o.jsx("option",{value:"new",children:"Nuevo"}),o.jsx("option",{value:"contacted",children:"Contactado"}),o.jsx("option",{value:"qualified",children:"Calificado"}),o.jsx("option",{value:"converted",children:"Convertido"}),o.jsx("option",{value:"lost",children:"Perdido"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Fuente"}),o.jsx("input",{type:"text",name:"source",defaultValue:E.source,className:"input"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Campaa"}),o.jsx("input",{type:"text",name:"campaign",defaultValue:E.campaign,className:"input"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-secondary",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:V.isPending,className:"btn btn-primary",children:V.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Ut,{}),o.jsx("span",{className:"ml-2",children:"Guardando..."})]}):"Guardar Cambios"})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(gc,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Email"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.email})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(Hu,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Telfono"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.phone||"No especificado"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(DP,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Pas"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.country||"No especificado"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(J1,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Fuente"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.source||"No especificado"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(UP,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Campaa"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.campaign||"No especificado"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx(pr,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Asignado a"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:E.assigned_to_name||"Sin asignar"})]})]})]})]})})]}),o.jsx(eK,{leadId:E.id,onLeadStatusChange:J=>ne(0,J)}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>f(!u),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:o.jsx(lx,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Depsitos y Retiros"}),((W=A==null?void 0:A.data)==null?void 0:W.summary)&&o.jsxs("span",{className:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 px-2 py-1 rounded-full text-xs font-medium",children:[A.data.summary.transaction_count," transacciones"]})]}),u?o.jsx(ti,{className:"w-5 h-5 text-secondary-400"}):o.jsx(yl,{className:"w-5 h-5 text-secondary-400"})]})}),!u&&o.jsx("div",{className:"card-body",children:F?o.jsx("div",{className:"flex justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ut,{}),o.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Cargando informacin financiera..."})]})}):A!=null&&A.success&&(A!=null&&A.data)?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Total Depsitos"}),o.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",(A.data.summary.total_deposits||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(td,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Total Retiros"}),o.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",(A.data.summary.total_withdrawals||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(td,{className:"w-8 h-8 text-red-500 rotate-180"})]})}),o.jsx("div",{className:`bg-gradient-to-br rounded-xl p-4 border ${A.data.summary.net_amount>=0?"from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border-blue-200 dark:border-blue-800":"from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-orange-200 dark:border-orange-800"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-medium ${A.data.summary.net_amount>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:"Balance Neto"}),o.jsxs("p",{className:`text-2xl font-bold ${A.data.summary.net_amount>=0?"text-blue-700 dark:text-blue-300":"text-orange-700 dark:text-orange-300"}`,children:["$",(A.data.summary.net_amount||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(gn,{className:`w-8 h-8 ${A.data.summary.net_amount>=0?"text-blue-500":"text-orange-500"}`})]})})]}),A.data.transactions&&A.data.transactions.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-md font-semibold text-secondary-900 dark:text-white flex items-center",children:[o.jsx(mn,{className:"w-5 h-5 mr-2 text-secondary-500"}),"Historial de Transacciones"]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-secondary-200 dark:border-secondary-700",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-secondary-200 dark:divide-secondary-700",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Monto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Agente"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Estado"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:A.data.transactions.map(J=>o.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${J.type==="deposit"?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:o.jsx(td,{className:`w-4 h-4 ${J.type==="deposit"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400 rotate-180"}`})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("div",{className:"text-sm font-medium text-secondary-900 dark:text-white capitalize",children:J.type==="deposit"?"Depsito":"Retiro"}),J.payment_method&&o.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:J.payment_method})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:`text-sm font-semibold ${J.type==="deposit"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.type==="deposit"?"+":"-","$",(J.amount||0).toLocaleString("en-US",{minimumFractionDigits:2})]}),o.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:J.currency||"USD"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:J.agent_name||J.processed_by_name||"No especificado"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:new Date(J.created_at).toLocaleDateString("es-ES")}),o.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:new Date(J.created_at).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J.status==="completed"||J.status==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":J.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:J.status==="completed"?"Completado":J.status==="approved"?"Aprobado":J.status==="pending"?"Pendiente":J.status})})]},J.id))})]})})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lx,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay transacciones registradas"})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ba,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No se pudo cargar la informacin financiera"})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>d(!c),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:o.jsx(J2,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Cuentas de Trading"}),(Y==null?void 0:Y.success)&&((Z=Y==null?void 0:Y.data)==null?void 0:Z.length)>0&&o.jsxs("span",{className:"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 px-2 py-1 rounded-full text-xs font-medium",children:[Y.data.length," cuentas"]})]}),c?o.jsx(ti,{className:"w-5 h-5 text-secondary-400"}):o.jsx(yl,{className:"w-5 h-5 text-secondary-400"})]})}),!c&&o.jsx("div",{className:"card-body",children:L?o.jsx("div",{className:"flex justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ut,{}),o.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Cargando cuentas de trading..."})]})}):Y!=null&&Y.success&&((le=Y==null?void 0:Y.data)==null?void 0:le.length)>0?o.jsx("div",{className:"space-y-6",children:Y.data.map(J=>o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:J.platform.substring(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:J.account_number}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[J.platform,"  ",J.account_type,"  ",J.leverage]}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${J.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:J.status==="active"?"Activa":"Inactiva"})]})]}),o.jsx("button",{onClick:()=>ee.mutate(J.id),disabled:ee.isPending,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium transition-colors hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg",children:"Desvincular"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wide",children:"Balance"}),o.jsxs("p",{className:"text-xl font-bold text-secondary-900 dark:text-white",children:["$",(J.balance||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(gn,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wide",children:"Equity"}),o.jsxs("p",{className:"text-xl font-bold text-secondary-900 dark:text-white",children:["$",(J.equity||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(Rr,{className:"w-8 h-8 text-purple-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wide",children:"Margen"}),o.jsxs("p",{className:"text-xl font-bold text-secondary-900 dark:text-white",children:["$",(J.margin||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(lx,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wide",children:"P&L"}),o.jsxs("p",{className:`text-xl font-bold ${(J.profit_loss||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["$",(J.profit_loss||0).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx(td,{className:`w-8 h-8 ${(J.profit_loss||0)>=0?"text-green-500":"text-red-500 rotate-180"}`})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-lg p-4 border border-cyan-200 dark:border-cyan-800",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-cyan-600 dark:text-cyan-400",children:"Margen Libre"}),o.jsxs("p",{className:"text-lg font-bold text-cyan-700 dark:text-cyan-300",children:["$",((J.equity||0)-(J.margin||0)).toLocaleString("en-US",{minimumFractionDigits:2})]})]})})}),o.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:"Nivel de Margen"}),o.jsxs("p",{className:"text-lg font-bold text-indigo-700 dark:text-indigo-300",children:[J.margin>0?(J.equity/J.margin*100).toFixed(2):"0.00","%"]})]})})}),o.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-lg p-4 border border-emerald-200 dark:border-emerald-800",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"ROI"}),o.jsxs("p",{className:`text-lg font-bold ${(J.profit_loss||0)>=0?"text-emerald-700 dark:text-emerald-300":"text-red-600 dark:text-red-400"}`,children:[J.balance>0?((J.profit_loss||0)/J.balance*100).toFixed(2):"0.00","%"]})]})})})]})]},J.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(J2,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-2",children:"No hay cuentas de trading vinculadas"}),o.jsx("p",{className:"text-sm text-secondary-400 dark:text-secondary-500",children:"Las cuentas se vincularn automticamente cuando coincida el email"})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>p(!x),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center",children:o.jsx(Rr,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Posiciones de Trading"})]}),x?o.jsx(ti,{className:"w-5 h-5 text-secondary-400"}):o.jsx(yl,{className:"w-5 h-5 text-secondary-400"})]})}),!x&&o.jsx("div",{className:"card-body",children:oe?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Ut,{})}):G!=null&&G.success&&(G!=null&&G.data)?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsxs("button",{onClick:()=>y("open"),className:Be("py-2 px-1 border-b-2 font-medium text-sm transition-colors",g==="open"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300 dark:text-secondary-400 dark:hover:text-secondary-300"),children:["Posiciones Abiertas (",G.data.open_positions.length,")"]}),o.jsxs("button",{onClick:()=>y("closed"),className:Be("py-2 px-1 border-b-2 font-medium text-sm transition-colors",g==="closed"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300 dark:text-secondary-400 dark:hover:text-secondary-300"),children:["Posiciones Cerradas (",G.data.closed_positions.length,")"]}),o.jsxs("button",{onClick:()=>y("pending"),className:Be("py-2 px-1 border-b-2 font-medium text-sm transition-colors",g==="pending"?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300 dark:text-secondary-400 dark:hover:text-secondary-300"),children:["Posiciones Pendientes (",G.data.pending_positions.length,")"]})]})}),o.jsxs("div",{className:"space-y-4",children:[g==="open"&&o.jsx(o.Fragment,{children:Q.length>0?o.jsxs(o.Fragment,{children:[Q.map(J=>{var Oe;return o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:Be("w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",J.type==="buy"?"bg-green-500":"bg-red-500"),children:J.type==="buy"?"BUY":"SELL"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-secondary-900 dark:text-white",children:J.symbol}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Volumen: ",J.volume,"  ",J.platform]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:Be("font-bold text-lg",J.profit_loss>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",J.profit_loss.toFixed(2)]}),o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"P&L"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Precio Apertura"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:J.open_price.toFixed(5)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Precio Actual"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:((Oe=J.current_price)==null?void 0:Oe.toFixed(5))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Swap"}),o.jsxs("p",{className:Be("font-medium",J.swap>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",J.swap.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Comisin"}),o.jsxs("p",{className:"font-medium text-red-600 dark:text-red-400",children:["$",J.commission.toFixed(2)]})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-secondary-200 dark:border-secondary-700",children:o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["Abierta: ",new Date(J.open_time).toLocaleString("es-ES")]})})]},J.id)}),me>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(Ix,{currentPage:v,totalItems:((ge=(ke=G==null?void 0:G.data)==null?void 0:ke.open_positions)==null?void 0:ge.length)||0,itemsPerPage:10,onPageChange:b})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rr,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay posiciones abiertas"})]})}),g==="closed"&&o.jsx(o.Fragment,{children:de.length>0?o.jsxs(o.Fragment,{children:[de.map(J=>{var Oe;return o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:Be("w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",J.type==="buy"?"bg-green-500":"bg-red-500"),children:J.type==="buy"?"BUY":"SELL"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-secondary-900 dark:text-white",children:J.symbol}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Volumen: ",J.volume,"  ",J.platform]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:Be("font-bold text-lg",J.profit_loss>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",J.profit_loss.toFixed(2)]}),o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"P&L Final"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Precio Apertura"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:J.open_price.toFixed(5)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Precio Cierre"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:((Oe=J.current_price)==null?void 0:Oe.toFixed(5))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Swap"}),o.jsxs("p",{className:Be("font-medium",J.swap>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",J.swap.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Comisin"}),o.jsxs("p",{className:"font-medium text-red-600 dark:text-red-400",children:["$",J.commission.toFixed(2)]})]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-secondary-200 dark:border-secondary-700 grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["Abierta: ",new Date(J.open_time).toLocaleString("es-ES")]})}),o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["Cerrada: ",J.close_time?new Date(J.close_time).toLocaleString("es-ES"):"N/A"]})})]})]},J.id)}),ue>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(Ix,{currentPage:_,totalItems:((Ae=(pe=G==null?void 0:G.data)==null?void 0:pe.closed_positions)==null?void 0:Ae.length)||0,itemsPerPage:10,onPageChange:j})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(_s,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay posiciones cerradas"})]})}),g==="pending"&&o.jsx(o.Fragment,{children:xe.length>0?o.jsxs(o.Fragment,{children:[xe.map(J=>o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:"PEND"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-secondary-900 dark:text-white",children:J.symbol}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Volumen: ",J.volume,"  ",J.platform]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Pendiente"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Tipo"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white uppercase",children:J.type})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Precio Objetivo"}),o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:J.open_price.toFixed(5)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Estado"}),o.jsx("p",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:"Esperando ejecucin"})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-secondary-200 dark:border-secondary-700",children:o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["Creada: ",new Date(J.open_time).toLocaleString("es-ES")]})})]},J.id)),Ce>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(Ix,{currentPage:S,totalItems:(($e=(Ye=G==null?void 0:G.data)==null?void 0:Ye.pending_positions)==null?void 0:$e.length)||0,itemsPerPage:10,onPageChange:N})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ni,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay posiciones pendientes"})]})})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Rr,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-2",children:"No hay datos de posiciones disponibles"}),o.jsx("p",{className:"text-sm text-secondary-400 dark:text-secondary-500",children:"Las posiciones aparecern cuando haya actividad de trading"})]})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:o.jsx(lh,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Estado del Lead"})]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Estado Actual"}),o.jsx(Vk,{leadId:Number(e),currentStateName:E.status,onStateChange:ne,showHistory:!1,disabled:!1})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Creado"}),o.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:new Date(E.created_at).toLocaleDateString("es-ES")})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"ltima Actualizacin"}),o.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:E.updated_at?new Date(E.updated_at).toLocaleDateString("es-ES"):"N/A"})]})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center",children:o.jsx(pr,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Asignacin"})]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Asignado a:"}),o.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:E.assigned_to_name||"Sin asignar"})]}),s("leads.assign")&&o.jsxs("button",{onClick:()=>l(!0),className:"w-full btn btn-secondary text-sm",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),E.assigned_to?"Reasignar":"Asignar"," Lead"]})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-cyan-100 dark:bg-cyan-900 rounded-lg flex items-center justify-center",children:o.jsx(RP,{className:"w-4 h-4 text-cyan-600 dark:text-cyan-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Informacin Adicional"})]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"ID del Lead:"}),o.jsxs("span",{className:"font-mono text-secondary-900 dark:text-white",children:["#",E.id]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Fuente:"}),o.jsx("span",{className:"text-secondary-900 dark:text-white",children:E.source||"N/A"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Campaa:"}),o.jsx("span",{className:"text-secondary-900 dark:text-white",children:E.campaign||"N/A"})]})]})})]})]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-900 rounded-xl shadow-xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Asignar Lead"}),o.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(au,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"space-y-3",children:(((ht=M==null?void 0:M.data)==null?void 0:ht.users)||[]).map(J=>{var Oe,ut;return o.jsx("button",{onClick:()=>K(J.id),disabled:X.isPending,className:"w-full text-left p-3 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:`${((Oe=J.first_name)==null?void 0:Oe.charAt(0))??""}${((ut=J.last_name)==null?void 0:ut.charAt(0))??""}`.toUpperCase()})}),o.jsx("div",{children:o.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:`${J.first_name} ${J.last_name}`})})]})},J.id)})})]})})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ba,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-4",children:"Lead no encontrado"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-6",children:"El lead que buscas no existe o ha sido eliminado."}),o.jsxs("button",{onClick:()=>t("/leads"),className:"btn btn-primary",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Volver a Leads"]})]})}function nK(){const[e,t]=w.useState("upload"),[r,s]=w.useState(null),[n,a]=w.useState(null),[i,l]=w.useState({}),[c,d]=w.useState({skip_first_row:!0,duplicate_action:"skip"}),[u,f]=w.useState(null),[h,m]=w.useState(!1),x=w.useRef(null),p=hs(),{data:g}=tt({queryKey:["system-fields"],queryFn:()=>ed.getSystemFields(),staleTime:10*60*1e3}),{data:y}=tt({queryKey:["import-history"],queryFn:()=>ed.getImportHistory(),refetchInterval:5e3}),v=pt({mutationFn:M=>ed.analyzeFile(M),onSuccess:M=>{a(M.data);const Y={};Object.entries(M.data.detected_columns).forEach(([L,G])=>{G.suggested_field&&(Y[L]=G.suggested_field)}),l(Y),t("mapping"),he.success("Archivo analizado correctamente")},onError:M=>{var Y,L;he.error(((L=(Y=M.response)==null?void 0:Y.data)==null?void 0:L.message)||"Error al analizar el archivo")}}),b=pt({mutationFn:M=>ed.importFile(M),onSuccess:M=>{f(M.data),t("results"),p.invalidateQueries({queryKey:["import-history"]}),he.success("Importacin completada")},onError:M=>{var Y,L;he.error(((L=(Y=M.response)==null?void 0:Y.data)==null?void 0:L.message)||"Error en la importacin")}}),_=M=>{var L;const Y=(L=M.target.files)==null?void 0:L[0];if(Y){if(!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(Y.type)){he.error("Tipo de archivo no soportado. Use CSV, XLS o XLSX");return}if(Y.size>10*1024*1024){he.error("El archivo es demasiado grande. Mximo 10MB");return}s(Y),t("analyze")}},j=()=>{r&&v.mutate(r)},S=(M,Y)=>{l(L=>({...L,[M]:Y}))},N=M=>{l(Y=>{const L={...Y};return delete L[M],L})},k=()=>{if(!(g!=null&&g.data))return!1;const M=Object.entries(g.data).filter(([L,G])=>G.required).map(([L,G])=>L),Y=Object.values(i);return M.every(L=>Y.includes(L))},E=async()=>{var M;if(!n||!k()||!r){he.error("Complete el mapeo de campos requeridos");return}try{let Y=[];const L=(M=r.name.split(".").pop())==null?void 0:M.toLowerCase();if(L==="xlsx"||L==="xls"){const oe=await r.arrayBuffer(),ne=Rh(oe,{type:"array"}),V=ne.SheetNames[0],X=ne.Sheets[V],ee=v3.sheet_to_json(X,{header:1}),R=c.skip_first_row?1:0;Y=ee.slice(R).map(z=>{const H={};return z.forEach((Q,de)=>{const xe=String.fromCharCode(65+de);H[xe]=Q?String(Q).trim():""}),H})}else{const ne=(await r.text()).split(`
`).filter(X=>X.trim()),V=c.skip_first_row?1:0;Y=ne.slice(V).map(X=>{const ee=X.split(/[,;]/).map(K=>K.trim().replace(/^["']|["']$/g,"")),R={};return ee.forEach((K,z)=>{const H=String.fromCharCode(65+z);R[H]=K}),R})}const G={data:Y,mapping:i,options:{skip_first_row:c.skip_first_row,duplicate_action:c.duplicate_action,filename:n.filename}};b.mutate(G)}catch(Y){console.error("Error procesando el archivo:",Y),he.error("Error al procesar el archivo")}},C=()=>{t("upload"),s(null),a(null),l({}),f(null),x.current&&(x.current.value="")},A=M=>{const Y=["upload","analyze","mapping","preview","import","results"],L=Y.indexOf(e),G=Y.indexOf(M);return G<L?"completed":G===L?"current":"pending"},F=M=>{if(M===0)return"0 Bytes";const Y=1024,L=["Bytes","KB","MB","GB"],G=Math.floor(Math.log(M)/Math.log(Y));return parseFloat((M/Math.pow(Y,G)).toFixed(2))+" "+L[G]};return o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Importar Leads"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Importa leads desde archivos CSV o Excel con mapeo dinmico de columnas"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary",children:[o.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Historial"]}),e!=="upload"&&o.jsx("button",{onClick:C,className:"btn-ghost",children:"Nueva Importacin"})]})]}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"flex items-center justify-between",children:[{key:"upload",label:"Subir Archivo",icon:Z2},{key:"analyze",label:"Analizar",icon:ln},{key:"mapping",label:"Mapear Campos",icon:mn},{key:"import",label:"Importar",icon:El},{key:"results",label:"Resultados",icon:_s}].map((M,Y)=>{const L=A(M.key),G=M.icon;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:Be("flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors",L==="completed"?"bg-success-100 border-success-500 text-success-700 dark:bg-success-900 dark:text-success-300":L==="current"?"bg-primary-100 border-primary-500 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"bg-secondary-100 border-secondary-300 text-secondary-500 dark:bg-secondary-800 dark:border-secondary-600"),children:o.jsx(G,{className:"w-5 h-5"})}),o.jsx("div",{className:"ml-3",children:o.jsx("div",{className:Be("text-sm font-medium",L==="completed"?"text-success-700 dark:text-success-300":L==="current"?"text-primary-700 dark:text-primary-300":"text-secondary-500 dark:text-secondary-400"),children:M.label})}),Y<4&&o.jsx(da,{className:"w-5 h-5 text-secondary-400 mx-4"})]},M.key)})})})}),e==="upload"&&o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center py-12",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mb-6",children:o.jsx(Z2,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-2",children:"Selecciona un archivo para importar"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-8",children:"Soportamos archivos CSV, XLS y XLSX hasta 10MB"}),o.jsx("input",{ref:x,type:"file",accept:".csv,.xls,.xlsx",onChange:_,className:"hidden"}),o.jsxs("button",{onClick:()=>{var M;return(M=x.current)==null?void 0:M.click()},className:"btn-primary",children:[o.jsx(El,{className:"w-5 h-5 mr-2"}),"Seleccionar Archivo"]}),o.jsxs("div",{className:"mt-8 text-sm text-secondary-500 dark:text-secondary-400",children:[o.jsx("p",{children:"Formatos soportados: CSV, XLS, XLSX"}),o.jsx("p",{children:"Tamao mximo: 10MB"})]})]})}),e==="analyze"&&o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center py-12",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-6",children:o.jsx(ln,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-2",children:["Archivo seleccionado: ",r==null?void 0:r.name]}),o.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400 mb-2",children:["Tamao: ",r?F(r.size):""]}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-8",children:'Haz clic en "Analizar" para detectar las columnas automticamente'}),o.jsx("button",{onClick:j,disabled:v.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:v.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Ut,{size:"sm",className:"mr-2"}),"Analizando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ln,{className:"w-5 h-5 mr-2"}),"Analizar Archivo"]})})]})}),e==="mapping"&&n&&(g==null?void 0:g.data)&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:"Informacin del Archivo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:n.total_rows}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Filas totales"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Object.keys(n.detected_columns).length}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Columnas detectadas"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:F(n.file_size)}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Tamao del archivo"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["~",n.estimated_import_time,"s"]}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Tiempo estimado"})]})]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:"Mapear Columnas del Archivo"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-6",children:"Asocia cada columna de tu archivo con los campos del sistema. Los campos marcados con * son obligatorios."}),o.jsx("div",{className:"space-y-4",children:Object.entries(n.detected_columns).map(([M,Y])=>{var L;return o.jsxs("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center text-sm font-medium text-primary-600 dark:text-primary-400",children:M}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-secondary-900 dark:text-white",children:Y.header}),o.jsxs("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:['Ejemplo: "',Y.sample,'"']})]})]}),i[M]&&o.jsx("button",{onClick:()=>N(M),className:"text-danger-600 hover:text-danger-900 dark:text-danger-400",title:"Quitar mapeo",children:o.jsx(au,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Mapear a campo del sistema"}),o.jsxs("select",{value:i[M]||"",onChange:G=>S(M,G.target.value),className:"input",children:[o.jsx("option",{value:"",children:"-- No mapear --"}),Object.entries(g.data).map(([G,oe])=>o.jsxs("option",{value:G,children:[oe.label," ",oe.required?"*":""]},G))]})]}),i[M]&&g.data[i[M]]&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Informacin del campo"}),o.jsxs("div",{className:"p-3 bg-secondary-50 dark:bg-secondary-700 rounded-lg text-sm",children:[o.jsxs("div",{className:"font-medium text-secondary-900 dark:text-white mb-1",children:[g.data[i[M]].label,g.data[i[M]].required&&o.jsx("span",{className:"text-danger-600 dark:text-danger-400 ml-1",children:"*"})]}),o.jsx("div",{className:"text-secondary-600 dark:text-secondary-400",children:g.data[i[M]].description}),g.data[i[M]].options&&o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-xs font-medium text-secondary-700 dark:text-secondary-300",children:"Valores vlidos:"}),o.jsx("div",{className:"text-xs text-secondary-600 dark:text-secondary-400",children:(L=g.data[i[M]].options)==null?void 0:L.join(", ")})]})]})]})]})]},M)})}),o.jsxs("div",{className:"mt-8 p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraciones de Importacin"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"skip_first_row",checked:c.skip_first_row,onChange:M=>d(Y=>({...Y,skip_first_row:M.target.checked})),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"skip_first_row",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Omitir primera fila (encabezados)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Accin para duplicados (mismo email)"}),o.jsxs("select",{value:c.duplicate_action,onChange:M=>d(Y=>({...Y,duplicate_action:M.target.value})),className:"input max-w-xs",children:[o.jsx("option",{value:"skip",children:"Omitir duplicados"}),o.jsx("option",{value:"update",children:"Actualizar existentes"}),o.jsx("option",{value:"create",children:"Crear como nuevos"})]})]})]})]}),o.jsx("div",{className:"mt-6",children:!k()&&o.jsx("div",{className:"p-4 bg-warning-50 dark:bg-warning-900 border border-warning-200 dark:border-warning-700 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(ba,{className:"w-5 h-5 text-warning-600 dark:text-warning-400 mt-0.5 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-warning-800 dark:text-warning-200",children:"Campos requeridos sin mapear"}),o.jsx("div",{className:"text-sm text-warning-700 dark:text-warning-300 mt-1",children:"Debes mapear todos los campos marcados con * antes de continuar."})]})]})})}),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsxs("button",{onClick:()=>t("analyze"),className:"btn-secondary",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Volver"]}),o.jsxs("button",{onClick:()=>t("preview"),disabled:!k(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:["Vista Previa",o.jsx(da,{className:"w-4 h-4 ml-2"})]})]})]})})]}),e==="preview"&&n&&o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:"Vista Previa de la Importacin"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.total_rows-(c.skip_first_row?1:0)}),o.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Filas a importar"})]}),o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Object.keys(i).length}),o.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Campos mapeados"})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["~",n.estimated_import_time,"s"]}),o.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Tiempo estimado"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Mapeo de Campos"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i).map(([M,Y])=>{var L,G,oe;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center text-xs font-medium text-primary-600 dark:text-primary-400",children:M}),o.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:(L=n.detected_columns[M])==null?void 0:L.header})]}),o.jsx(da,{className:"w-4 h-4 text-secondary-400"}),o.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:(oe=(G=g==null?void 0:g.data)==null?void 0:G[Y])==null?void 0:oe.label})]},M)})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Muestra de Datos (primeras 3 filas)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsx("tr",{children:Object.entries(i).map(([M,Y])=>{var L,G;return o.jsxs("th",{className:"px-4 py-2 text-left font-medium text-secondary-900 dark:text-white",children:[(G=(L=g==null?void 0:g.data)==null?void 0:L[Y])==null?void 0:G.label,o.jsxs("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 font-normal",children:["Columna ",M]})]},M)})})}),o.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:n.sample_data.slice(0,3).map((M,Y)=>o.jsx("tr",{children:Object.keys(i).map(L=>{const G=L.charCodeAt(0)-65;return o.jsx("td",{className:"px-4 py-2 text-secondary-900 dark:text-white",children:M[G]||"-"},L)})},Y))})]})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("button",{onClick:()=>t("mapping"),className:"btn-secondary",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Volver al Mapeo"]}),o.jsx("button",{onClick:E,disabled:b.isPending,className:"btn-success disabled:opacity-50 disabled:cursor-not-allowed",children:b.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Ut,{size:"sm",className:"mr-2"}),"Importando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(El,{className:"w-5 h-5 mr-2"}),"Iniciar Importacin"]})})]})]})}),e==="results"&&u&&o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Resultados de la Importacin"}),o.jsx("div",{className:Be("badge text-lg px-4 py-2",u.status==="completed"?"bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200":u.status==="failed"?"bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200":"bg-warning-100 text-warning-800 dark:bg-warning-900 dark:text-warning-200"),children:u.status==="completed"?"Completada":u.status==="failed"?"Fallida":"Procesando"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:u.total_rows}),o.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Total procesadas"})]}),o.jsxs("div",{className:"text-center p-4 bg-success-50 dark:bg-success-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-success-600 dark:text-success-400",children:u.imported_rows}),o.jsx("div",{className:"text-sm text-success-700 dark:text-success-300",children:"Importadas"})]}),o.jsxs("div",{className:"text-center p-4 bg-danger-50 dark:bg-danger-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-danger-600 dark:text-danger-400",children:u.failed_rows}),o.jsx("div",{className:"text-sm text-danger-700 dark:text-danger-300",children:"Fallidas"})]}),o.jsxs("div",{className:"text-center p-4 bg-warning-50 dark:bg-warning-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-warning-600 dark:text-warning-400",children:u.duplicate_rows||0}),o.jsx("div",{className:"text-sm text-warning-700 dark:text-warning-300",children:"Duplicadas"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:u.processing_time||"00:00:00"}),o.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Tiempo total"})]})]}),u.errors&&u.errors.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"font-medium text-danger-900 dark:text-danger-100 mb-3 flex items-center",children:[o.jsx(au,{className:"w-5 h-5 mr-2"}),"Errores Encontrados (",u.errors.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.errors.map((M,Y)=>o.jsxs("div",{className:"p-3 bg-danger-50 dark:bg-danger-900 border border-danger-200 dark:border-danger-700 rounded-lg text-sm",children:[o.jsxs("div",{className:"font-medium text-danger-800 dark:text-danger-200",children:["Fila ",M.row,", Columna ",M.column," (",M.field,")"]}),o.jsxs("div",{className:"text-danger-700 dark:text-danger-300",children:['Valor: "',M.value,'" - ',M.error]})]},Y))})]}),u.warnings&&u.warnings.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"font-medium text-warning-900 dark:text-warning-100 mb-3 flex items-center",children:[o.jsx(ba,{className:"w-5 h-5 mr-2"}),"Advertencias (",u.warnings.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:u.warnings.map((M,Y)=>o.jsxs("div",{className:"p-3 bg-warning-50 dark:bg-warning-900 border border-warning-200 dark:border-warning-700 rounded-lg text-sm",children:[o.jsxs("div",{className:"font-medium text-warning-800 dark:text-warning-200",children:["Fila ",M.row,", Columna ",M.column," (",M.field,")"]}),o.jsxs("div",{className:"text-warning-700 dark:text-warning-300",children:['Valor: "',M.value,'" - ',M.warning]})]},Y))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:C,className:"btn-primary",children:"Nueva Importacin"}),o.jsx("button",{onClick:()=>window.location.href="/leads",className:"btn-secondary",children:"Ver Leads Importados"})]})]})})}),h&&o.jsx(aK,{isOpen:h,onClose:()=>m(!1),importHistory:(y==null?void 0:y.data)||[],onViewDetails:()=>{m(!1)}})]})}function aK({isOpen:e,onClose:t,importHistory:r,onViewDetails:s}){if(!e)return null;const n=i=>new Date(i).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=i=>{const l=c=>{const d=c.toLowerCase();return d.includes("completada")||d.includes("completed")?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d.includes("procesando")||d.includes("processing")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":d.includes("fallida")||d.includes("failed")?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return o.jsx("span",{className:Be("badge",l(i)),children:i})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Historial de Importaciones"}),o.jsx("button",{onClick:t,className:"text-secondary-400 hover:text-secondary-600",children:o.jsx(au,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"space-y-4",children:r.map(i=>o.jsxs("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mn,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-secondary-900 dark:text-white",children:i.filename}),o.jsxs("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[n(i.created_at)," por ",i.created_by]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[a(i.status),o.jsx("button",{onClick:()=>s(i),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400",title:"Ver detalles",children:o.jsx($o,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-secondary-900 dark:text-white",children:i.total_rows}),o.jsx("div",{className:"text-secondary-500 dark:text-secondary-400",children:"Total"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-success-600 dark:text-success-400",children:i.imported_rows}),o.jsx("div",{className:"text-secondary-500 dark:text-secondary-400",children:"Importadas"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium text-danger-600 dark:text-danger-400",children:i.failed_rows}),o.jsx("div",{className:"text-secondary-500 dark:text-secondary-400",children:"Fallidas"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-medium text-secondary-900 dark:text-white",children:[(i.imported_rows/i.total_rows*100).toFixed(1),"%"]}),o.jsx("div",{className:"text-secondary-500 dark:text-secondary-400",children:"xito"})]})]})]},i.id))}),r.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(mn,{className:"w-12 h-12 text-secondary-400 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay importaciones previas"})]})]})})}const iK=["Espaa","Mxico","Argentina","Colombia","Chile","Per","Venezuela","Ecuador","Estados Unidos","Reino Unido","Francia","Alemania","Italia","Brasil","Canad"],oK=["Website","Facebook","Google Ads","LinkedIn","Instagram","Email Campaign","Cold Call","Referral","Trade Show","Webinar"],w3=[{value:"low",label:"Bajo"},{value:"medium",label:"Medio"},{value:"high",label:"Alto"},{value:"very_high",label:"Muy Alto"}],Ta=[{key:"personal",title:"Informacin Personal",icon:pr},{key:"professional",title:"Informacin Profesional",icon:Vs},{key:"commercial",title:"Informacin Comercial",icon:gn},{key:"assignment",title:"Asignacin",icon:pr},{key:"notes",title:"Notas",icon:mn},{key:"review",title:"Revisin",icon:_s}];function lK(){const[e,t]=w.useState("personal"),[r,s]=w.useState({first_name:"",last_name:"",email:"",phone:"",country:"",city:"",company:"",position:"",website:"",source:"",budget:void 0,interest_level:"",assigned_user_id:void 0,desk_id:void 0,notes:""}),[n,a]=w.useState({}),i=fc(),l=hs(),{data:c}=tt({queryKey:["users-for-assignment"],queryFn:()=>_a.getUsers({limit:100}),staleTime:5*60*1e3}),{data:d}=tt({queryKey:["desks-for-assignment"],queryFn:()=>hr.getDesks({limit:100}),staleTime:5*60*1e3}),u=(c==null?void 0:c.data)||[],f=(d==null?void 0:d.data)||[],h=pt({mutationFn:b=>Yr.createLead(b),onSuccess:b=>{l.invalidateQueries({queryKey:["leads"]}),he.success("Lead creado exitosamente"),i(`/leads/${b.data.id}`)},onError:b=>{var _,j;he.error(((j=(_=b.response)==null?void 0:_.data)==null?void 0:j.message)||"Error al crear el lead")}}),m=(b,_)=>{s(j=>({...j,[b]:_})),n[b]&&a(j=>({...j,[b]:""}))},x=b=>{const _={};return b==="personal"&&(r.first_name.trim()||(_.first_name="Nombre es requerido"),r.last_name.trim()||(_.last_name="Apellido es requerido"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(_.email="Email invlido"):_.email="Email es requerido"),a(_),Object.keys(_).length===0},p=()=>{if(!x(e))return;const b=Ta.findIndex(_=>_.key===e);b<Ta.length-1&&t(Ta[b+1].key)},g=()=>{const b=Ta.findIndex(_=>_.key===e);b>0&&t(Ta[b-1].key)},y=()=>{x("personal")&&h.mutate(r)},v=Ta.findIndex(b=>b.key===e);return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Crear Nuevo Lead"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Complete la informacin paso a paso"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-between",children:Ta.map((b,_)=>{const j=b.icon,S=b.key===e,N=_<v;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:Be("flex items-center justify-center w-10 h-10 rounded-full border-2",S?"border-primary-500 bg-primary-500 text-white":N?"border-green-500 bg-green-500 text-white":"border-gray-300 bg-white text-gray-400"),children:o.jsx(j,{className:"w-5 h-5"})}),o.jsx("div",{className:"ml-3 hidden sm:block",children:o.jsx("p",{className:Be("text-sm font-medium",S?"text-primary-600":"text-gray-500"),children:b.title})}),_<Ta.length-1&&o.jsx("div",{className:Be("flex-1 h-0.5 mx-4",N?"bg-green-500":"bg-gray-300")})]},b.key)})})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e==="personal"&&o.jsx(cK,{formData:r,updateFormData:m,errors:n}),e==="professional"&&o.jsx(dK,{formData:r,updateFormData:m,errors:n}),e==="commercial"&&o.jsx(uK,{formData:r,updateFormData:m,errors:n}),e==="assignment"&&o.jsx(fK,{formData:r,updateFormData:m,errors:n,users:u,desks:f}),e==="notes"&&o.jsx(hK,{formData:r,updateFormData:m,errors:n}),e==="review"&&o.jsx(mK,{formData:r,users:u,desks:f}),o.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("button",{type:"button",onClick:g,disabled:v===0,className:Be("flex items-center px-4 py-2 text-sm font-medium rounded-md",v===0?"text-gray-400 cursor-not-allowed":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Anterior"]}),e==="review"?o.jsxs("button",{type:"button",onClick:y,disabled:h.isPending,className:"flex items-center px-6 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 disabled:opacity-50",children:[h.isPending?o.jsx(Ut,{size:"sm",className:"mr-2"}):o.jsx(_s,{className:"w-4 h-4 mr-2"}),"Crear Lead"]}):o.jsxs("button",{type:"button",onClick:p,className:"flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700",children:["Siguiente",o.jsx(da,{className:"w-4 h-4 ml-2"})]})]})]})]})})}function cK({formData:e,updateFormData:t,errors:r}){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin Personal"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),o.jsxs("div",{className:"relative",children:[o.jsx(pr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:e.first_name,onChange:s=>t("first_name",s.target.value),className:Be("pl-10 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",r.first_name?"border-red-300":"border-gray-300"),placeholder:"Ingrese el nombre"})]}),r.first_name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.first_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),o.jsx("input",{type:"text",value:e.last_name,onChange:s=>t("last_name",s.target.value),className:Be("w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",r.last_name?"border-red-300":"border-gray-300"),placeholder:"Ingrese el apellido"}),r.last_name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.last_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),o.jsxs("div",{className:"relative",children:[o.jsx(gc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",value:e.email,onChange:s=>t("email",s.target.value),className:Be("pl-10 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",r.email?"border-red-300":"border-gray-300"),placeholder:"ejemplo@email.com"})]}),r.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hu,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"tel",value:e.phone||"",onChange:s=>t("phone",s.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"+34 123 456 789"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pas"}),o.jsxs("select",{value:e.country||"",onChange:s=>t("country",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Seleccionar pas"}),iK.map(s=>o.jsx("option",{value:s,children:s},s))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),o.jsx("input",{type:"text",value:e.city||"",onChange:s=>t("city",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ingrese la ciudad"})]})]})]})}function dK({formData:e,updateFormData:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin Profesional"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:e.company||"",onChange:r=>t("company",r.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Nombre de la empresa"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo"}),o.jsx("input",{type:"text",value:e.position||"",onChange:r=>t("position",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Cargo o posicin"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio Web"}),o.jsx("input",{type:"url",value:e.website||"",onChange:r=>t("website",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://ejemplo.com"})]})]})]})}function uK({formData:e,updateFormData:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin Comercial"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuente"}),o.jsxs("select",{value:e.source||"",onChange:r=>t("source",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Seleccionar fuente"}),oK.map(r=>o.jsx("option",{value:r,children:r},r))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de Inters"}),o.jsxs("select",{value:e.interest_level||"",onChange:r=>t("interest_level",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Seleccionar nivel"}),w3.map(r=>o.jsx("option",{value:r.value,children:r.label},r.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presupuesto"}),o.jsxs("div",{className:"relative",children:[o.jsx(gn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"number",value:e.budget||"",onChange:r=>t("budget",r.target.value?Number(r.target.value):void 0),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"0",min:"0"})]})]})]})]})}function fK({formData:e,updateFormData:t,users:r,desks:s}){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Asignacin"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario Asignado"}),o.jsxs("select",{value:e.assigned_user_id||"",onChange:n=>t("assigned_user_id",n.target.value?Number(n.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Sin asignar"}),r.map(n=>o.jsxs("option",{value:n.id,children:[n.first_name," ",n.last_name]},n.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mesa"}),o.jsxs("select",{value:e.desk_id||"",onChange:n=>t("desk_id",n.target.value?Number(n.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Sin asignar"}),s.map(n=>o.jsx("option",{value:n.id,children:n.name},n.id))]})]})]})]})}function hK({formData:e,updateFormData:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notas Adicionales"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),o.jsx("textarea",{value:e.notes||"",onChange:r=>t("notes",r.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Informacin adicional sobre el lead..."})]})]})}function mK({formData:e,users:t,desks:r}){const s=t.find(i=>i.id===e.assigned_user_id),n=r.find(i=>i.id===e.desk_id),a=w3.find(i=>i.value===e.interest_level);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Revisin Final"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Informacin Personal"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[e.first_name," ",e.last_name]}),o.jsx("p",{className:"text-sm text-gray-600",children:e.email}),e.phone&&o.jsx("p",{className:"text-sm text-gray-600",children:e.phone}),e.country&&o.jsx("p",{className:"text-sm text-gray-600",children:e.country})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Informacin Profesional"}),e.company&&o.jsx("p",{className:"text-sm text-gray-600",children:e.company}),e.position&&o.jsx("p",{className:"text-sm text-gray-600",children:e.position}),e.website&&o.jsx("p",{className:"text-sm text-gray-600",children:e.website})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Informacin Comercial"}),e.source&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Fuente: ",e.source]}),a&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Inters: ",a.label]}),e.budget&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Presupuesto: $",e.budget]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Asignacin"}),s&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Usuario: ",s.first_name," ",s.last_name]}),n&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Mesa: ",n.name]})]})]}),e.notes&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Notas"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.notes})]})]})]})}const xK=()=>{var f;const{user:e}=pc(),[t,r]=w.useState("month"),{data:s,isLoading:n}=tt({queryKey:["employee-stats",e==null?void 0:e.id,t],queryFn:async()=>(await Y2.getStats(t)).data,enabled:!!(e!=null&&e.id)}),{data:a,isLoading:i}=tt({queryKey:["employee-activities",e==null?void 0:e.id],queryFn:async()=>(await Y2.getActivities(10)).data,enabled:!!(e!=null&&e.id)}),{data:l,isLoading:c}=tt({queryKey:["my-leads",e==null?void 0:e.id],queryFn:()=>Yr.getLeads({assigned_to:e==null?void 0:e.id,limit:10,status:"active"}),enabled:!!(e!=null&&e.id)});if(n||i||c)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})});const d=h=>{switch(h){case"call":return o.jsx(Hu,{className:"w-4 h-4"});case"email":return o.jsx(gc,{className:"w-4 h-4"});case"meeting":return o.jsx(SR,{className:"w-4 h-4"});default:return o.jsx(Ni,{className:"w-4 h-4"})}},u=h=>{switch(h){case"call":return"text-blue-600 bg-blue-100";case"email":return"text-green-600 bg-green-100";case"meeting":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Mi Resumen"}),o.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:["Bienvenido, ",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]})]}),o.jsx("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:o.jsxs("select",{value:t,onChange:h=>r(h.target.value),className:"input",children:[o.jsx("option",{value:"today",children:"Hoy"}),o.jsx("option",{value:"week",children:"Esta Semana"}),o.jsx("option",{value:"month",children:"Este Mes"}),o.jsx("option",{value:"quarter",children:"Este Trimestre"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(pr,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400",children:"Total Leads"}),o.jsx("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:(s==null?void 0:s.totalLeads)||0})]})]})})}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Rr,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400",children:"Leads Activos"}),o.jsx("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:(s==null?void 0:s.activeLeads)||0})]})]})})}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gM,{className:"w-8 h-8 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400",children:"Conversiones"}),o.jsx("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:(s==null?void 0:s.convertedLeads)||0})]})]})})}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gn,{className:"w-8 h-8 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400",children:"Tasa Conversin"}),o.jsxs("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:[(s==null?void 0:s.conversionRate)||0,"%"]})]})]})})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Progreso del Mes"})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-secondary-600 dark:text-secondary-400",children:["Objetivo: ",(s==null?void 0:s.monthlyTarget)||0," leads"]}),o.jsxs("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[(s==null?void 0:s.monthlyProgress)||0," / ",(s==null?void 0:s.monthlyTarget)||0]})]}),o.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2.5 dark:bg-secondary-700",children:o.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Math.min(((s==null?void 0:s.monthlyProgress)||0)/((s==null?void 0:s.monthlyTarget)||1)*100,100)}%`}})}),o.jsxs("div",{className:"flex items-center mt-2",children:[((s==null?void 0:s.monthlyProgress)||0)/((s==null?void 0:s.monthlyTarget)||1)>=.8?o.jsx(td,{className:"w-4 h-4 text-green-600 mr-1"}):o.jsx(tR,{className:"w-4 h-4 text-yellow-600 mr-1"}),o.jsxs("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:[Math.round(((s==null?void 0:s.monthlyProgress)||0)/((s==null?void 0:s.monthlyTarget)||1)*100),"% completado"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Actividades Recientes"})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"space-y-3",children:a==null?void 0:a.map(h=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${u(h.type)}`,children:d(h.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:h.description}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[h.leadName,"  ",new Date(h.timestamp).toLocaleString()]})]})]},h.id))})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Mis Leads Activos"})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-3",children:[(f=l==null?void 0:l.data)==null?void 0:f.slice(0,5).map(h=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[h.first_name," ",h.last_name]}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[h.email,"  ",h.phone]})]}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h.status==="new"?"bg-blue-100 text-blue-800":h.status==="contacted"?"bg-yellow-100 text-yellow-800":h.status==="qualified"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.status})]},h.id)),(!(l!=null&&l.data)||l.data.length===0)&&o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 text-center py-4",children:"No tienes leads asignados actualmente"})]})})]})]})]})},nl=[{id:1,title:"Informacin Personal",icon:pr},{id:2,title:"Asignacin de Rol",icon:nu},{id:3,title:"Mesa de Trabajo",icon:Vs},{id:4,title:"Confirmacin",icon:Is}];function pK({isOpen:e,onClose:t,onSuccess:r}){var _,j,S,N;const[s,n]=w.useState(1),[a,i]=w.useState({username:"",email:"",first_name:"",last_name:"",password:"",confirm_password:"",phone:"",role_id:void 0,desk_id:void 0,status:"active"}),{data:l,isLoading:c,error:d}=tt({queryKey:["roles-for-user"],queryFn:()=>mo.getRoles(),enabled:e,staleTime:5*60*1e3}),{data:u,isLoading:f}=tt({queryKey:["desks-for-user"],queryFn:()=>hr.getDesks(),enabled:e,staleTime:5*60*1e3}),h=pt({mutationFn:k=>_a.createUser(k),onSuccess:()=>{he.success("Usuario creado exitosamente"),r(),m()},onError:k=>{var E,C;he.error(((C=(E=k.response)==null?void 0:E.data)==null?void 0:C.message)||"Error al crear el usuario")}}),m=()=>{n(1),i({username:"",email:"",first_name:"",last_name:"",password:"",confirm_password:"",phone:"",role_id:void 0,desk_id:void 0,status:"active"}),t()},x=()=>{g()&&n(k=>Math.min(k+1,nl.length))},p=()=>{n(k=>Math.max(k-1,1))},g=()=>{switch(s){case 1:return a.username.trim()?a.email.trim()?a.first_name.trim()?a.last_name.trim()?a.password.trim()?a.password!==a.confirm_password?(he.error("Las contraseas no coinciden"),!1):a.password.length<6?(he.error("La contrasea debe tener al menos 6 caracteres"),!1):!0:(he.error("La contrasea es requerida"),!1):(he.error("El apellido es requerido"),!1):(he.error("El nombre es requerido"),!1):(he.error("El email es requerido"),!1):(he.error("El nombre de usuario es requerido"),!1);case 2:return a.role_id?!0:(he.error("Debe seleccionar un rol"),!1);case 3:return!0;default:return!0}},y=()=>{if(g()){const k={username:a.username,email:a.email,first_name:a.first_name,last_name:a.last_name,password:a.password,phone:a.phone||null,role_id:a.role_id,desk_id:a.desk_id||null,status:a.status};h.mutate(k)}},v=()=>{var k;return(k=l==null?void 0:l.data)==null?void 0:k.find(E=>E.id===a.role_id)},b=()=>{var k;return(k=u==null?void 0:u.data)==null?void 0:k.find(E=>E.id===a.desk_id)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 dark:border-secondary-700",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Asistente para Crear Usuario"}),o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:["Paso ",s," de ",nl.length,": ",nl[s-1].title]})]}),o.jsx("button",{onClick:m,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"px-6 py-4 border-b border-secondary-200 dark:border-secondary-700",children:o.jsx("div",{className:"flex items-center justify-between",children:nl.map((k,E)=>{const C=k.icon,A=s===k.id,F=s>k.id;return o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`
                    flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors
                    ${A?"border-primary-600 bg-primary-600 text-white":F?"border-success-600 bg-success-600 text-white":"border-secondary-300 text-secondary-400"}
                  `,children:F?o.jsx(Is,{className:"w-5 h-5"}):o.jsx(C,{className:"w-5 h-5"})}),o.jsx("div",{className:"ml-3 hidden sm:block",children:o.jsx("p",{className:`text-sm font-medium ${A?"text-primary-600":F?"text-success-600":"text-secondary-500"}`,children:k.title})}),E<nl.length-1&&o.jsx("div",{className:`
                      w-12 h-0.5 mx-4 transition-colors
                      ${F?"bg-success-600":"bg-secondary-300"}
                    `})]},k.id)})})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-96",children:[s===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(pr,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informacin Personal"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Ingresa los datos bsicos del nuevo usuario"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre de Usuario *"}),o.jsx("input",{type:"text",value:a.username,onChange:k=>i({...a,username:k.target.value}),className:"input",placeholder:"ej: jperez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:a.email,onChange:k=>i({...a,email:k.target.value}),className:"input",placeholder:"ej: juan.perez@empresa.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre *"}),o.jsx("input",{type:"text",value:a.first_name,onChange:k=>i({...a,first_name:k.target.value}),className:"input",placeholder:"ej: Juan"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Apellido *"}),o.jsx("input",{type:"text",value:a.last_name,onChange:k=>i({...a,last_name:k.target.value}),className:"input",placeholder:"ej: Prez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Telfono"}),o.jsx("input",{type:"tel",value:a.phone,onChange:k=>i({...a,phone:k.target.value}),className:"input",placeholder:"ej: +1234567890"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado"}),o.jsxs("select",{value:a.status,onChange:k=>i({...a,status:k.target.value}),className:"input",children:[o.jsx("option",{value:"active",children:"Activo"}),o.jsx("option",{value:"inactive",children:"Inactivo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Contrasea *"}),o.jsx("input",{type:"password",value:a.password,onChange:k=>i({...a,password:k.target.value}),className:"input",placeholder:"Mnimo 6 caracteres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Confirmar Contrasea *"}),o.jsx("input",{type:"password",value:a.confirm_password,onChange:k=>i({...a,confirm_password:k.target.value}),className:"input",placeholder:"Repite la contrasea"})]})]})]}),s===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(nu,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Asignacin de Rol"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Selecciona el rol que tendr el usuario en el sistema"})]}),c?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"text-sm text-secondary-500 mt-2",children:"Cargando roles..."})]}):d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-4",children:"Error al cargar los roles. Verifica tu conexin e intntalo de nuevo."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-sm",children:"Recargar pgina"})]}):!(l!=null&&l.data)||l.data.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-sm text-secondary-500",children:"No hay roles disponibles"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(_=l==null?void 0:l.data)==null?void 0:_.map(k=>{var E;return o.jsx("div",{onClick:()=>i({...a,role_id:k.id}),className:`
                        p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md
                        ${a.role_id===k.id?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-secondary-200 dark:border-secondary-700 hover:border-primary-300"}
                      `,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white",children:k.display_name}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:k.description||"Sin descripcin"}),o.jsxs("p",{className:"text-xs text-secondary-500 mt-2",children:[((E=k.permissions)==null?void 0:E.length)||0," permisos asignados"]})]}),a.role_id===k.id&&o.jsx(Is,{className:"w-6 h-6 text-primary-600"})]})},k.id)})})]}),s===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Vs,{className:"w-12 h-12 text-primary-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Mesa de Trabajo"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Asigna el usuario a una mesa de trabajo (opcional)"})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:!a.desk_id,onChange:k=>{k.target.checked&&i({...a,desk_id:void 0})},className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"No asignar a ninguna mesa por ahora"})]})}),f?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"text-sm text-secondary-500 mt-2",children:"Cargando mesas..."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(j=u==null?void 0:u.data)==null?void 0:j.map(k=>o.jsx("div",{onClick:()=>i({...a,desk_id:k.id}),className:`
                        p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md
                        ${a.desk_id===k.id?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-secondary-200 dark:border-secondary-700 hover:border-primary-300"}
                      `,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white",children:k.name}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:k.description||"Sin descripcin"}),o.jsxs("p",{className:"text-xs text-secondary-500 mt-2",children:[k.users_count||0," usuarios asignados"]})]}),a.desk_id===k.id&&o.jsx(Is,{className:"w-6 h-6 text-primary-600"})]})},k.id))})]}),s===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Is,{className:"w-12 h-12 text-success-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Confirmacin"}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revisa la informacin antes de crear el usuario"})]}),o.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Informacin Personal"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Usuario:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.username})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Email:"}),o.jsx("span",{className:"ml-2 font-medium",children:a.email})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Nombre:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[a.first_name," ",a.last_name]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Estado:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${a.status==="active"?"bg-success-100 text-success-800":"bg-danger-100 text-danger-800"}`,children:a.status==="active"?"Activo":"Inactivo"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3",children:"Asignaciones"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Rol:"}),o.jsx("span",{className:"ml-2 font-medium",children:((S=v())==null?void 0:S.display_name)||"No asignado"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Mesa:"}),o.jsx("span",{className:"ml-2 font-medium",children:((N=b())==null?void 0:N.name)||"No asignado"})]})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsxs("button",{onClick:p,disabled:s===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(_i,{className:"w-4 h-4 mr-2"}),"Anterior"]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:m,className:"btn-secondary",children:"Cancelar"}),s<nl.length?o.jsxs("button",{onClick:x,className:"btn-primary",children:["Siguiente",o.jsx(da,{className:"w-4 h-4 ml-2"})]}):o.jsx("button",{onClick:y,disabled:h.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Creando...":"Crear Usuario"})]})]})]})}):null}function gK({isOpen:e,onClose:t,user:r,desks:s,onSuccess:n}){const[a,i]=w.useState(""),[l,c]=w.useState(!0),d=pt({mutationFn:async f=>await _a.assignDesk(f.user_id,f.desk_id,f.is_primary),onSuccess:()=>{he.success("Mesa asignada correctamente"),n()},onError:f=>{var h,m;he.error(((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.message)||"Error al asignar mesa")}}),u=f=>{if(f.preventDefault(),!a){he.error("Por favor selecciona una mesa");return}d.mutate({user_id:r.id,desk_id:parseInt(a),is_primary:l})};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Asignar Mesa"}),o.jsx("button",{onClick:t,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Asignar mesa a: ",o.jsxs("span",{className:"font-medium text-secondary-900 dark:text-white",children:[r.first_name," ",r.last_name]})]})}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Mesa"}),o.jsxs("select",{value:a,onChange:f=>i(f.target.value),className:"input",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar mesa..."}),s.map(f=>o.jsx("option",{value:f.id,children:f.name},f.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:f=>c(f.target.checked),className:"form-checkbox h-4 w-4 text-primary-600"}),o.jsx("span",{className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Mesa principal"})]}),o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"La mesa principal ser la asignacin por defecto para este usuario"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"btn-ghost",disabled:d.isPending,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-primary",disabled:d.isPending,children:d.isPending?"Asignando...":"Asignar Mesa"})]})]})]})}):null}function yK({isOpen:e,onClose:t,user:r,roles:s,onSuccess:n}){const[a,i]=w.useState(""),l=pt({mutationFn:async d=>await _a.assignRole(d.user_id,d.role_id),onSuccess:()=>{he.success("Rol asignado correctamente"),n()},onError:d=>{var u,f;he.error(((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.message)||"Error al asignar rol")}}),c=d=>{if(d.preventDefault(),!a){he.error("Por favor selecciona un rol");return}l.mutate({user_id:r.id,role_id:parseInt(a)})};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Asignar Rol"}),o.jsx("button",{onClick:t,className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300",children:o.jsx(Ar,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Asignar rol a: ",o.jsxs("span",{className:"font-medium text-secondary-900 dark:text-white",children:[r.first_name," ",r.last_name]})]}),r.role&&o.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:["Rol actual: ",o.jsx("span",{className:"font-medium",children:r.role})]})]}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nuevo Rol"}),o.jsxs("select",{value:a,onChange:d=>i(d.target.value),className:"input",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar rol..."}),s.map(d=>o.jsx("option",{value:d.id,children:d.display_name},d.id))]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"btn-ghost",disabled:l.isPending,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"btn-primary",disabled:l.isPending,children:l.isPending?"Asignando...":"Asignar Rol"})]})]})]})}):null}function vK(){var _,j,S,N,k,E,C;const{hasPermission:e}=pc(),[t,r]=w.useState(!1),[s,n]=w.useState(!1),[a,i]=w.useState(!1),[l,c]=w.useState(null),[d,u]=w.useState({search:"",status:"",role_id:"",desk_id:""}),[f,h]=w.useState(1),m=20,x=hs(),{data:p,isLoading:g}=tt({queryKey:["users",d,f],queryFn:()=>_a.getUsers({...d,page:f,limit:m}),placeholderData:A=>A}),{data:y}=tt({queryKey:["roles-for-assignment"],queryFn:()=>mo.getRoles({status:"active"}),staleTime:5*60*1e3}),{data:v}=tt({queryKey:["desks-for-assignment"],queryFn:()=>hr.getDesks({status:"active"}),staleTime:5*60*1e3}),b=A=>{const F={active:{label:"Activo",color:"bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200"},inactive:{label:"Inactivo",color:"bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200"}},M=F[A]||F.active;return o.jsx("span",{className:Be("badge",M.color),children:M.label})};return g&&!p?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})}):o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Gestin de Usuarios"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Administra usuarios, roles y permisos del sistema"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e("users.create")&&o.jsxs("button",{className:"btn-secondary",children:[o.jsx(kM,{className:"w-4 h-4 mr-2"}),"Importar Usuarios"]}),e("users.create")&&o.jsxs("button",{onClick:()=>r(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nuevo Usuario"]})]})]}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body p-0",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ln,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"input pl-10",value:d.search,onChange:A=>u({...d,search:A.target.value})})]}),o.jsxs("select",{className:"input",value:d.status,onChange:A=>u({...d,status:A.target.value}),children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"active",children:"Activo"}),o.jsx("option",{value:"inactive",children:"Inactivo"})]}),o.jsxs("select",{className:"input",value:d.role_id,onChange:A=>u({...d,role_id:A.target.value}),children:[o.jsx("option",{value:"",children:"Todos los roles"}),((y==null?void 0:y.data)||[]).map(A=>o.jsx("option",{value:A.id,children:A.display_name||A.name},A.id))]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"input flex-1",value:d.desk_id,onChange:A=>u({...d,desk_id:A.target.value}),children:[o.jsx("option",{value:"",children:"Todas las mesas"}),((v==null?void 0:v.data)||[]).map(A=>o.jsx("option",{value:A.id,children:A.name},A.id))]}),o.jsxs("button",{onClick:()=>u({search:"",status:"",role_id:"",desk_id:""}),className:"btn-ghost whitespace-nowrap",children:[o.jsx(To,{className:"w-4 h-4 mr-2"}),"Limpiar"]})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:((_=p==null?void 0:p.pagination)==null?void 0:_.total)||(Array.isArray(p==null?void 0:p.data)?p.data.length:0)}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Total Usuarios"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success-600 dark:text-success-400",children:Array.isArray(p==null?void 0:p.data)?p.data.filter(A=>A.status==="active").length:0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Activos"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Array.isArray(p==null?void 0:p.data)?p.data.filter(A=>A.desk_id).length:0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Con Mesa"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-secondary-700 dark:text-secondary-300",children:Array.isArray(p==null?void 0:p.data)?p.data.filter(A=>A.roles&&String(A.roles).trim().length>0).length:0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Con Rol"})]})})]}),o.jsx(pK,{isOpen:t,onClose:()=>r(!1),onSuccess:()=>{x.invalidateQueries({queryKey:["users"]})}}),s&&l&&o.jsx(gK,{isOpen:s,onClose:()=>{n(!1),c(null)},user:l,desks:(v==null?void 0:v.data)||[],onSuccess:()=>{x.invalidateQueries({queryKey:["users"]}),n(!1),c(null)}}),a&&l&&o.jsx(yK,{isOpen:a,onClose:()=>{i(!1),c(null)},user:l,roles:(y==null?void 0:y.data)||[],onSuccess:()=>{x.invalidateQueries({queryKey:["users"]}),i(!1),c(null)}}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body p-0",children:[p&&p.success===!1&&o.jsx("div",{className:"alert-error",children:o.jsx("p",{children:p.message||"No se pudieron cargar los usuarios"})}),p&&Array.isArray(p.data)&&p.data.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Rol(es)"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Mesa"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:p.data.map(A=>o.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.id}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:[A.first_name,A.last_name].filter(Boolean).join(" ")||A.username}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.email}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Array.isArray(A.roles)?o.jsx("div",{className:"flex flex-wrap gap-1",children:A.roles.map((F,M)=>o.jsx("span",{className:"badge bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200",children:F.display_name||F.name||String(F)},M))}):o.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:A.roles||"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(A.status||"active")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.desk_name||"-"}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right space-x-2",children:[e("users.assign_desk")&&o.jsx("button",{className:"btn-xs btn-secondary",onClick:()=>{c(A),n(!0)},children:"Asignar Mesa"}),e("users.assign_role")&&o.jsx("button",{className:"btn-xs btn-secondary",onClick:()=>{c(A),i(!0)},children:"Asignar Rol"})]})]},A.id))})]})}),p&&(p==null?void 0:p.pagination)&&Number(((j=p==null?void 0:p.pagination)==null?void 0:j.pages)??((S=p==null?void 0:p.pagination)==null?void 0:S.total_pages)??0)>1&&o.jsx("div",{className:"px-6 py-4 border-t border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Mostrando ",(f-1)*m+1," a ",Math.min(f*m,Number(((N=p==null?void 0:p.pagination)==null?void 0:N.total)??((p==null?void 0:p.data)||[]).length))," de ",Number(((k=p==null?void 0:p.pagination)==null?void 0:k.total)??((p==null?void 0:p.data)||[]).length)," resultados"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>h(f-1),disabled:f===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsx("button",{onClick:()=>h(f+1),disabled:f>=Number(((E=p==null?void 0:p.pagination)==null?void 0:E.pages)??((C=p==null?void 0:p.pagination)==null?void 0:C.total_pages)??1),className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})})]}):o.jsx("div",{className:"p-6 text-center text-secondary-600 dark:text-secondary-400",children:"No hay usuarios disponibles."})]})})]})}function bK(){var S,N,k,E;const[e,t]=w.useState({search:"",status:""}),[r,s]=w.useState(1),[n,a]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(null),u=20,f=hs(),{data:h,isLoading:m}=tt({queryKey:["roles",e,r],queryFn:()=>mo.getRoles({...e,page:r,limit:u}),placeholderData:C=>C}),{data:x,isLoading:p,error:g}=tt({queryKey:["permissions"],queryFn:mo.getPermissions,staleTime:10*60*1e3});console.log("=== DEBUG PERMISOS ==="),console.log("permissionsData:",x),console.log("permissionsData length:",x==null?void 0:x.length),console.log("permissionsLoading:",p),console.log("permissionsError:",g),console.log("permissionsData type:",typeof x),console.log("permissionsData is array:",Array.isArray(x)),console.log("Token en localStorage:",localStorage.getItem("auth_token")),console.log("User en localStorage:",localStorage.getItem("user"));const y=pt({mutationFn:C=>mo.deleteRole(C),onSuccess:()=>{f.invalidateQueries({queryKey:["roles"]}),he.success("Rol eliminado exitosamente")},onError:C=>{var A,F;he.error(((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Error al eliminar el rol")}}),v=C=>{const A={active:{label:"Activo",color:"bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200"},inactive:{label:"Inactivo",color:"bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200"}},F=A[C]||A.active;return o.jsx("span",{className:Be("badge",F.color),children:F.label})},b=C=>new Date(C).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),_=C=>{if(C.users_count>0){he.error("No se puede eliminar un rol que tiene usuarios asignados");return}window.confirm(`Ests seguro de que quieres eliminar el rol "${C.display_name}"?`)&&y.mutate(C.id)},j=C=>{d(C),l(!0)};return m&&!h?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})}):o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Gestin de Roles"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Administra roles y permisos del sistema"})]}),o.jsx("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:o.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nuevo Rol"]})})]}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ln,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Buscar roles...",className:"input pl-10",value:e.search,onChange:C=>t({...e,search:C.target.value})})]}),o.jsxs("select",{className:"input",value:e.status,onChange:C=>t({...e,status:C.target.value}),children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"active",children:"Activo"}),o.jsx("option",{value:"inactive",children:"Inactivo"})]}),o.jsxs("button",{onClick:()=>t({search:"",status:""}),className:"btn-ghost",children:[o.jsx(To,{className:"w-4 h-4 mr-2"}),"Limpiar"]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:((S=h==null?void 0:h.pagination)==null?void 0:S.total)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Total Roles"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success-600 dark:text-success-400",children:((N=h==null?void 0:h.data)==null?void 0:N.filter(C=>C.status==="active").length)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Activos"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:((k=h==null?void 0:h.data)==null?void 0:k.reduce((C,A)=>C+(A.users_count||0),0))||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Usuarios Asignados"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:(x==null?void 0:x.length)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Permisos Disponibles"})]})})]}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body p-0",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descripcin"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Permisos"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Usuarios"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:((E=h==null?void 0:h.data)==null?void 0:E.map(C=>o.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:o.jsx(nu,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:C.display_name}),o.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:C.name})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white max-w-xs truncate",children:C.description})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm text-secondary-900 dark:text-white",children:[C.permissions.length," permisos"]}),o.jsxs("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:[C.permissions.slice(0,2).join(", "),C.permissions.length>2&&"..."]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(rc,{className:"w-4 h-4 text-secondary-400 mr-1"}),o.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:C.users_count})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v(C.status)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:b(C.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{onClick:()=>j(C),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:o.jsx($o,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>j(C),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_(C),disabled:C.users_count>0,className:"text-danger-600 hover:text-danger-900 dark:text-danger-400 dark:hover:text-danger-300 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Fo,{className:"w-4 h-4"})})]})})]},C.id)))||[]})]})}),h&&h.pagination&&h.pagination.pages>1&&o.jsx("div",{className:"px-6 py-4 border-t border-secondary-200 dark:border-secondary-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Mostrando ",(r-1)*u+1," a ",Math.min(r*u,h.pagination.total)," de ",h.pagination.total," resultados"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>s(r-1),disabled:r===1,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsx("button",{onClick:()=>s(r+1),disabled:r===h.pagination.pages,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})})]})}),(h==null?void 0:h.data)&&h.data.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-secondary-400 mb-4",children:o.jsx(nu,{className:"w-12 h-12 mx-auto"})}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-2",children:"No se encontraron roles"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-6",children:"Comienza creando tu primer rol o ajusta los filtros de bsqueda."}),o.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Crear Primer Rol"]})]}),n&&o.jsx(Hk,{isOpen:n,onClose:()=>a(!1),role:null,permissions:x||[],permissionsLoading:p,permissionsError:g,onSuccess:()=>{a(!1),f.invalidateQueries({queryKey:["roles"]})}}),i&&c&&o.jsx(Hk,{isOpen:i,onClose:()=>{l(!1),d(null)},role:c,permissions:x||[],permissionsLoading:p,permissionsError:g,onSuccess:()=>{l(!1),d(null),f.invalidateQueries({queryKey:["roles"]})}})]})}function Hk({isOpen:e,onClose:t,role:r,permissions:s,permissionsLoading:n=!1,permissionsError:a=null,onSuccess:i}){const[l,c]=w.useState({name:(r==null?void 0:r.name)||"",display_name:(r==null?void 0:r.display_name)||"",description:(r==null?void 0:r.description)||"",permissions:(r==null?void 0:r.permissions)||[],status:(r==null?void 0:r.status)||"active"});console.log("RoleModal - Props recibidas:",{permissions:s,permissionsLength:s==null?void 0:s.length,permissionsLoading:n,permissionsError:a,isArray:Array.isArray(s)});const d=pt({mutationFn:m=>mo.createRole(m),onSuccess:()=>{he.success("Rol creado exitosamente"),i()},onError:m=>{var x,p;he.error(((p=(x=m.response)==null?void 0:x.data)==null?void 0:p.message)||"Error al crear el rol")}}),u=pt({mutationFn:m=>{if(!(r!=null&&r.id))throw new Error("Role ID is required for update");return mo.updateRole(r.id,m)},onSuccess:()=>{he.success("Rol actualizado exitosamente"),i()},onError:m=>{var x,p;he.error(((p=(x=m.response)==null?void 0:x.data)==null?void 0:p.message)||"Error al actualizar el rol")}}),f=m=>{m.preventDefault(),r?u.mutate(l):d.mutate(l)},h=m=>{c(x=>({...x,permissions:x.permissions.includes(m)?x.permissions.filter(p=>p!==m):[...x.permissions,m]}))};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-6",children:r?"Editar Rol":"Crear Nuevo Rol"}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre del Rol"}),o.jsx("input",{type:"text",value:l.name,onChange:m=>c({...l,name:m.target.value}),className:"input",placeholder:"ej: sales_agent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre para Mostrar"}),o.jsx("input",{type:"text",value:l.display_name,onChange:m=>c({...l,display_name:m.target.value}),className:"input",placeholder:"ej: Agente de Ventas",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:l.description,onChange:m=>c({...l,description:m.target.value}),className:"input min-h-[80px]",placeholder:"Describe las responsabilidades de este rol...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado"}),o.jsxs("select",{value:l.status,onChange:m=>c({...l,status:m.target.value}),className:"input",children:[o.jsx("option",{value:"active",children:"Activo"}),o.jsx("option",{value:"inactive",children:"Inactivo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-4",children:"Permisos"}),n?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"text-sm text-secondary-500 mt-2",children:"Cargando permisos..."})]}):a?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"text-sm text-red-500",children:"Error al cargar permisos"}),o.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:a instanceof Error?a.message:"Error desconocido"})]}):o.jsx("div",{className:"space-y-4",children:s&&Array.isArray(s)&&s.length>0?Object.entries(s.reduce((m,x)=>(m[x.module]||(m[x.module]=[]),m[x.module].push(x),m),{})).map(([m,x])=>o.jsxs("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white mb-3 capitalize",children:m}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(p=>o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:l.permissions.includes(p.name),onChange:()=>h(p.name),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:p.display_name})]},p.name))})]},m)):o.jsxs("div",{className:"text-center py-8 border border-secondary-200 dark:border-secondary-700 rounded-lg",children:[o.jsx("p",{className:"text-secondary-500",children:"No hay permisos disponibles"}),o.jsxs("p",{className:"text-xs text-secondary-400 mt-1",children:["Permisos recibidos: ",s?s.length:0]})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),o.jsxs("button",{type:"submit",disabled:d.isPending||u.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[r?"Actualizar":"Crear"," Rol"]})]})]})]})}):null}function wK(){var j,S,N,k,E;const[e,t]=w.useState({search:"",status:"",manager_id:""}),[r,s]=w.useState(!1),[n,a]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(null),u=20,f=1,h=hs(),{data:m,isLoading:x}=tt({queryKey:["desks",e,f],queryFn:()=>hr.getDesks({...e,page:f,limit:u}),placeholderData:C=>C}),p=pt({mutationFn:C=>hr.delete(C),onSuccess:()=>{h.invalidateQueries({queryKey:["desks"]}),he.success("Mesa eliminada exitosamente")},onError:C=>{var A,F;he.error(((F=(A=C.response)==null?void 0:A.data)==null?void 0:F.message)||"Error al eliminar la mesa")}}),g=C=>{const A={active:{label:"Activa",color:"bg-success-100 text-success-800 dark:bg-success-900 dark:text-success-200"},inactive:{label:"Inactiva",color:"bg-danger-100 text-danger-800 dark:bg-danger-900 dark:text-danger-200"}},F=A[C]||A.active;return o.jsx("span",{className:Be("badge",F.color),children:F.label})},y=C=>C==null?"$0.00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(C),v=C=>{if(C.users_count>0){he.error("No se puede eliminar una mesa que tiene usuarios asignados");return}window.confirm(`Ests seguro de que quieres eliminar la mesa "${C.name}"?`)&&p.mutate(C.id)},b=C=>{d(C),a(!0)},_=C=>{d(C),l(!0)};return x&&!m?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Ut,{size:"lg"})}):o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Gestin de Mesas"}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Administra mesas de trabajo y equipos de ventas"})]}),o.jsx("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:o.jsxs("button",{onClick:()=>s(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nueva Mesa"]})})]}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ln,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400"}),o.jsx("input",{type:"text",placeholder:"Buscar mesas...",className:"input pl-10",value:e.search,onChange:C=>t({...e,search:C.target.value})})]}),o.jsxs("select",{className:"input",value:e.status,onChange:C=>t({...e,status:C.target.value}),children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"active",children:"Activa"}),o.jsx("option",{value:"inactive",children:"Inactiva"})]}),o.jsxs("select",{className:"input",value:e.manager_id,onChange:C=>t({...e,manager_id:C.target.value}),children:[o.jsx("option",{value:"",children:"Todos los managers"}),o.jsx("option",{value:"2",children:"Carlos Rodrguez"}),o.jsx("option",{value:"7",children:"Laura Snchez"}),o.jsx("option",{value:"12",children:"Fernando Castro"})]}),o.jsxs("button",{onClick:()=>t({search:"",status:"",manager_id:""}),className:"btn-ghost",children:[o.jsx(To,{className:"w-4 h-4 mr-2"}),"Limpiar"]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:((j=m==null?void 0:m.pagination)==null?void 0:j.total)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Total Mesas"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-success-600 dark:text-success-400",children:((S=m==null?void 0:m.data)==null?void 0:S.filter(C=>C.status==="active").length)||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Activas"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:((N=m==null?void 0:m.data)==null?void 0:N.reduce((C,A)=>C+(A.user_count||A.users_count||0),0))||0}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Total Usuarios"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y(((k=m==null?void 0:m.data)==null?void 0:k.reduce((C,A)=>C+(A.total_revenue||0),0))||0)}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revenue Total"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:((E=m==null?void 0:m.data)==null?void 0:E.map(C=>o.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center",children:o.jsx(Vs,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:C.name}),o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:C.manager_name||"Sin manager"})]})]}),g(C.status)]}),o.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mb-4 line-clamp-2",children:C.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1",children:[o.jsx(rc,{className:"w-4 h-4 text-secondary-400 mr-1"}),o.jsx("span",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:C.users_count})]}),o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Usuarios"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1",children:[o.jsx(Rr,{className:"w-4 h-4 text-secondary-400 mr-1"}),o.jsx("span",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:C.leads_count})]}),o.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Leads"})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Conversiones:"}),o.jsxs("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[C.conversions_count," (",(C.conversion_rate||0).toFixed(1),"%)"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revenue:"}),o.jsx("span",{className:"text-sm font-medium text-success-600 dark:text-success-400",children:y(C.total_revenue)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Target:"}),o.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:y(C.target_monthly)})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-secondary-600 dark:text-secondary-400 mb-1",children:[o.jsx("span",{children:"Progreso del mes"}),o.jsxs("span",{children:[((C.total_revenue||0)/(C.target_monthly||1)*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((C.total_revenue||0)/(C.target_monthly||1)*100,100)}%`}})})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>_(C),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Ver detalles",children:o.jsx($o,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(C),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar mesa",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(C),disabled:C.users_count>0,className:"text-danger-600 hover:text-danger-900 dark:text-danger-400 dark:hover:text-danger-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Eliminar mesa",children:o.jsx(Fo,{className:"w-4 h-4"})})]})]})},C.id)))||[]}),(m==null?void 0:m.data)&&m.data.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-secondary-400 mb-4",children:o.jsx(Vs,{className:"w-12 h-12 mx-auto"})}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-2",children:"No se encontraron mesas"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-6",children:"Comienza creando tu primera mesa o ajusta los filtros de bsqueda."}),o.jsxs("button",{onClick:()=>s(!0),className:"btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Crear Primera Mesa"]})]}),r&&o.jsx(Wk,{isOpen:r,onClose:()=>s(!1),desk:null,onSuccess:()=>{s(!1),h.invalidateQueries({queryKey:["desks"]})}}),n&&c&&o.jsx(Wk,{isOpen:n,onClose:()=>{a(!1),d(null)},desk:c,onSuccess:()=>{a(!1),d(null),h.invalidateQueries({queryKey:["desks"]})}}),i&&c&&o.jsx(kK,{isOpen:i,desk:c,onClose:()=>{l(!1),d(null)}})]})}function Wk({isOpen:e,onClose:t,desk:r,onSuccess:s}){var h;const[n,a]=w.useState({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",manager_id:(r==null?void 0:r.manager_id)||"",manager_name:(r==null?void 0:r.manager_name)||"",status:(r==null?void 0:r.status)||"active",target_monthly:(r==null?void 0:r.target_monthly)||0}),{data:i,isLoading:l}=tt({queryKey:["users-for-desk"],queryFn:()=>_a.getUsers({status:"active"}),enabled:e,staleTime:5*60*1e3}),c=pt({mutationFn:m=>hr.create(m),onSuccess:()=>{he.success("Mesa creada exitosamente"),s()},onError:m=>{var x,p;he.error(((p=(x=m.response)==null?void 0:x.data)==null?void 0:p.message)||"Error al crear la mesa")}}),d=pt({mutationFn:m=>hr.update(r.id,m),onSuccess:()=>{he.success("Mesa actualizada exitosamente"),s()},onError:m=>{var x,p;he.error(((p=(x=m.response)==null?void 0:x.data)==null?void 0:p.message)||"Error al actualizar la mesa")}}),u=m=>{m.preventDefault(),r?d.mutate(n):c.mutate(n)},f=m=>{var g;const x=m.target.value,p=(g=i==null?void 0:i.data)==null?void 0:g.find(y=>y.id.toString()===x);a({...n,manager_id:x,manager_name:p?`${p.first_name} ${p.last_name}`:""})};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-2xl mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-6",children:r?"Editar Mesa":"Crear Nueva Mesa"}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre de la Mesa"}),o.jsx("input",{type:"text",value:n.name,onChange:m=>a({...n,name:m.target.value}),className:"input",placeholder:"ej: Mesa Principal",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado"}),o.jsxs("select",{value:n.status,onChange:m=>a({...n,status:m.target.value}),className:"input",children:[o.jsx("option",{value:"active",children:"Activa"}),o.jsx("option",{value:"inactive",children:"Inactiva"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:n.description,onChange:m=>a({...n,description:m.target.value}),className:"input min-h-[80px]",placeholder:"Describe el propsito y caractersticas de esta mesa...",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Manager"}),l?o.jsxs("div",{className:"input flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),o.jsx("span",{className:"ml-2 text-sm text-secondary-500",children:"Cargando usuarios..."})]}):o.jsxs("select",{value:n.manager_id,onChange:f,className:"input",children:[o.jsx("option",{value:"",children:"Sin manager asignado"}),(h=i==null?void 0:i.data)==null?void 0:h.map(m=>o.jsxs("option",{value:m.id,children:[m.first_name," ",m.last_name," (",m.username,")"]},m.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Target Mensual ($)"}),o.jsx("input",{type:"number",value:n.target_monthly,onChange:m=>a({...n,target_monthly:parseFloat(m.target.value)||0}),className:"input",placeholder:"50000",min:"0",step:"100"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[o.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancelar"}),o.jsxs("button",{type:"submit",disabled:c.isPending||d.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[r?"Actualizar":"Crear"," Mesa"]})]})]})]})}):null}function kK({isOpen:e,desk:t,onClose:r}){var n;if(!e||!t)return null;const s={2:"Carlos Rodrguez",7:"Laura Snchez",12:"Fernando Castro",16:"Patricia Mendoza"};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:t.name}),o.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400",children:["Manager: ",t.manager_name||(t.manager_id?s[t.manager_id.toString()]:null)||"Sin asignar"]})]}),o.jsx("button",{onClick:r,className:"text-secondary-400 hover:text-secondary-600",children:""})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx(rc,{className:"w-8 h-8 text-primary-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:t.users_count}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Usuarios Asignados"})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx(Rr,{className:"w-8 h-8 text-warning-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:t.conversions_count}),o.jsxs("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Conversiones (",(t.conversion_rate||0).toFixed(1),"%)"]})]})}),o.jsx("div",{className:"card",children:o.jsxs("div",{className:"card-body text-center",children:[o.jsx(gn,{className:"w-8 h-8 text-success-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:t.total_revenue?new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(t.total_revenue):"$0.00"}),o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Revenue Total"})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h4",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Usuarios de la Mesa"})}),o.jsx("div",{className:"card-body p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase",children:"Usuario"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase",children:"Rol"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase",children:"Leads"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase",children:"Conversiones"})]})}),o.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:((n=t.users)==null?void 0:n.map(a=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[a.first_name," ",a.last_name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:a.username})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-secondary-900 dark:text-white",children:"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-success-600 dark:text-success-400",children:"-"})})]},a.id)))||[]})]})})})]})]})})}var _K=Object.defineProperty,NK=(e,t,r)=>t in e?_K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bx=(e,t,r)=>(NK(e,typeof t!="symbol"?t+"":t,r),r);let jK=class{constructor(){Bx(this,"current",this.detect()),Bx(this,"handoffState","pending"),Bx(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ha=new jK,qs=(e,t)=>{ha.isServer?w.useEffect(e,t):w.useLayoutEffect(e,t)};function ma(e){let t=w.useRef(e);return qs(()=>{t.current=e},[e]),t}let Et=function(e){let t=ma(e);return Ie.useCallback((...r)=>t.current(...r),[t])};function Nm(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xo(){let e=[],t={addEventListener(r,s,n,a){return r.addEventListener(s,n,a),t.add(()=>r.removeEventListener(s,n,a))},requestAnimationFrame(...r){let s=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let s=setTimeout(...r);return t.add(()=>clearTimeout(s))},microTask(...r){let s={current:!0};return Nm(()=>{s.current&&r[0]()}),t.add(()=>{s.current=!1})},style(r,s,n){let a=r.style.getPropertyValue(s);return Object.assign(r.style,{[s]:n}),this.add(()=>{Object.assign(r.style,{[s]:a})})},group(r){let s=Xo();return r(s),this.add(()=>s.dispose())},add(r){return e.push(r),()=>{let s=e.indexOf(r);if(s>=0)for(let n of e.splice(s,1))n()}},dispose(){for(let r of e.splice(0))r()}};return t}function Yy(){let[e]=w.useState(Xo);return w.useEffect(()=>()=>e.dispose(),[e]),e}function EK(){let e=typeof document>"u";return"useSyncExternalStore"in Gl?(t=>t.useSyncExternalStore)(Gl)(()=>()=>{},()=>!1,()=>!e):!1}function kc(){let e=EK(),[t,r]=w.useState(ha.isHandoffComplete);return t&&ha.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{t!==!0&&r(!0)},[t]),w.useEffect(()=>ha.handoff(),[]),e?!1:t}var qk;let _c=(qk=Ie.useId)!=null?qk:function(){let e=kc(),[t,r]=Ie.useState(e?()=>ha.nextId():null);return qs(()=>{t===null&&r(ha.nextId())},[t]),t!=null?""+t:void 0};function Or(e,t,...r){if(e in t){let n=t[e];return typeof n=="function"?n(...r):n}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Or),s}function k3(e){return ha.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Pg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wi=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Wi||{}),_3=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(_3||{}),SK=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(SK||{});function CK(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Pg)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var N3=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(N3||{});function TK(e,t=0){var r;return e===((r=k3(e))==null?void 0:r.body)?!1:Or(t,{0(){return e.matches(Pg)},1(){let s=e;for(;s!==null;){if(s.matches(Pg))return!0;s=s.parentElement}return!1}})}var AK=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(AK||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bo(e){e==null||e.focus({preventScroll:!0})}let FK=["textarea","input"].join(",");function RK(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,FK))!=null?r:!1}function PK(e,t=r=>r){return e.slice().sort((r,s)=>{let n=t(r),a=t(s);if(n===null||a===null)return 0;let i=n.compareDocumentPosition(a);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Cf(e,t,{sorted:r=!0,relativeTo:s=null,skipElements:n=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?r?PK(e):e:CK(e);n.length>0&&i.length>1&&(i=i.filter(m=>!n.includes(m))),s=s??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(s))-1;if(t&4)return Math.max(0,i.indexOf(s))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},u=0,f=i.length,h;do{if(u>=f||u+f<=0)return 0;let m=c+u;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=i[m],h==null||h.focus(d),u+=l}while(h!==a.activeElement);return t&6&&RK(h)&&h.select(),2}function j3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function MK(){return/Android/gi.test(window.navigator.userAgent)}function OK(){return j3()||MK()}function ef(e,t,r){let s=ma(t);w.useEffect(()=>{function n(a){s.current(a)}return document.addEventListener(e,n,r),()=>document.removeEventListener(e,n,r)},[e,r])}function E3(e,t,r){let s=ma(t);w.useEffect(()=>{function n(a){s.current(a)}return window.addEventListener(e,n,r),()=>window.removeEventListener(e,n,r)},[e,r])}function LK(e,t,r=!0){let s=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{s.current=r})},[r]);function n(i,l){if(!s.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function u(f){return typeof f=="function"?u(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let u of d){if(u===null)continue;let f=u instanceof HTMLElement?u:u.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!TK(c,N3.Loose)&&c.tabIndex!==-1&&i.preventDefault(),t(i,c)}let a=w.useRef(null);ef("pointerdown",i=>{var l,c;s.current&&(a.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),ef("mousedown",i=>{var l,c;s.current&&(a.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),ef("click",i=>{OK()||a.current&&(n(i,()=>a.current),a.current=null)},!0),ef("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),E3("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function e0(...e){return w.useMemo(()=>k3(...e),[...e])}let S3=Symbol();function DK(e,t=!0){return Object.assign(e,{[S3]:t})}function bn(...e){let t=w.useRef(e);w.useEffect(()=>{t.current=e},[e]);let r=Et(s=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(s):n.current=s)});return e.every(s=>s==null||(s==null?void 0:s[S3]))?void 0:r}function Qy(e,t){let r=w.useRef([]),s=Et(e);w.useEffect(()=>{let n=[...r.current];for(let[a,i]of t.entries())if(r.current[a]!==i){let l=s(t,n);return r.current=t,l}},[s,...t])}function Ph(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Mh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Mh||{}),li=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(li||{});function Ks({ourProps:e,theirProps:t,slot:r,defaultTag:s,features:n,visible:a=!0,name:i,mergeRefs:l}){l=l??IK;let c=C3(t,e);if(a)return tf(c,r,s,i,l);let d=n??0;if(d&2){let{static:u=!1,...f}=c;if(u)return tf(f,r,s,i,l)}if(d&1){let{unmount:u=!0,...f}=c;return Or(u?0:1,{0(){return null},1(){return tf({...f,hidden:!0,style:{display:"none"}},r,s,i,l)}})}return tf(c,r,s,i,l)}function tf(e,t={},r,s,n){let{as:a=r,children:i,refName:l="ref",...c}=Ux(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},u=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let h=!1,m=[];for(let[x,p]of Object.entries(t))typeof p=="boolean"&&(h=!0),p===!0&&m.push(x);h&&(f["data-headlessui-state"]=m.join(" "))}if(a===w.Fragment&&Object.keys(Gk(c)).length>0){if(!w.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let h=u.props,m=typeof(h==null?void 0:h.className)=="function"?(...p)=>Ph(h==null?void 0:h.className(...p),c.className):Ph(h==null?void 0:h.className,c.className),x=m?{className:m}:{};return w.cloneElement(u,Object.assign({},C3(u.props,Gk(Ux(c,["ref"]))),f,d,{ref:n(u.ref,d.ref)},x))}return w.createElement(a,Object.assign({},Ux(c,["ref"]),a!==w.Fragment&&d,a!==w.Fragment&&f),u)}function IK(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function C3(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let s of e)for(let n in s)n.startsWith("on")&&typeof s[n]=="function"?(r[n]!=null||(r[n]=[]),r[n].push(s[n])):t[n]=s[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(s=>[s,void 0])));for(let s in r)Object.assign(t,{[s](n,...a){let i=r[s];for(let l of i){if((n instanceof Event||(n==null?void 0:n.nativeEvent)instanceof Event)&&n.defaultPrevented)return;l(n,...a)}}});return t}function Cs(e){var t;return Object.assign(w.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Gk(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Ux(e,t=[]){let r=Object.assign({},e);for(let s of t)s in r&&delete r[s];return r}let BK="div";var Oh=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Oh||{});function UK(e,t){var r;let{features:s=1,...n}=e,a={ref:t,"aria-hidden":(s&2)===2?!0:(r=n["aria-hidden"])!=null?r:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Ks({ourProps:a,theirProps:n,slot:{},defaultTag:BK,name:"Hidden"})}let Mg=Cs(UK),Zy=w.createContext(null);Zy.displayName="OpenClosedContext";var vs=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(vs||{});function Jy(){return w.useContext(Zy)}function $K({value:e,children:t}){return Ie.createElement(Zy.Provider,{value:e},t)}function zK(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let $a=[];zK(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&$a[0]!==t.target&&($a.unshift(t.target),$a=$a.filter(r=>r!=null&&r.isConnected),$a.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function VK(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let s=(t==null?void 0:t.getAttribute("disabled"))==="";return s&&HK(r)?!1:s}function HK(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var T3=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(T3||{});function A3(e,t,r,s){let n=ma(r);w.useEffect(()=>{e=e??window;function a(i){n.current(i)}return e.addEventListener(t,a,s),()=>e.removeEventListener(t,a,s)},[e,t,s])}function t0(){let e=w.useRef(!1);return qs(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function F3(e){let t=Et(e),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,Nm(()=>{r.current&&t()})}),[t])}var ud=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ud||{});function WK(){let e=w.useRef(0);return E3("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function R3(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let qK="div";var P3=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(P3||{});function GK(e,t){let r=w.useRef(null),s=bn(r,t),{initialFocus:n,containers:a,features:i=30,...l}=e;kc()||(i=1);let c=e0(r);YK({ownerDocument:c},!!(i&16));let d=QK({ownerDocument:c,container:r,initialFocus:n},!!(i&2));ZK({ownerDocument:c,container:r,containers:a,previousActiveElement:d},!!(i&8));let u=WK(),f=Et(p=>{let g=r.current;g&&(y=>y())(()=>{Or(u.current,{[ud.Forwards]:()=>{Cf(g,Wi.First,{skipElements:[p.relatedTarget]})},[ud.Backwards]:()=>{Cf(g,Wi.Last,{skipElements:[p.relatedTarget]})}})})}),h=Yy(),m=w.useRef(!1),x={ref:s,onKeyDown(p){p.key=="Tab"&&(m.current=!0,h.requestAnimationFrame(()=>{m.current=!1}))},onBlur(p){let g=R3(a);r.current instanceof HTMLElement&&g.add(r.current);let y=p.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(M3(g,y)||(m.current?Cf(r.current,Or(u.current,{[ud.Forwards]:()=>Wi.Next,[ud.Backwards]:()=>Wi.Previous})|Wi.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&bo(p.target)))}};return Ie.createElement(Ie.Fragment,null,!!(i&4)&&Ie.createElement(Mg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Oh.Focusable}),Ks({ourProps:x,theirProps:l,defaultTag:qK,name:"FocusTrap"}),!!(i&4)&&Ie.createElement(Mg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Oh.Focusable}))}let KK=Cs(GK),Gc=Object.assign(KK,{features:P3});function XK(e=!0){let t=w.useRef($a.slice());return Qy(([r],[s])=>{s===!0&&r===!1&&Nm(()=>{t.current.splice(0)}),s===!1&&r===!0&&(t.current=$a.slice())},[e,$a,t]),Et(()=>{var r;return(r=t.current.find(s=>s!=null&&s.isConnected))!=null?r:null})}function YK({ownerDocument:e},t){let r=XK(t);Qy(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&bo(r())},[t]),F3(()=>{t&&bo(r())})}function QK({ownerDocument:e,container:t,initialFocus:r},s){let n=w.useRef(null),a=t0();return Qy(()=>{if(!s)return;let i=t.current;i&&Nm(()=>{if(!a.current)return;let l=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){n.current=l;return}}else if(i.contains(l)){n.current=l;return}r!=null&&r.current?bo(r.current):Cf(i,Wi.First)===_3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.current=e==null?void 0:e.activeElement})},[s]),n}function ZK({ownerDocument:e,container:t,containers:r,previousActiveElement:s},n){let a=t0();A3(e==null?void 0:e.defaultView,"focus",i=>{if(!n||!a.current)return;let l=R3(r);t.current instanceof HTMLElement&&l.add(t.current);let c=s.current;if(!c)return;let d=i.target;d&&d instanceof HTMLElement?M3(l,d)?(s.current=d,bo(d)):(i.preventDefault(),i.stopPropagation(),bo(c)):bo(s.current)},!0)}function M3(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let O3=w.createContext(!1);function JK(){return w.useContext(O3)}function Og(e){return Ie.createElement(O3.Provider,{value:e.force},e.children)}function eX(e){let t=JK(),r=w.useContext(L3),s=e0(e),[n,a]=w.useState(()=>{if(!t&&r!==null||ha.isServer)return null;let i=s==null?void 0:s.getElementById("headlessui-portal-root");if(i)return i;if(s===null)return null;let l=s.createElement("div");return l.setAttribute("id","headlessui-portal-root"),s.body.appendChild(l)});return w.useEffect(()=>{n!==null&&(s!=null&&s.body.contains(n)||s==null||s.body.appendChild(n))},[n,s]),w.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let tX=w.Fragment;function rX(e,t){let r=e,s=w.useRef(null),n=bn(DK(u=>{s.current=u}),t),a=e0(s),i=eX(s),[l]=w.useState(()=>{var u;return ha.isServer?null:(u=a==null?void 0:a.createElement("div"))!=null?u:null}),c=w.useContext(Lg),d=kc();return qs(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),qs(()=>{if(l&&c)return c.register(l)},[c,l]),F3(()=>{var u;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((u=i.parentElement)==null||u.removeChild(i)))}),d?!i||!l?null:bN.createPortal(Ks({ourProps:{ref:n},theirProps:r,defaultTag:tX,name:"Portal"}),l):null}let sX=w.Fragment,L3=w.createContext(null);function nX(e,t){let{target:r,...s}=e,n={ref:bn(t)};return Ie.createElement(L3.Provider,{value:r},Ks({ourProps:n,theirProps:s,defaultTag:sX,name:"Popover.Group"}))}let Lg=w.createContext(null);function aX(){let e=w.useContext(Lg),t=w.useRef([]),r=Et(a=>(t.current.push(a),e&&e.register(a),()=>s(a))),s=Et(a=>{let i=t.current.indexOf(a);i!==-1&&t.current.splice(i,1),e&&e.unregister(a)}),n=w.useMemo(()=>({register:r,unregister:s,portals:t}),[r,s,t]);return[t,w.useMemo(()=>function({children:a}){return Ie.createElement(Lg.Provider,{value:n},a)},[n])]}let iX=Cs(rX),oX=Cs(nX),Dg=Object.assign(iX,{Group:oX});function lX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const cX=typeof Object.is=="function"?Object.is:lX,{useState:dX,useEffect:uX,useLayoutEffect:fX,useDebugValue:hX}=Gl;function mX(e,t,r){const s=t(),[{inst:n},a]=dX({inst:{value:s,getSnapshot:t}});return fX(()=>{n.value=s,n.getSnapshot=t,$x(n)&&a({inst:n})},[e,s,t]),uX(()=>($x(n)&&a({inst:n}),e(()=>{$x(n)&&a({inst:n})})),[e]),hX(s),s}function $x(e){const t=e.getSnapshot,r=e.value;try{const s=t();return!cX(r,s)}catch{return!0}}function xX(e,t,r){return t()}const pX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gX=!pX,yX=gX?xX:mX,vX="useSyncExternalStore"in Gl?(e=>e.useSyncExternalStore)(Gl):yX;function bX(e){return vX(e.subscribe,e.getSnapshot,e.getSnapshot)}function wX(e,t){let r=e(),s=new Set;return{getSnapshot(){return r},subscribe(n){return s.add(n),()=>s.delete(n)},dispatch(n,...a){let i=t[n].call(r,...a);i&&(r=i,s.forEach(l=>l()))}}}function kX(){let e;return{before({doc:t}){var r;let s=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-s.clientWidth},after({doc:t,d:r}){let s=t.documentElement,n=s.clientWidth-s.offsetWidth,a=e-n;r.style(s,"paddingRight",`${a}px`)}}}function _X(){return j3()?{before({doc:e,d:t,meta:r}){function s(n){return r.containers.flatMap(a=>a()).some(a=>a.contains(n))}t.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Xo();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(n=window.scrollY)!=null?n:window.pageYOffset,i=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),u=e.querySelector(d);u&&!s(u)&&(i=u)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(s(l.target)){let c=l.target;for(;c.parentElement&&s(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(s(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function NX(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function jX(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let eo=wX(()=>new Map,{PUSH(e,t){var r;let s=(r=this.get(e))!=null?r:{doc:e,count:0,d:Xo(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let s={doc:e,d:t,meta:jX(r)},n=[_X(),kX(),NX()];n.forEach(({before:a})=>a==null?void 0:a(s)),n.forEach(({after:a})=>a==null?void 0:a(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});eo.subscribe(()=>{let e=eo.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let s=t.get(r.doc)==="hidden",n=r.count!==0;(n&&!s||!n&&s)&&eo.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&eo.dispatch("TEARDOWN",r)}});function EX(e,t,r){let s=bX(eo),n=e?s.get(e):void 0,a=n?n.count>0:!1;return qs(()=>{if(!(!e||!t))return eo.dispatch("PUSH",e,r),()=>eo.dispatch("POP",e,r)},[t,e]),a}let zx=new Map,Kc=new Map;function Kk(e,t=!0){qs(()=>{var r;if(!t)return;let s=typeof e=="function"?e():e.current;if(!s)return;function n(){var i;if(!s)return;let l=(i=Kc.get(s))!=null?i:1;if(l===1?Kc.delete(s):Kc.set(s,l-1),l!==1)return;let c=zx.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,zx.delete(s))}let a=(r=Kc.get(s))!=null?r:0;return Kc.set(s,a+1),a!==0||(zx.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0),n},[e,t])}function SX({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var s;let n=w.useRef((s=r==null?void 0:r.current)!=null?s:null),a=e0(n),i=Et(()=>{var l,c,d;let u=[];for(let f of e)f!==null&&(f instanceof HTMLElement?u.push(f):"current"in f&&f.current instanceof HTMLElement&&u.push(f.current));if(t!=null&&t.current)for(let f of t.current)u.push(f);for(let f of(l=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(n.current)||f.contains((d=(c=n.current)==null?void 0:c.getRootNode())==null?void 0:d.host)||u.some(h=>f.contains(h))||u.push(f));return u});return{resolveContainers:i,contains:Et(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:n,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:Ie.createElement(Mg,{features:Oh.Hidden,ref:n})},[n,r])}}let ev=w.createContext(()=>{});ev.displayName="StackContext";var Ig=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ig||{});function CX(){return w.useContext(ev)}function TX({children:e,onUpdate:t,type:r,element:s,enabled:n}){let a=CX(),i=Et((...l)=>{t==null||t(...l),a(...l)});return qs(()=>{let l=n===void 0||n===!0;return l&&i(0,r,s),()=>{l&&i(1,r,s)}},[i,r,s,n]),Ie.createElement(ev.Provider,{value:i},e)}let D3=w.createContext(null);function I3(){let e=w.useContext(D3);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,I3),t}return e}function AX(){let[e,t]=w.useState([]);return[e.length>0?e.join(" "):void 0,w.useMemo(()=>function(r){let s=Et(a=>(t(i=>[...i,a]),()=>t(i=>{let l=i.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),n=w.useMemo(()=>({register:s,slot:r.slot,name:r.name,props:r.props}),[s,r.slot,r.name,r.props]);return Ie.createElement(D3.Provider,{value:n},r.children)},[t])]}let FX="p";function RX(e,t){let r=_c(),{id:s=`headlessui-description-${r}`,...n}=e,a=I3(),i=bn(t);qs(()=>a.register(s),[s,a.register]);let l={ref:i,...a.props,id:s};return Ks({ourProps:l,theirProps:n,slot:a.slot||{},defaultTag:FX,name:a.name||"Description"})}let PX=Cs(RX),MX=Object.assign(PX,{});var OX=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(OX||{}),LX=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(LX||{});let DX={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Lh=w.createContext(null);Lh.displayName="DialogContext";function r0(e){let t=w.useContext(Lh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,r0),r}return t}function IX(e,t,r=()=>[document.body]){EX(e,t,s=>{var n;return{containers:[...(n=s.containers)!=null?n:[],r]}})}function BX(e,t){return Or(t.type,DX,e,t)}let UX="div",$X=Mh.RenderStrategy|Mh.Static;function zX(e,t){let r=_c(),{id:s=`headlessui-dialog-${r}`,open:n,onClose:a,initialFocus:i,role:l="dialog",__demoMode:c=!1,...d}=e,[u,f]=w.useState(0),h=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=Jy();n===void 0&&m!==null&&(n=(m&vs.Open)===vs.Open);let x=w.useRef(null),p=bn(x,t),g=e0(x),y=e.hasOwnProperty("open")||m!==null,v=e.hasOwnProperty("onClose");if(!y&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof n!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let b=n?0:1,[_,j]=w.useReducer(BX,{titleId:null,descriptionId:null,panelRef:w.createRef()}),S=Et(()=>a(!1)),N=Et(Ce=>j({type:0,id:Ce})),k=kc()?c?!1:b===0:!1,E=u>1,C=w.useContext(Lh)!==null,[A,F]=aX(),M={get current(){var Ce;return(Ce=_.panelRef.current)!=null?Ce:x.current}},{resolveContainers:Y,mainTreeNodeRef:L,MainTreeNode:G}=SX({portals:A,defaultContainers:[M]}),oe=E?"parent":"leaf",ne=m!==null?(m&vs.Closing)===vs.Closing:!1,V=(()=>C||ne?!1:k)(),X=w.useCallback(()=>{var Ce,B;return(B=Array.from((Ce=g==null?void 0:g.querySelectorAll("body > *"))!=null?Ce:[]).find(fe=>fe.id==="headlessui-portal-root"?!1:fe.contains(L.current)&&fe instanceof HTMLElement))!=null?B:null},[L]);Kk(X,V);let ee=(()=>E?!0:k)(),R=w.useCallback(()=>{var Ce,B;return(B=Array.from((Ce=g==null?void 0:g.querySelectorAll("[data-headlessui-portal]"))!=null?Ce:[]).find(fe=>fe.contains(L.current)&&fe instanceof HTMLElement))!=null?B:null},[L]);Kk(R,ee);let K=(()=>!(!k||E))();LK(Y,Ce=>{Ce.preventDefault(),S()},K);let z=(()=>!(E||b!==0))();A3(g==null?void 0:g.defaultView,"keydown",Ce=>{z&&(Ce.defaultPrevented||Ce.key===T3.Escape&&(Ce.preventDefault(),Ce.stopPropagation(),S()))});let H=(()=>!(ne||b!==0||C))();IX(g,H,Y),w.useEffect(()=>{if(b!==0||!x.current)return;let Ce=new ResizeObserver(B=>{for(let fe of B){let _e=fe.target.getBoundingClientRect();_e.x===0&&_e.y===0&&_e.width===0&&_e.height===0&&S()}});return Ce.observe(x.current),()=>Ce.disconnect()},[b,x,S]);let[Q,de]=AX(),xe=w.useMemo(()=>[{dialogState:b,close:S,setTitleId:N},_],[b,_,S,N]),me=w.useMemo(()=>({open:b===0}),[b]),ue={ref:p,id:s,role:l,"aria-modal":b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":Q};return Ie.createElement(TX,{type:"Dialog",enabled:b===0,element:x,onUpdate:Et((Ce,B)=>{B==="Dialog"&&Or(Ce,{[Ig.Add]:()=>f(fe=>fe+1),[Ig.Remove]:()=>f(fe=>fe-1)})})},Ie.createElement(Og,{force:!0},Ie.createElement(Dg,null,Ie.createElement(Lh.Provider,{value:xe},Ie.createElement(Dg.Group,{target:x},Ie.createElement(Og,{force:!1},Ie.createElement(de,{slot:me,name:"Dialog.Description"},Ie.createElement(Gc,{initialFocus:i,containers:Y,features:k?Or(oe,{parent:Gc.features.RestoreFocus,leaf:Gc.features.All&~Gc.features.FocusLock}):Gc.features.None},Ie.createElement(F,null,Ks({ourProps:ue,theirProps:d,slot:me,defaultTag:UX,features:$X,visible:b===0,name:"Dialog"}))))))))),Ie.createElement(G,null))}let VX="div";function HX(e,t){let r=_c(),{id:s=`headlessui-dialog-overlay-${r}`,...n}=e,[{dialogState:a,close:i}]=r0("Dialog.Overlay"),l=bn(t),c=Et(u=>{if(u.target===u.currentTarget){if(VK(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),i()}}),d=w.useMemo(()=>({open:a===0}),[a]);return Ks({ourProps:{ref:l,id:s,"aria-hidden":!0,onClick:c},theirProps:n,slot:d,defaultTag:VX,name:"Dialog.Overlay"})}let WX="div";function qX(e,t){let r=_c(),{id:s=`headlessui-dialog-backdrop-${r}`,...n}=e,[{dialogState:a},i]=r0("Dialog.Backdrop"),l=bn(t);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:a===0}),[a]);return Ie.createElement(Og,{force:!0},Ie.createElement(Dg,null,Ks({ourProps:{ref:l,id:s,"aria-hidden":!0},theirProps:n,slot:c,defaultTag:WX,name:"Dialog.Backdrop"})))}let GX="div";function KX(e,t){let r=_c(),{id:s=`headlessui-dialog-panel-${r}`,...n}=e,[{dialogState:a},i]=r0("Dialog.Panel"),l=bn(t,i.panelRef),c=w.useMemo(()=>({open:a===0}),[a]),d=Et(u=>{u.stopPropagation()});return Ks({ourProps:{ref:l,id:s,onClick:d},theirProps:n,slot:c,defaultTag:GX,name:"Dialog.Panel"})}let XX="h2";function YX(e,t){let r=_c(),{id:s=`headlessui-dialog-title-${r}`,...n}=e,[{dialogState:a,setTitleId:i}]=r0("Dialog.Title"),l=bn(t);w.useEffect(()=>(i(s),()=>i(null)),[s,i]);let c=w.useMemo(()=>({open:a===0}),[a]);return Ks({ourProps:{ref:l,id:s},theirProps:n,slot:c,defaultTag:XX,name:"Dialog.Title"})}let QX=Cs(zX),ZX=Cs(qX),JX=Cs(KX),eY=Cs(HX),tY=Cs(YX),Rl=Object.assign(QX,{Backdrop:ZX,Panel:JX,Overlay:eY,Title:tY,Description:MX});function rY(e=0){let[t,r]=w.useState(e),s=t0(),n=w.useCallback(c=>{s.current&&r(d=>d|c)},[t,s]),a=w.useCallback(c=>!!(t&c),[t]),i=w.useCallback(c=>{s.current&&r(d=>d&~c)},[r,s]),l=w.useCallback(c=>{s.current&&r(d=>d^c)},[r]);return{flags:t,addFlag:n,hasFlag:a,removeFlag:i,toggleFlag:l}}function sY(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function Vx(e,...t){e&&t.length>0&&e.classList.add(...t)}function Hx(e,...t){e&&t.length>0&&e.classList.remove(...t)}function nY(e,t){let r=Xo();if(!e)return r.dispose;let{transitionDuration:s,transitionDelay:n}=getComputedStyle(e),[a,i]=[s,n].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,f)=>f-u);return d}),l=a+i;if(l!==0){r.group(d=>{d.setTimeout(()=>{t(),d.dispose()},l),d.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&d.dispose()})});let c=r.addEventListener(e,"transitionend",d=>{d.target===d.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function aY(e,t,r,s){let n=r?"enter":"leave",a=Xo(),i=s!==void 0?sY(s):()=>{};n==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Or(n,{enter:()=>t.enter,leave:()=>t.leave}),c=Or(n,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),d=Or(n,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Hx(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Vx(e,...t.base,...l,...d),a.nextFrame(()=>{Hx(e,...t.base,...l,...d),Vx(e,...t.base,...l,...c),nY(e,()=>(Hx(e,...t.base,...l),Vx(e,...t.base,...t.entered),i()))}),a.dispose}function iY({immediate:e,container:t,direction:r,classes:s,onStart:n,onStop:a}){let i=t0(),l=Yy(),c=ma(r);qs(()=>{e&&(c.current="enter")},[e]),qs(()=>{let d=Xo();l.add(d.dispose);let u=t.current;if(u&&c.current!=="idle"&&i.current)return d.dispose(),n.current(c.current),d.add(aY(u,s.current,c.current==="enter",()=>{d.dispose(),a.current(c.current)})),d.dispose},[r])}function Aa(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let jm=w.createContext(null);jm.displayName="TransitionContext";var oY=(e=>(e.Visible="visible",e.Hidden="hidden",e))(oY||{});function lY(){let e=w.useContext(jm);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function cY(){let e=w.useContext(Em);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Em=w.createContext(null);Em.displayName="NestingContext";function Sm(e){return"children"in e?Sm(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function B3(e,t){let r=ma(e),s=w.useRef([]),n=t0(),a=Yy(),i=Et((m,x=li.Hidden)=>{let p=s.current.findIndex(({el:g})=>g===m);p!==-1&&(Or(x,{[li.Unmount](){s.current.splice(p,1)},[li.Hidden](){s.current[p].state="hidden"}}),a.microTask(()=>{var g;!Sm(s)&&n.current&&((g=r.current)==null||g.call(r))}))}),l=Et(m=>{let x=s.current.find(({el:p})=>p===m);return x?x.state!=="visible"&&(x.state="visible"):s.current.push({el:m,state:"visible"}),()=>i(m,li.Unmount)}),c=w.useRef([]),d=w.useRef(Promise.resolve()),u=w.useRef({enter:[],leave:[],idle:[]}),f=Et((m,x,p)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([g])=>g!==m)),t==null||t.chains.current[x].push([m,new Promise(g=>{c.current.push(g)})]),t==null||t.chains.current[x].push([m,new Promise(g=>{Promise.all(u.current[x].map(([y,v])=>v)).then(()=>g())})]),x==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>p(x)):p(x)}),h=Et((m,x,p)=>{Promise.all(u.current[x].splice(0).map(([g,y])=>y)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>p(x))});return w.useMemo(()=>({children:s,register:l,unregister:i,onStart:f,onStop:h,wait:d,chains:u}),[l,i,s,f,h,u,d])}function dY(){}let uY=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Xk(e){var t;let r={};for(let s of uY)r[s]=(t=e[s])!=null?t:dY;return r}function fY(e){let t=w.useRef(Xk(e));return w.useEffect(()=>{t.current=Xk(e)},[e]),t}let hY="div",U3=Mh.RenderStrategy;function mY(e,t){var r,s;let{beforeEnter:n,afterEnter:a,beforeLeave:i,afterLeave:l,enter:c,enterFrom:d,enterTo:u,entered:f,leave:h,leaveFrom:m,leaveTo:x,...p}=e,g=w.useRef(null),y=bn(g,t),v=(r=p.unmount)==null||r?li.Unmount:li.Hidden,{show:b,appear:_,initial:j}=lY(),[S,N]=w.useState(b?"visible":"hidden"),k=cY(),{register:E,unregister:C}=k;w.useEffect(()=>E(g),[E,g]),w.useEffect(()=>{if(v===li.Hidden&&g.current){if(b&&S!=="visible"){N("visible");return}return Or(S,{hidden:()=>C(g),visible:()=>E(g)})}},[S,g,E,C,b,v]);let A=ma({base:Aa(p.className),enter:Aa(c),enterFrom:Aa(d),enterTo:Aa(u),entered:Aa(f),leave:Aa(h),leaveFrom:Aa(m),leaveTo:Aa(x)}),F=fY({beforeEnter:n,afterEnter:a,beforeLeave:i,afterLeave:l}),M=kc();w.useEffect(()=>{if(M&&S==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,S,M]);let Y=j&&!_,L=_&&b&&j,G=(()=>!M||Y?"idle":b?"enter":"leave")(),oe=rY(0),ne=Et(z=>Or(z,{enter:()=>{oe.addFlag(vs.Opening),F.current.beforeEnter()},leave:()=>{oe.addFlag(vs.Closing),F.current.beforeLeave()},idle:()=>{}})),V=Et(z=>Or(z,{enter:()=>{oe.removeFlag(vs.Opening),F.current.afterEnter()},leave:()=>{oe.removeFlag(vs.Closing),F.current.afterLeave()},idle:()=>{}})),X=B3(()=>{N("hidden"),C(g)},k),ee=w.useRef(!1);iY({immediate:L,container:g,classes:A,direction:G,onStart:ma(z=>{ee.current=!0,X.onStart(g,z,ne)}),onStop:ma(z=>{ee.current=!1,X.onStop(g,z,V),z==="leave"&&!Sm(X)&&(N("hidden"),C(g))})});let R=p,K={ref:y};return L?R={...R,className:Ph(p.className,...A.current.enter,...A.current.enterFrom)}:ee.current&&(R.className=Ph(p.className,(s=g.current)==null?void 0:s.className),R.className===""&&delete R.className),Ie.createElement(Em.Provider,{value:X},Ie.createElement($K,{value:Or(S,{visible:vs.Open,hidden:vs.Closed})|oe.flags},Ks({ourProps:K,theirProps:R,defaultTag:hY,features:U3,visible:S==="visible",name:"Transition.Child"})))}function xY(e,t){let{show:r,appear:s=!1,unmount:n=!0,...a}=e,i=w.useRef(null),l=bn(i,t);kc();let c=Jy();if(r===void 0&&c!==null&&(r=(c&vs.Open)===vs.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,u]=w.useState(r?"visible":"hidden"),f=B3(()=>{u("hidden")}),[h,m]=w.useState(!0),x=w.useRef([r]);qs(()=>{h!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),m(!1))},[x,r]);let p=w.useMemo(()=>({show:r,appear:s,initial:h}),[r,s,h]);w.useEffect(()=>{if(r)u("visible");else if(!Sm(f))u("hidden");else{let b=i.current;if(!b)return;let _=b.getBoundingClientRect();_.x===0&&_.y===0&&_.width===0&&_.height===0&&u("hidden")}},[r,f]);let g={unmount:n},y=Et(()=>{var b;h&&m(!1),(b=e.beforeEnter)==null||b.call(e)}),v=Et(()=>{var b;h&&m(!1),(b=e.beforeLeave)==null||b.call(e)});return Ie.createElement(Em.Provider,{value:f},Ie.createElement(jm.Provider,{value:p},Ks({ourProps:{...g,as:w.Fragment,children:Ie.createElement($3,{ref:l,...g,...a,beforeEnter:y,beforeLeave:v})},theirProps:{},defaultTag:w.Fragment,features:U3,visible:d==="visible",name:"Transition"})))}function pY(e,t){let r=w.useContext(jm)!==null,s=Jy()!==null;return Ie.createElement(Ie.Fragment,null,!r&&s?Ie.createElement(Bg,{ref:t,...e}):Ie.createElement($3,{ref:t,...e}))}let Bg=Cs(xY),$3=Cs(mY),gY=Cs(pY),Pl=Object.assign(Bg,{Child:gY,Root:Bg});const tv={demo:{label:"Demo",color:"bg-blue-100 text-blue-800",icon:""},micro:{label:"Micro",color:"bg-green-100 text-green-800",icon:""},standard:{label:"Standard",color:"bg-purple-100 text-purple-800",icon:""},real:{label:"Real",color:"bg-orange-100 text-orange-800",icon:""},vip:{label:"VIP",color:"bg-yellow-100 text-yellow-800",icon:""}},rv={active:{label:"Activa",color:"bg-green-100 text-green-800",icon:_s},suspended:{label:"Suspendida",color:"bg-yellow-100 text-yellow-800",icon:ba},closed:{label:"Cerrada",color:"bg-red-100 text-red-800",icon:au}},yY=["1:50","1:100","1:200","1:300","1:400","1:500"],vY=["USD","EUR","GBP","JPY","AUD","CAD","CHF"],bY=["MetaTrader 4","MetaTrader 5","cTrader","TradingView"],gs=(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Ug=e=>new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),wY=e=>e>=200?"text-green-600":e>=100?"text-yellow-600":"text-red-600",z3=({type:e})=>{const t=tv[e];return o.jsxs("span",{className:Be("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.color),children:[o.jsx("span",{className:"mr-1",children:t.icon}),t.label]})},V3=({status:e})=>{const t=rv[e],r=t.icon;return o.jsxs("span",{className:Be("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.color),children:[o.jsx(r,{className:"w-3 h-3 mr-1"}),t.label]})},kY=({accounts:e})=>{const t=w.useMemo(()=>{const r=e.length,s=e.filter(l=>l.status==="active").length,n=e.reduce((l,c)=>l+c.balance,0),a=e.reduce((l,c)=>l+c.equity,0),i=e.reduce((l,c)=>l+c.profit_loss,0);return{totalAccounts:r,activeAccounts:s,totalBalance:n,totalEquity:a,totalProfitLoss:i,activePercentage:r>0?s/r*100:0}},[e]);return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Rr,{className:"h-8 w-8 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Cuentas"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.totalAccounts})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(_s,{className:"h-8 w-8 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Activas"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.activeAccounts}),o.jsxs("p",{className:"text-xs text-gray-500",children:[t.activePercentage.toFixed(1),"%"]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gn,{className:"h-8 w-8 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Balance Total"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:gs(t.totalBalance)})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Rr,{className:"h-8 w-8 text-indigo-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Equity Total"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:gs(t.totalEquity)})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:t.totalProfitLoss>=0?o.jsx(k5,{className:"h-8 w-8 text-green-600"}):o.jsx(w5,{className:"h-8 w-8 text-red-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"P&L Total"}),o.jsx("p",{className:Be("text-2xl font-semibold",t.totalProfitLoss>=0?"text-green-600":"text-red-600"),children:gs(t.totalProfitLoss)})]})]})})]})},_Y=({filters:e,onFiltersChange:t})=>{const r=w.useCallback((s,n)=>{t({...e,[s]:n})},[e,t]);return o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[o.jsx(To,{className:"h-5 w-5 mr-2"}),"Filtros"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),o.jsxs("div",{className:"relative",children:[o.jsx(ln,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Nmero de cuenta, cliente...",value:e.search,onChange:s=>r("search",s.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Cuenta"}),o.jsxs("select",{value:e.account_type,onChange:s=>r("account_type",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Todos los tipos"}),Object.entries(tv).map(([s,n])=>o.jsx("option",{value:s,children:n.label},s))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),o.jsxs("select",{value:e.status,onChange:s=>r("status",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Todos los estados"}),Object.entries(rv).map(([s,n])=>o.jsx("option",{value:s,children:n.label},s))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Lead"}),o.jsx("input",{type:"text",placeholder:"ID del lead",value:e.lead_id,onChange:s=>r("lead_id",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})},NY=({accounts:e,onView:t,onEdit:r,onDelete:s})=>e.length===0?o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay cuentas"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comienza creando una nueva cuenta de trading."})]})}):o.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuenta"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P&L"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltimo Login"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.account_number}),o.jsxs("div",{className:"text-sm text-gray-500",children:[n.platform,"  ",n.leverage]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.client_name}),o.jsx("div",{className:"text-sm text-gray-500",children:n.client_email})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(z3,{type:n.account_type})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:gs(n.balance,n.currency)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:gs(n.equity,n.currency)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:Be("text-sm font-medium",n.profit_loss>=0?"text-green-600":"text-red-600"),children:gs(n.profit_loss,n.currency)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(V3,{status:n.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.last_login?o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ni,{className:"h-4 w-4 mr-1"}),Ug(n.last_login)]}):"Nunca"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100",title:"Ver detalles",children:o.jsx($o,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>r(n),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded-full hover:bg-indigo-100",title:"Editar",children:o.jsx(Ao,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>s(n),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-100",title:"Eliminar",children:o.jsx(Fo,{className:"h-4 w-4"})})]})})]},n.id))})]})})}),Yk=({isOpen:e,onClose:t,account:r,onSuccess:s})=>{const[n,a]=w.useState({lead_id:"",client_name:"",client_email:"",account_type:"demo",platform:"MetaTrader 4",leverage:"1:100",currency:"USD",status:"active"}),[i,l]=w.useState({}),c=hs();Ie.useEffect(()=>{e&&(a(r?{lead_id:r.lead_id,client_name:r.client_name,client_email:r.client_email,account_type:r.account_type,platform:r.platform,leverage:r.leverage,currency:r.currency,status:r.status}:{lead_id:"",client_name:"",client_email:"",account_type:"demo",platform:"MetaTrader 4",leverage:"1:100",currency:"USD",status:"active"}),l({}))},[e,r]);const d=pt({mutationFn:ih.createTradingAccount,onSuccess:()=>{c.invalidateQueries({queryKey:["trading-accounts"]}),he.success("Cuenta creada exitosamente"),s(),t()},onError:x=>{he.error(x.message||"Error al crear la cuenta"),x.errors&&l(x.errors)}}),u=pt({mutationFn:({id:x,data:p})=>ih.updateTradingAccount(x,p),onSuccess:()=>{c.invalidateQueries({queryKey:["trading-accounts"]}),he.success("Cuenta actualizada exitosamente"),s(),t()},onError:x=>{he.error(x.message||"Error al actualizar la cuenta"),x.errors&&l(x.errors)}}),f=x=>{x.preventDefault(),l({}),r?u.mutate({id:r.id,data:n}):d.mutate(n)},h=(x,p)=>{a(g=>({...g,[x]:p})),i[x]&&l(g=>({...g,[x]:""}))},m=d.isPending||u.isPending;return o.jsx(Pl,{appear:!0,show:e,as:w.Fragment,children:o.jsxs(Rl,{as:"div",className:"relative z-50",onClose:t,children:[o.jsx(Pl.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),o.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:o.jsx(Pl.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:o.jsxs(Rl.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[o.jsx(Rl.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:r?"Editar Cuenta de Trading":"Nueva Cuenta de Trading"}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Lead *"}),o.jsx("input",{type:"number",value:n.lead_id,onChange:x=>h("lead_id",x.target.value),className:Be("w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",i.lead_id&&"border-red-300 focus:border-red-500 focus:ring-red-500"),required:!0}),i.lead_id&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.lead_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Cuenta *"}),o.jsx("select",{value:n.account_type,onChange:x=>h("account_type",x.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:Object.entries(tv).map(([x,p])=>o.jsx("option",{value:x,children:p.label},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Cliente *"}),o.jsx("input",{type:"text",value:n.client_name,onChange:x=>h("client_name",x.target.value),className:Be("w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",i.client_name&&"border-red-300 focus:border-red-500 focus:ring-red-500"),required:!0}),i.client_name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email del Cliente *"}),o.jsx("input",{type:"email",value:n.client_email,onChange:x=>h("client_email",x.target.value),className:Be("w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",i.client_email&&"border-red-300 focus:border-red-500 focus:ring-red-500"),required:!0}),i.client_email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.client_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma *"}),o.jsx("select",{value:n.platform,onChange:x=>h("platform",x.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:bY.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apalancamiento *"}),o.jsx("select",{value:n.leverage,onChange:x=>h("leverage",x.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:yY.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Moneda *"}),o.jsx("select",{value:n.currency,onChange:x=>h("currency",x.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:vY.map(x=>o.jsx("option",{value:x,children:x},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado *"}),o.jsx("select",{value:n.status,onChange:x=>h("status",x.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:Object.entries(rv).map(([x,p])=>o.jsx("option",{value:x,children:p.label},x))})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:m,children:m?o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ut,{size:"sm",className:"mr-2"}),r?"Actualizando...":"Creando..."]}):r?"Actualizar":"Crear"})]})]})]})})})})]})})},jY=({isOpen:e,account:t,onClose:r})=>t?o.jsx(Pl,{appear:!0,show:e,as:w.Fragment,children:o.jsxs(Rl,{as:"div",className:"relative z-50",onClose:r,children:[o.jsx(Pl.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),o.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:o.jsx(Pl.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:o.jsxs(Rl.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[o.jsxs(Rl.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 mb-6",children:["Detalles de la Cuenta: ",t.account_number]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informacin General"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Nmero de Cuenta:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.account_number})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Tipo:"}),o.jsx(z3,{type:t.account_type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Estado:"}),o.jsx(V3,{status:t.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Plataforma:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.platform})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Servidor:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.server})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Apalancamiento:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.leverage})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Moneda:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.currency})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informacin del Cliente"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Nombre:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.client_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Email:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.client_email})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"ID Lead:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.lead_id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Fecha de Creacin:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ug(t.created_at)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"ltimo Login:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.last_login?Ug(t.last_login):"Nunca"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informacin Financiera"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Balance:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.balance,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Equity:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.equity,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Margen:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.margin,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Margen Libre:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.free_margin,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Nivel de Margen:"}),o.jsxs("span",{className:Be("text-sm font-medium",wY(t.margin_level)),children:[t.margin_level.toFixed(2),"%"]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Estadsticas de Trading"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Nmero de Trades:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.trades_count})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"P&L Total:"}),o.jsx("span",{className:Be("text-sm font-medium",t.profit_loss>=0?"text-green-600":"text-red-600"),children:gs(t.profit_loss,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Comisiones:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.commission,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Swap:"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:gs(t.swap,t.currency)})]})]})]})]}),o.jsx("div",{className:"flex justify-end pt-6",children:o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cerrar"})})]})})})})]})}):null;function EY(){const[e,t]=w.useState({search:"",account_type:"",status:"",lead_id:""}),[r,s]=w.useState(1),[n,a]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(!1),[u,f]=w.useState(null),h=20,m=hs(),{data:x,isLoading:p,error:g}=tt({queryKey:["trading-accounts",e,r],queryFn:()=>ih.getTradingAccounts({...e,page:r,limit:h}),placeholderData:E=>E}),y=pt({mutationFn:ih.deleteTradingAccount,onSuccess:()=>{m.invalidateQueries({queryKey:["trading-accounts"]}),he.success("Cuenta eliminada exitosamente")},onError:E=>{he.error(E.message||"Error al eliminar la cuenta")}}),v=w.useCallback(E=>{f(E),d(!0)},[]),b=w.useCallback(E=>{f(E),l(!0)},[]),_=w.useCallback(E=>{window.confirm(`Ests seguro de que quieres eliminar la cuenta ${E.account_number}?`)&&y.mutate(E.id)},[y]),j=w.useCallback(E=>{t(E),s(1)},[]),S=w.useCallback(()=>{f(null)},[]),N=w.useMemo(()=>(x==null?void 0:x.data)||[],[x]),k=w.useMemo(()=>Math.ceil(((x==null?void 0:x.total)||0)/h),[x==null?void 0:x.total,h]);return g?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ba,{className:"mx-auto h-12 w-12 text-red-500"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Error al cargar las cuentas"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:g instanceof Error?g.message:"Ha ocurrido un error inesperado"})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cuentas de Trading"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Gestiona las cuentas de trading de tus clientes"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Nueva Cuenta"]})]})}),!p&&o.jsx(kY,{accounts:N}),o.jsx(_Y,{filters:e,onFiltersChange:j}),p?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ut,{size:"lg"})}):o.jsxs(o.Fragment,{children:[o.jsx(NY,{accounts:N,onView:v,onEdit:b,onDelete:_}),k>1&&o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",(r-1)*h+1," a ",Math.min(r*h,(x==null?void 0:x.total)||0)," de ",(x==null?void 0:x.total)||0," resultados"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>s(r-1),disabled:r<=1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsxs("span",{className:"px-3 py-2 text-sm font-medium text-gray-700",children:["Pgina ",r," de ",k]}),o.jsx("button",{onClick:()=>s(r+1),disabled:r>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})]}),o.jsx(Yk,{isOpen:n,onClose:()=>a(!1),onSuccess:S}),o.jsx(Yk,{isOpen:i,onClose:()=>l(!1),account:u,onSuccess:S}),o.jsx(jY,{isOpen:c,account:u,onClose:()=>d(!1)})]})})}const SY=[{value:"blue",label:"Azul",class:"bg-blue-500"},{value:"green",label:"Verde",class:"bg-green-500"},{value:"yellow",label:"Amarillo",class:"bg-yellow-500"},{value:"red",label:"Rojo",class:"bg-red-500"},{value:"purple",label:"Morado",class:"bg-purple-500"},{value:"indigo",label:"ndigo",class:"bg-indigo-500"},{value:"pink",label:"Rosa",class:"bg-pink-500"},{value:"gray",label:"Gris",class:"bg-gray-500"}];function CY(){var A,F,M,Y;const[e,t]=w.useState("states"),[r,s]=w.useState(!1),[n,a]=w.useState(!1),[i,l]=w.useState(null),[c,d]=w.useState(null),[u,f]=w.useState({name:"",color:"blue",icon:"",description:"",is_active:!0}),[h,m]=w.useState({from_state_id:0,to_state_id:0,name:"",description:"",requires_comment:!1,is_active:!0}),x=hs(),{data:p,isLoading:g}=tt({queryKey:["desk-states"],queryFn:async()=>{const L=await fetch("/api/states.php",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!L.ok)throw new Error("Error al cargar estados");return L.json()}}),{data:y,isLoading:v}=tt({queryKey:["state-transitions"],queryFn:async()=>{const L=await fetch("/api/state-transitions.php",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!L.ok)throw new Error("Error al cargar transiciones");return L.json()}}),b=pt({mutationFn:async L=>{const G=i?`/api/states.php?id=${i.id}`:"/api/states.php",ne=await fetch(G,{method:i?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(L)});if(!ne.ok)throw new Error("Error al guardar estado");return ne.json()},onSuccess:()=>{he.success(i?"Estado actualizado":"Estado creado"),s(!1),N(),x.invalidateQueries({queryKey:["desk-states"]})},onError:L=>{he.error(L.message||"Error al guardar estado")}}),_=pt({mutationFn:async L=>{const G=await fetch(`/api/states.php?id=${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!G.ok)throw new Error("Error al eliminar estado");return G.json()},onSuccess:()=>{he.success("Estado eliminado"),x.invalidateQueries({queryKey:["desk-states"]})},onError:L=>{he.error(L.message||"Error al eliminar estado")}}),j=pt({mutationFn:async L=>{const G=c?`/api/state-transitions.php?id=${c.id}`:"/api/state-transitions.php",ne=await fetch(G,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(L)});if(!ne.ok)throw new Error("Error al guardar transicin");return ne.json()},onSuccess:()=>{he.success(c?"Transicin actualizada":"Transicin creada"),a(!1),k(),x.invalidateQueries({queryKey:["state-transitions"]})},onError:L=>{he.error(L.message||"Error al guardar transicin")}}),S=pt({mutationFn:async L=>{const G=await fetch(`/api/state-transitions.php?id=${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!G.ok)throw new Error("Error al eliminar transicin");return G.json()},onSuccess:()=>{he.success("Transicin eliminada"),x.invalidateQueries({queryKey:["state-transitions"]})},onError:L=>{he.error(L.message||"Error al eliminar transicin")}}),N=()=>{f({name:"",color:"blue",icon:"",description:"",is_active:!0}),l(null)},k=()=>{m({from_state_id:0,to_state_id:0,name:"",description:"",requires_comment:!1,is_active:!0}),d(null)},E=L=>{l(L),f({name:L.name,color:L.color,icon:L.icon||"",description:L.description||"",is_active:L.is_active}),s(!0)},C=L=>{d(L),m({from_state_id:L.from_state_id,to_state_id:L.to_state_id,name:L.name,description:L.description||"",requires_comment:L.requires_comment,is_active:L.is_active}),a(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white flex items-center",children:[o.jsx(_5,{className:"w-8 h-8 mr-3 text-primary-600"}),"Gestin de Estados Dinmicos"]}),o.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-1",children:"Configura los estados y transiciones para tu mesa de trabajo"})]})}),o.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>t("states"),className:Be("py-2 px-1 border-b-2 font-medium text-sm transition-colors",e==="states"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300 dark:text-secondary-400 dark:hover:text-secondary-300"),children:"Estados"}),o.jsx("button",{onClick:()=>t("transitions"),className:Be("py-2 px-1 border-b-2 font-medium text-sm transition-colors",e==="transitions"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300 dark:text-secondary-400 dark:hover:text-secondary-300"),children:"Transiciones"})]})}),e==="states"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Estados Configurados"}),o.jsxs("button",{onClick:()=>{N(),l(null),s(!0)},className:"btn btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nuevo Estado"]})]}),g?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(wd,{className:"w-6 h-6 animate-spin text-secondary-400"})}):((A=p==null?void 0:p.data)==null?void 0:A.length)>0?o.jsx("div",{className:"grid gap-4",children:p.data.map(L=>o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:Be("w-4 h-4 rounded-full",`bg-${L.color}-500`)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white",children:L.name}),L.description&&o.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:L.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:Be("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",L.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:[L.is_active?o.jsx($o,{className:"w-3 h-3 mr-1"}):o.jsx(N5,{className:"w-3 h-3 mr-1"}),L.is_active?"Activo":"Inactivo"]}),o.jsx("button",{onClick:()=>E(L),className:"p-1 text-secondary-400 hover:text-secondary-600",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_.mutate(L.id),className:"p-1 text-red-400 hover:text-red-600",children:o.jsx(Fo,{className:"w-4 h-4"})})]})]})},L.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lM,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay estados configurados"})]})]}),e==="transitions"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Transiciones Configuradas"}),o.jsxs("button",{onClick:()=>{k(),d(null),a(!0)},className:"btn btn-primary",children:[o.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Nueva Transicin"]})]}),v?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(wd,{className:"w-6 h-6 animate-spin text-secondary-400"})}):((F=y==null?void 0:y.data)==null?void 0:F.length)>0?o.jsx("div",{className:"grid gap-4",children:y.data.map(L=>o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(uR,{className:"w-5 h-5 text-secondary-400"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white",children:L.name}),o.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Estado ",L.from_state_id,"  Estado ",L.to_state_id]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[L.requires_comment&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Requiere comentario"}),o.jsx("span",{className:Be("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",L.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:L.is_active?"Activa":"Inactiva"}),o.jsx("button",{onClick:()=>C(L),className:"p-1 text-secondary-400 hover:text-secondary-600",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>S.mutate(L.id),className:"p-1 text-red-400 hover:text-red-600",children:o.jsx(Fo,{className:"w-4 h-4"})})]})]})},L.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(wd,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),o.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay transiciones configuradas"})]})]}),r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:i?"Editar Estado":"Nuevo Estado"}),o.jsxs("form",{onSubmit:L=>{L.preventDefault(),b.mutate({...u,...i&&{id:i.id}})},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre *"}),o.jsx("input",{type:"text",value:u.name,onChange:L=>f({...u,name:L.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Color"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:SY.map(L=>o.jsxs("button",{type:"button",onClick:()=>f({...u,color:L.value}),className:Be("p-3 rounded-md border-2 transition-all",u.color===L.value?"border-primary-500 ring-2 ring-primary-200":"border-secondary-200 dark:border-secondary-600"),children:[o.jsx("div",{className:Be("w-6 h-6 rounded-full mx-auto",L.class)}),o.jsx("span",{className:"text-xs mt-1 block",children:L.label})]},L.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:u.description,onChange:L=>f({...u,description:L.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",rows:3})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:u.is_active,onChange:L=>f({...u,is_active:L.target.checked}),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Estado activo"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-ghost",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:b.isPending,className:"btn btn-primary",children:b.isPending?"Guardando...":"Guardar"})]})]})]})})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-4",children:c?"Editar Transicin":"Nueva Transicin"}),o.jsxs("form",{onSubmit:L=>{L.preventDefault(),j.mutate({...h,...c&&{id:c.id}})},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado Origen *"}),o.jsxs("select",{value:h.from_state_id,onChange:L=>m({...h,from_state_id:Number(L.target.value)}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",required:!0,children:[o.jsx("option",{value:0,children:"Seleccionar estado origen"}),(M=p==null?void 0:p.data)==null?void 0:M.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Estado Destino *"}),o.jsxs("select",{value:h.to_state_id,onChange:L=>m({...h,to_state_id:Number(L.target.value)}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",required:!0,children:[o.jsx("option",{value:0,children:"Seleccionar estado destino"}),(Y=p==null?void 0:p.data)==null?void 0:Y.map(L=>o.jsx("option",{value:L.id,children:L.name},L.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Nombre de la Transicin *"}),o.jsx("input",{type:"text",value:h.name,onChange:L=>m({...h,name:L.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:h.description,onChange:L=>m({...h,description:L.target.value}),className:"w-full px-3 py-2 border border-secondary-300 dark:border-secondary-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-secondary-700 dark:text-white",rows:3})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"requires_comment",checked:h.requires_comment,onChange:L=>m({...h,requires_comment:L.target.checked}),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"requires_comment",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Requiere comentario obligatorio"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"transition_active",checked:h.is_active,onChange:L=>m({...h,is_active:L.target.checked}),className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"}),o.jsx("label",{htmlFor:"transition_active",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Transicin activa"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-ghost",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:j.isPending,className:"btn btn-primary",children:j.isPending?"Guardando...":"Guardar"})]})]})]})})})]})}function TY(){const{user:e,isLoading:t,isAuthenticated:r}=pc(),{theme:s}=dm();return typeof document<"u"&&document.documentElement.classList.toggle("dark",s==="dark"),console.log("App render - user:",e,"isLoading:",t,"isAuthenticated:",r),t?(console.log("Mostrando loading spinner..."),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50 dark:bg-secondary-900",children:o.jsx(Ut,{size:"lg"})})):(console.log("Renderizando rutas principales..."),o.jsx("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900",children:o.jsxs(N6,{children:[o.jsxs(qt,{path:"/auth",element:o.jsx(FM,{}),children:[o.jsx(qt,{path:"login",element:o.jsx(LO,{})}),o.jsx(qt,{path:"register",element:o.jsx(DO,{})}),o.jsx(qt,{index:!0,element:o.jsx(N0,{to:"/auth/login",replace:!0})})]}),e?o.jsx(o.Fragment,{children:o.jsxs(qt,{path:"/",element:o.jsx(RM,{}),children:[o.jsx(qt,{index:!0,element:o.jsx(N0,{to:"/dashboard",replace:!0})}),o.jsx(qt,{path:"dashboard",element:o.jsx(II,{})}),o.jsx(qt,{path:"employee-summary",element:o.jsx(xK,{})}),o.jsx(qt,{path:"leads",element:o.jsx(JG,{})}),o.jsx(qt,{path:"leads/:id",element:o.jsx(sK,{})}),o.jsx(qt,{path:"leads/import",element:o.jsx(nK,{})}),o.jsx(qt,{path:"leads/wizard",element:o.jsx(lK,{})}),o.jsx(qt,{path:"users",element:o.jsx(vK,{})}),o.jsx(qt,{path:"roles",element:o.jsx(bK,{})}),o.jsx(qt,{path:"desks",element:o.jsx(wK,{})}),o.jsx(qt,{path:"/states",element:o.jsx(CY,{})}),o.jsx(qt,{path:"trading",element:o.jsx(EY,{})})]})}):o.jsx(qt,{path:"*",element:o.jsx(N0,{to:"/auth/login",replace:!0})}),o.jsx(qt,{path:"*",element:o.jsx(N0,{to:e?"/dashboard":"/auth/login",replace:!0})})]})}))}const AY=new sA({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});Wx.createRoot(document.getElementById("root")).render(o.jsx(Ie.StrictMode,{children:o.jsx(F6,{children:o.jsx(nA,{client:AY,children:o.jsx($8,{children:o.jsxs(U8,{children:[o.jsx(TY,{}),o.jsx(sF,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)",border:"1px solid var(--toast-border)"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})})})}));
//# sourceMappingURL=index-9c4040cd.js.map
